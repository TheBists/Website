(function(n,k){k.AdipoloIframeBurst&&(k.BridIframeBurst=!0);var h=k.BridIframeBurst?n.top:n,v=h.document;if(void 0===k.loadFromHost){var f=k.querySelector('script[src$="brid.min.js"]')||k.querySelector('script[src$="brid.min.dev.js"]')||k.querySelector('script[src$="brid.outstream.min.js"]')||k.querySelector('script[src$="brid.outstream.js"]')||k.querySelector('script[src$="adipolo.outstream.min.js"]');if(f){var d=f.getAttribute("src");var c=d.split("//")[1].split("/",2)}k.loadFromHost=d&&c?"cms.brid.tv"!==
n.location.hostname&&"dev.brid.tv"!==n.location.hostname&&"losmi.brid.tv"!==n.location.hostname||-1!==n.location.href.indexOf("previews")||-1!==n.location.href.indexOf("iframe")?c[0]:n.location.hostname:"services.brid.tv"}var a=n.Brid&&"function"===typeof n.Brid?n.Brid:function(e,l,c,f){var d=a.players,B=!1;"boolean"===typeof e&&(B=!0,e=l,l=c,c=f);a.log("Brid called on ",e,d,l,c,B);if("string"===typeof e)if(0===e.indexOf("#")&&(e=e.slice(1)),l){if(d[e])return d[e];var z=k.getElementById(e);if(B)if(z)k.BridIframeBurst&&
b.inIFrame()&&b.insertAfter(n.frameElement,z);else if(l.type="inslide",z=b.createElement("div",{className:"brid",itemprop:"video",itemscope:"true",itemtype:"http://schema.org/VideoObject"}),v&&v.body)v.body.appendChild(z);else{h.addEventListener("load",function(e){a.log("Brid document onload");v.body.appendChild(z);$bos(z,l,c)});return}}else{if(d[e])return d[e];throw new TypeError("--- BridPlayer --- The ID supplied is not valid.");}else{if(e.hasAttribute("id")&&d[e.id])return d[e.id];z=e}if(!z||
!z.nodeName)throw new TypeError("--- BridPlayer --- The element or ID supplied is not valid.");a.Util.hasClass(z,"brid")||a.Util.addClass(z,"brid");a.Util.elById.cache={};a.Util.elByTag.cache={};return!B&&a.Player?new a.Player(z,l,c):new a.OSPlayer(z,l,c)};"undefined"===typeof a.debug&&(a.debug=!1);n.$bp||(n.Brid=n.$bp=a);n.$bos||(n.$bos=a.bind(void 0,!0));"undefined"===typeof a.players&&(a.players={},a.plugins={},a.plugin=function(e,l){a.log("Add Plugin",e);a.plugins[e]=l});a.osconfig={VERSION:"2.7.171128",
autoplay:!1,volume:!0,fullscreen:!0,controls:!0,shareScreen:!0,playlistScreen:!0,controlsBehavior:"autoHide",videoPlayback:"endFrame",playlistPlayback:"stop",afterPlaylistEnd:"stop",configCacheDuration:12E5,preload:"none",defaultCSS:".brid,div.brid{background-color:#000;transition-duration:unset;}.brid svg,div.brid{margin:0;padding:0}.brid :focus,.brid-control:focus,div.brid{outline:0}div.brid{border:0;border-collapse:collapse;border-spacing:0;color:inherit;cursor:default;font-style:normal;font-weight:400;list-style:none;text-decoration:none;text-transform:none;text-align:left;vertical-align:baseline;white-space:normal;zoom:1;line-height:1;-moz-box-sizing:content-box!important;-webkit-box-sizing:content-box!important;box-sizing:content-box!important}.brid-button,.brid-poster,.brid-progress-holder,.brid-volume-bar{cursor:pointer!important}.brid,.brid-poster,.brid-poster img{vertical-align:middle}.brid{position:relative;padding:0;font-size:10px;overflow:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.brid [role=button]{-webkit-appearance:none!important}.brid *,.brid :after,.brid :before{-moz-box-sizing:content-box!important;-webkit-box-sizing:content-box!important;box-sizing:content-box!important;font-size:inherit}.brid svg{background:none!important;position:relative!important;font-size:10px}.brid .brid-tech,.brid-related,.brid-touch-overlay{position:absolute;top:0;left:0;right:0;width:100%!important;height:100%!important;margin:0;padding:0}.brid.brid-fs{position:fixed!important;top:0!important;left:0!important;right:0!important;width:100%!important;height:100%!important;margin:0!important;padding:0!important;z-index:1000}.brid-advert-container{position:absolute;top:0;left:0;right:0;width:100%;height:100%;margin:0;padding:0;z-index:0;direction:ltr;}.brid-dialog .brid-button,.brid-dialog-content,.brid-dialog-title,.brid-overlay-play-button,.brid-thumb-play{position:absolute;top:50%;left:50%}.brid-animate{-webkit-transition:all .6s cubic-bezier(.165,.84,.44,1);-moz-transition:all .6s cubic-bezier(.165,.84,.44,1);-o-transition:all .6s cubic-bezier(.165,.84,.44,1);transition:all .6s cubic-bezier(.165,.84,.44,1)}.brid .brid-tech-mini-left{top:1%;left:1%;right:70%;width:30%!important;height:30%!important}.brid .brid-tech-mini-right{top:1%;right:1%;left:70%;width:30%!important;height:30%!important}.brid:-moz-full-screen{position:absolute}.brid:-ms-fullscreen,.brid:-webkit-full-screen{width:100%!important;height:100%!important}body .brid-full-window{padding:0;margin:0;height:100%;overflow-y:auto;z-index:1000000}.brid-poster{position:relative;width:100%;height:100%;display:table-cell;margin:0 auto;padding:0;background-color:#000}.brid-poster img{display:block;margin:auto;width:100%!important;height:100%!important;background-color:#000}.brid-poster-title{width:100%;height:30px;position:absolute;top:0;background-color:#000;background-color:rgba(0,0,0,.4);z-index:2;pointer-events:none}.brid-control,.brid-volume-control{pointer-events:auto}.brid-poster-title div{position:absolute;top:.4em;left:.4em;right:.4em;text-align:left;color:#fff;overflow:hidden;white-space:nowrap;font-size:14px;height:15px;line-height:1em}.brid-overlay-play-button,.brid-overlay-play-button svg{width:6em;height:6em}.brid-overlay-play-button{margin:-3em 0 0 -3em}.brid-controls{z-index:3;position:absolute;line-height:1em}.brid.brid-fs .brid-controls{left:50%;bottom:2em}.brid-control{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;position:relative;float:left}.brid-button.over{opacity:.6!important}.bar-bracket,.brid-time-controls,.brid-volume-control,.level-bracket{float:left}.brid-volume-bar .bar-bracket{padding:0}.brid-volume-level{position:absolute}.brid-volume-bar .out{-moz-transition-delay:.2s;-webkit-transition-delay:.2s;-o-transition-delay:.2s;-ms-transition-delay:.2s;transition-delay:.2s;border:none;padding:0;line-height:1em}.brid-progress-control{position:absolute;opacity:0}.brid-progress-holder{position:relative;padding:0;margin:0;float:none!important}.brid-progress-holder .brid-load-progress,.brid-progress-holder .brid-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;left:0;top:0;float:none}.brid-scroller,.brid-seek-scrubber{position:absolute;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.brid-scroller{top:0;z-index:3}.brid-seek-scrubber{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-ms-backface-visibility:hidden;-o-backface-visibility:hidden;backface-visibility:hidden;z-index:2;left:0;top:50%}.brid-progress-holder .brid-scrubber-time{position:absolute;margin:0 0 0 -2.9em;bottom:150%;width:2.8em!important;height:1em!important;line-height:1em;background-color:#fff;padding:2px;color:#000;pointer-events:none}.brid-progress-holder .brid-scrubber-time:before{content:' ';position:absolute;width:0;height:0;right:2px;top:100%;border:2px solid;border-color:#fff #fff transparent transparent}.brid-brand,.brid-fullscreen-control{float:right}.brid-overlay-play-button{z-index:2}.brid-overlay-play-button svg{-webkit-backface-visibility:hidden}.brid-close{position:fixed;z-index:1000000}.brid-close,.brid-close svg{width:1.6em;height:1.6em}.brid-ad-info{display:none;width:100%;height:50px;position:absolute;top:-45px;background:0 0;pointer-events:none}.brid-ad-info div{position:relative;top:.7em;left:.7em;text-align:left;font-size:14px;color:#fff;text-shadow:1px 1px 6px rgba(0,0,0,1),1px 1px 6px rgba(0,0,0,1)}.brid-audio-button,.brid-banner-ad,.brid-banner-ad-bar,.brid-branding,.brid-dialog,.brid-sound-bar{position:absolute}.brid-dialog{top:0;left:0;width:100%;height:100%;z-index:5;background-color:#000;background-color:rgba(0,0,0,.6)}.brid-dialog-content,.brid-dialog-title{width:90%;height:2em;line-height:2em;font-weight:700;margin:-4em 0 0 -45%;text-align:center;color:#fff}.brid-dialog-content{margin:-2em 0 0 -45%}.brid-dialog.error{color:red}.brid-dialog.warning{color:#0384F9}.brid-banner-ad-info,.brid-banner-ad-timer{color:#fff;text-shadow:1px 1px 6px #000,1px 1px 4px #000}.brid-dialog .brid-button{width:45%;text-align:center;height:2em;line-height:2em}.brid-dialog .brid-dialog-ok{margin:0 0 0 -45%}.brid-dialog .brid-dialog-cancel{margin:0}.brid-touch .brid-controls,.brid-touch .brid-progress-control{left:0!important;right:0!important;margin:0!important;width:100%!important}.brid.brid-touch .brid-button{-webkit-tap-highlight-color:transparent}.brid.brid-touch .brid-ad-info{height:9.5em}.brid-poster-title.brid-fade-out{z-index:-2}.brid-branding{top:1em;left:1em}.brid-branding img{display:block;width:100%!important;height:auto!important}.brid-audio-indicator{position:absolute;bottom:5px;right:5px;width:15px;height:15px}.brid-audio-button,.brid-audio-button svg{width:30px;height:30px}.brid-audio-button{top:30px;left:5px;pointer-events:auto}.brid-sound-bar{background-color:#666;bottom:0;height:3px;width:4px;animation:brid-sound 0s .8s linear infinite alternate;-webkit-animation:brid-sound 0s .8s linear infinite alternate;-moz-animation:brid-sound 0s .8s linear infinite alternate;-o-animation:brid-sound 0s .8s linear infinite alternate}@-webkit-keyframes brid-sound{0%{height:3px}100%{height:14px}}@-moz-keyframes brid-sound{0%{height:3px}100%{height:14px}}@-o-keyframes brid-sound{0%{height:3px}100%{height:14px}}@keyframes brid-sound{0%{height:3px}100%{height:14px}}.brid-sound-bar:nth-child(1){left:1px;animation-duration:474ms;-webkit-animation-duration:474ms}.brid-sound-bar:nth-child(2){left:6px;animation-duration:433ms;-webkit-animation-duration:433ms}.brid-sound-bar:nth-child(3){left:11px;animation-duration:407ms;-webkit-animation-duration:407ms}.brid-banner-ad-timer{font-family:Arial;width:18px;line-height:18px!important;height:18px;position:fixed;text-align:center;font-size:16px!important}.brid-close-banner{width:16px;height:16px;}.brid-close-banner svg{width:16px;height:16px;-webkit-filter:drop-shadow( 1px 1px 2px #333 );filter:drop-shadow( 1px 1px 2px #333 )}.brid-banner-ad-bar{width:100%;height:30px}.brid-banner-ad-info{float:left;margin-left:10px;margin-top:8px;text-align:left;font-size:14px!important}",
Url:{service:"//"+k.loadFromHost,servicePlugins:"//"+(0==k.loadFromHost.indexOf("services")?"p.brid.tv":k.loadFromHost),cdn:"//cdn.brid.tv/"+("services.brid.tv"==k.loadFromHost||"cms.brid.tv"==k.loadFromHost?"live":"dev"),app:"/",plugins:"player/build/plugins/",video:"services/get/video/",dynamic:"services/get/",skin:"services/skin/",playlist:"services/get/playlist/",css:"player/build/css/",flash:"player/build/swf/"},children:{touch:{childClass:"TouchOverlay"},bufferIndicator:{},controls:{childClass:"OSControlBar"},
progressControl:{childClass:"ProgressControl"},Advertising:{},audioToggle:{childClass:"AudioToggle"},audioIndicator:{childClass:"AudioIndicator"},analytics:{childClass:"Analytics"},googleAnalytics:{},quantCast:{}},panelPlugins:{},controlsPlugins:{},techOrder:["html5","flash"],flash:{swf:"BridPlayer.swf"},Style:{id:"1",name:"brid.css",skinClass:"brid-default-skin"}};a.support={};a.pv={plugins:{adsdk:{files:["brid.adsdk.min.js","brid.adsdk.js"],version:"1.0.0"},adunit:{files:["adunit.js"],version:"1.0.0"},
branding:{files:["brid.branding.min.js"],version:"1.0.0"},ogv:{files:"ogv-codec.min.js ogv-decoder-audio-opus.js ogv-decoder-audio-vorbis.js ogv-decoder-video-theora.js ogv-decoder-video-vp8.js ogv-demuxer-ogg.js ogv-demuxer-webm.js ogv.js brid.ogv.min.js".split(" "),version:"1.0.0"},comscore:{files:["brid.comscore.min.js"],version:"1.0.0"},dash:{files:["brid.dash.min.js","dash.min.js"],version:"1.0.0"},exp:{files:["brid.exp.min.js"],version:"1.0.0"},ga:{files:["brid.ga.min.js"],version:"1.0.0"},
gima:{files:["brid.gima.min.js"],version:"1.0.0"},hls:{files:["brid.hls.min.js"],version:"1.0.0"},iab:{files:["brid.iab.min.js"],version:"1.0.0"},osadapter:{files:["brid.osadapter.min.js"],version:"1.0.0"},playlist:{files:["brid.playlist.min.js"],version:"1.0.0"},shortcuts:{files:["brid.shortcuts.min.js"],version:"1.0.0"},slideinview:{files:["brid.slideinview.min.js"],version:"1.0.0"},storyboard:{files:["brid.storyboard.min.js"],version:"1.0.0"},tracks:{files:["brid.tracks.min.js"],version:"1.0.0"},
veeps:{files:["brid.veeps.min.js"],version:"1.0.0"},vimeo:{files:["brid.vimeo.min.js"],version:"1.0.0"},yt:{files:["brid.yt.min.js"],version:"1.0.0"}}};n.Brid||a?a||(a=n.Brid):(a={},n.Brid=a);(function(){var e=!1;a.Class=function(){};a.Class.extend=function(a){function l(){!e&&this.init&&this.init.apply(this,arguments)}var b=this.prototype;e=!0;var c=new this;e=!1;for(var d in a){var f=a[d];"function"==typeof a[d]&&"function"==typeof b[d]&&(f.base=b[d]);c[d]=f}l.prototype=c;l.prototype.constructor=
l;l.extend=arguments.callee;return l}})();"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,a){void 0===a&&(a=0);0>a&&(a+=this.length);0>a&&(a=0);for(var l=this.length;a<l;a++)if(a in this&&this[a]===e)return a;return-1});"forEach"in Array.prototype||(Array.prototype.forEach=function(e,a){for(var l=0,b=this.length;l<b;l++)l in this&&e.call(a,this[l],l,this)});a.Util={removeParam:function(e,a){var l=a.split("?")[0];a=-1!==a.indexOf("?")?a.split("?")[1]:"";if(""!==a){var b=a.split("&");
for(var c=b.length-1;0<=c;--c)a=b[c].split("=")[0],a===e&&b.splice(c,1);l=l+"?"+b.join("&")}return l},waitDesktopSupportedPromise:function(e,l){a.log("POZIVAM wait",e,l);e?l():setTimeout(function(e){e.waitDesktopSupportedPromise(a.Util.autoplayDesktopSupportedPromise,l)},10,this)},newInstance:function(e){function a(){return b.apply(this,c)}var b="string"===typeof e?eval(e):e,c=Array.prototype.slice.call(arguments,1);a.prototype=b.prototype;return new a},merge:function(e,a,b){a||(a={});for(var l in a)!a.hasOwnProperty(l)||
b&&e.hasOwnProperty(l)||(e[l]=a[l]);return e},clone:function(e){if(null==e||"object"!=typeof e)return e;var a=e.constructor(),b;for(b in e)e.hasOwnProperty(b)&&(a[b]=e[b]);return a},deepCopy:function(e,a){a=a||{};for(var l in e)"object"===typeof e[l]?(a[l]=e[l].constructor===Array?[]:{},this.deepCopy(e[l],a[l])):a[l]=e[l];return a},move:function(e,a,b){for(;0>a;)a+=e.length;for(;0>b;)b+=e.length;if(b>=e.length)for(var l=b-e.length;l--+1;)e.push(void 0);e.splice(b,0,e.splice(a,1)[0]);return e},appendToArray:function(e,
a){a.forEach(function(a){e.push(a)})},isIE:function(){return"Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&null!=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)},isEdge:function(){return!!b.ua.match(/Edge\/\d+/)},isWP:function(){return!!b.ua.match(/Windows Phone/i)},ieVersion:function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var a=navigator.userAgent;var b=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=b.exec(a)&&(e=parseFloat(RegExp.$1))}else"Netscape"==
navigator.appName&&(a=navigator.userAgent,b=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=b.exec(a)&&(e=parseFloat(RegExp.$1)));return e},isFF:function(){return!!b.ua.match("Firefox")},isChrome:function(){return!!b.ua.match("Chrome")},chromeVersion:function(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):!1},isSafari:function(){return b.ua.match("Safari")&&!b.isChrome()&&!b.ua.match(/CriOS/i)||b.iOSWebView()},isiOSSafari:function(){return b.isSafari()&&b.isIOS()},
isIPad:function(){return null!==b.ua.match(/iPad/i)},isIPhone:function(){return null!==b.ua.match(/iPhone/i)},isMac:function(){return 0<=navigator.platform.toUpperCase().indexOf("MAC")},isIOS:function(){return b.isIPhone()||b.isIPad()},iOSVersion:function(){var e=b.ua.match(/OS (\d+)_/i);if(e&&e[1])return parseInt(e[1])},iOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(b.ua)},isAndroid:function(){return null!==b.ua.match(/android/i)},isOldAndroid:function(){return null!==
b.ua.match(/Android 2\.[12]/)},androidVersion:function(){var e=b.ua.match(/Android (\d+)\./i);if(e&&e[1])return e[1]},isMobilePlatform:function(){var e=!1,a=navigator.userAgent||navigator.vendor||n.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4)))e=!0;return e},isFacebookApp:function(){return-1<b.ua.indexOf("FBAN")||-1<b.ua.indexOf("FBAV")},isTwitterApp:function(){return-1<b.ua.indexOf("Twitter")},autoplaySupported:!1,checkVideoSource:"data:video/mp4;base64,AAAAFGZ0eXBNU05WAAACAE1TTlYAAAOUbW9vdgAAAGxtdmhkAAAAAM9ghv7PYIb+AAACWAAACu8AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAnh0cmFrAAAAXHRraGQAAAAHz2CG/s9ghv4AAAABAAAAAAAACu8AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAFAAAAA4AAAAAAHgbWRpYQAAACBtZGhkAAAAAM9ghv7PYIb+AAALuAAANq8AAAAAAAAAIWhkbHIAAAAAbWhscnZpZGVBVlMgAAAAAAABAB4AAAABl21pbmYAAAAUdm1oZAAAAAAAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAVdzdGJsAAAAp3N0c2QAAAAAAAAAAQAAAJdhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAFAAOABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAEmNvbHJuY2xjAAEAAQABAAAAL2F2Y0MBTUAz/+EAGGdNQDOadCk/LgIgAAADACAAAAMA0eMGVAEABGjuPIAAAAAYc3R0cwAAAAAAAAABAAAADgAAA+gAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAADgAAAAEAAABMc3RzegAAAAAAAAAAAAAADgAAAE8AAAAOAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA0AAAANAAAADQAAAA4AAAAOAAAAFHN0Y28AAAAAAAAAAQAAA7AAAAA0dXVpZFVTTVQh0k/Ou4hpXPrJx0AAAAAcTVREVAABABIAAAAKVcQAAAAAAAEAAAAAAAAAqHV1aWRVU01UIdJPzruIaVz6ycdAAAAAkE1URFQABAAMAAAAC1XEAAACHAAeAAAABBXHAAEAQQBWAFMAIABNAGUAZABpAGEAAAAqAAAAASoOAAEAZABlAHQAZQBjAHQAXwBhAHUAdABvAHAAbABhAHkAAAAyAAAAA1XEAAEAMgAwADAANQBtAGUALwAwADcALwAwADYAMAA2ACAAMwA6ADUAOgAwAAABA21kYXQAAAAYZ01AM5p0KT8uAiAAAAMAIAAAAwDR4wZUAAAABGjuPIAAAAAnZYiAIAAR//eBLT+oL1eA2Nlb/edvwWZflzEVLlhlXtJvSAEGRA3ZAAAACkGaAQCyJ/8AFBAAAAAJQZoCATP/AOmBAAAACUGaAwGz/wDpgAAAAAlBmgQCM/8A6YEAAAAJQZoFArP/AOmBAAAACUGaBgMz/wDpgQAAAAlBmgcDs/8A6YEAAAAJQZoIBDP/AOmAAAAACUGaCQSz/wDpgAAAAAlBmgoFM/8A6YEAAAAJQZoLBbP/AOmAAAAACkGaDAYyJ/8AFBAAAAAKQZoNBrIv/4cMeQ==",
isAutoplaySupported:function(){a.log("Util isAutoplaySupported");if(!b.autoplaySupported){var e=k.createElement("video");e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");e.playing=!1;e.autoplay=!0;e.muted=!0;e.src=this.checkVideoSource;e.load();e.play();a.log("Util isAutoplaySupported play");e.onplay=function(){a.log("Util isAutoplaySupported onplay");b.autoplaySupported=!0}}},isAutoplayWithSoundSupported:function(){a.log("Util isAutoplayWithSoundSupported");if(!b.autoplayWithSoundSupported){var e=
k.createElement("video");e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");e.playing=!1;e.autoplay=!0;e.muted=!1;e.src=this.checkVideoSource;e.load();a.log("Util isAutoplayWithSoundSupported play");e=e.play();void 0!==e&&e.then(function(){a.log("MOBILE SOUND ALLOWED");b.autoplayWithSoundSupported=!0}).catch(function(){a.log("MOBILE SOUND IS NOT ALLOWED")})}},isAutoplayDesktopSupported:function(){a.log("Util isAutoplayDesktopSupported");if(!b.autoplayDesktopSupported){b.autoplayDesktopSupportedPromise=
!1;var e=k.createElement("video");e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");e.playing=!1;e.autoplay=!0;e.muted=!1;e.src=this.checkVideoSource;e.load();e=e.play();a.log("Util isAutoplayDesktopSupported play");void 0!==e&&e.then(function(){a.log("AUTOPLAY DESKTOP ALLOWED");b.autoplayDesktopSupportedPromise=!0;b.autoplayDesktopSupported=!0}).catch(function(){b.autoplayDesktopSupportedPromise=!0;a.log("AUTOPLAY DESKTOP IS NOT ALLOWED")})}},hasTouch:function(){return"ontouchstart"in
n},inIFrame:function(){return n.self!==n.top},isNode:function(e){return e&&e.nodeType},isDev:function(){return-1!=k.loadFromHost.indexOf("dev-services.brid.tv")},adBlockerEnabled:!1,location:null,isDebug:function(){return b.isDebug.cache=b.isDebug.cache||a.debug||-1!=b.getEmbededUrl().indexOf("#BridEnableDebug")||"undefined"!=typeof n.BridChromePlugin&&n.BridChromePlugin.enableDebug},sendLogToMessage:function(){return-1!=b.getEmbededUrl().indexOf("#BridEnableMessageLog")},canUseVector:function(){return!!k.createElementNS&&
!!k.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},formatType:function(e,l){a.log("BUtil.formatType",l,e);return e&&!l?b.getTypeFromFile(e):l&&~l.indexOf(";")?l.substr(0,l.indexOf(";")):l},getTypeFromFile:function(e){var a=e,c=a.indexOf("?");-1<c&&a.lastIndexOf(".")<c&&(a=e.substring(0,a.indexOf("?")));a=a.substring(a.lastIndexOf(".")+1).toLowerCase();return!a||-1==e.indexOf(".")||-1==e.indexOf("http:")&&-1==e.indexOf("https:")&&0!=e.indexOf("//")?-1!=e.indexOf("rtmp:")||-1!=e.indexOf("rtmpt:")||
-1!=e.indexOf("rtmps:")||-1!=e.indexOf("rtmpe:")?"video/rtmp":11==e.length?"video/youtube":null:/(mpd|json)/gi.test(a)?"application/"+b.getTypeFromExtension(a):/m3u8/gi.test(a)?"application/x-mpegURL":(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov|f4m|smil)/gi.test(a)?"video":"audio")+"/"+b.getTypeFromExtension(a)},getTypeFromExtension:function(e){switch(e){case "mov":return"mov";case "smil":return"smil";case "m3u8":return"x-mpegurl";case "mpd":return"dash+xml";case "f4m":return"f4m";case "flv":case "f4v":return"flv";
case "mp4":case "m4v":return"mp4";case "webm":case "webma":case "webmv":return"webm";case "ogg":case "oga":case "ogv":return"ogg";default:return e}},getVideosByType:function(e,a){for(var l=[],c=0,d=e.length;c<d;c++)b.getTypeFromExtension(e[c])==a&&l.push(e[c]);return l},getJsonFromUrl:function(e){var a={};e.substring(e.indexOf("?")+1).split("&").forEach(function(e){e=e.split("=");a[e[0]]=decodeURIComponent(e[1])});return a},uc:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},testVid:k.createElement("video"),
nav:n.navigator,ua:n.navigator.userAgent,standalone:n.navigator.standalone,eachProp:function(e,a){if(e)for(var l in e)e.hasOwnProperty(l)&&a.call(this,l,e[l])},each:function(e,a){if(e&&0!==e.length)for(var l=0,b=e.length;l<b;l++)a.call(this,e[l],l)},find:function(e,a,b){var l=null;e.some(function(c,d){return a.call(b,c,d,e)?(l=c,!0):!1});return l},elById:function(e){b.elById.cache||(b.elById.cache={});return b.elById.cache[e]=b.elById.cache[e]||k.getElementById(e)},elByTag:function(e){b.elByTag.cache||
(b.elByTag.cache={});return b.elByTag.cache[e]=b.elByTag.cache[e]||k.getElementsByTagName(e)},createElement:function(e,a){e=k.createElement(e);for(var l in a)a.hasOwnProperty(l)&&(-1!==l.indexOf("-")||"role"==l||"title"==l?e.setAttribute(l,a[l]):e[l]=a[l]);return e},css:function(e,l,c,d){if(!e)return!1;e=e.el?e.el:e;if("object"===typeof l){if(!e.style)return!1;for(var f in l)b.isIE()||b.isEdge()||!e.style.setProperty?e.style[f]=l[f]:(d&&a.log("css",l),e.style.setProperty(f,l[f],d))}else{var B;e.currentStyle&&
!c?B=e.currentStyle[l]:n.getComputedStyle&&(B=b.getComputedStyleValue(e,l));return B||!1}},removeStyle:function(e,a){e.style.removeProperty?e.style.removeProperty(a):e.style.removeAttribute(a)},checkIfNodeExistsByURL:function(e,a){for(var l=k.getElementsByClassName("bridload"),b=l.length,c=0;c<b;c++)if(a){if(e===l[c].getAttribute("href"))return!0}else if(e===l[c].getAttribute("src"))return!0;return!1},getChildByClass:function(e,a){for(var l,b=0,c=e.childNodes.length;b<c;b++)for(var d=void 0!=e.childNodes[b].className?
e.childNodes[b].className.split(" "):[],f=0,g=d.length;f<g;f++)d[f]==a&&(l=e.childNodes[b]);return l},isChildOf:function(e,a){if(null!=a)for(;a.parentNode;)if((a=a.parentNode)==e)return!0;return!1},createCSS:function(e,a){var l=v||l;if(l.getElementById(a||"bridcss"))return null;var b=l.getElementsByTagName("head")[0],c=l.createElement("style");c.type="text/css";c.media="screen";c.id=a||"bridcss";c.styleSheet?c.styleSheet.cssText=e:c.appendChild(l.createTextNode(e));b.appendChild(c);return c},insertFirst:function(e,
a){a.firstChild?a.insertBefore(e,a.firstChild):a.appendChild(e)},insertAfter:function(e,a){e.parentNode.insertBefore(a,e.nextSibling)},hasClass:function(e,a){return-1<(" "+e.className+" ").indexOf(" "+a+" ")},addClass:function(e,a){e&&-1===(" "+e.className+" ").indexOf(" "+a+" ")&&(e.className=""===e.className?a:e.className+" "+a)},removeClass:function(e,a){if(e&&e.className&&-1!==e.className.indexOf(a)){var l=e.className.split(" ");l.splice(l.indexOf(a),1);e.className=l.join(" ")}},blockTextSelection:function(){k.body.focus();
k.onselectstart=function(){return!1}},unblockTextSelection:function(){k.onselectstart=function(){return!0}},generateSVG:function(e,a){if(!e)return"";var l=e.indexOf("Gradient id='"),b=e.indexOf("url(#"),c=k.getElementsByTagName("BASE"),d="";c&&0<c.length&&c[0].hasAttribute("href")&&(d=n.location.href);a&&-1!=l&&-1!=b&&(e=e.split("Gradient id='").join("Gradient id='"+a).split("url(#").join("url("+d+"#"+a));return"<span><svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' preserveAspectRatio='xMidYMid meet' viewBox='0 0 "+
e+"</svg></span>"},formatTime:function(e){var a=Math.floor(e%60),b=Math.floor(e/60%60);e=Math.floor(e/3600);return(0<e?e+":":"")+((10>b?"0"+b:b)+":")+(10>a?"0"+a:a)},getDate:function(){var e=new Date,a=e.getDate(),b=e.getMonth()+1;return e.getFullYear()+""+b+""+a},getRelativePosition:function(e,a){return Math.max(0,Math.min(1,(e-b.findPosX(a))/a.offsetWidth))},getComputedStyleValue:function(e,a){return k.defaultView.getComputedStyle(e,null).getPropertyValue(a)},getCaret:function(e){var a=0,b=e.ownerDocument||
e.document,c=b.defaultView||b.parentWindow;if("undefined"!=typeof c.getSelection){var d=c.getSelection();0<d.rangeCount&&(b=c.getSelection().getRangeAt(0),a=b.cloneRange(),a.selectNodeContents(e),a.setEnd(b.endContainer,b.endOffset),a=a.toString().length)}else(d=b.selection)&&"Control"!=d.type&&(a=d.createRange(),b=b.body.createTextRange(),b.moveToElementText(e),b.setEndPoint("EndToEnd",a),a=b.text.length);return a},trim:function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},validateString:function(e){e=
e.replace(/(<([^>]+)>)/ig,"");return e.replace(/\s/g,"").length?e:null},queryStringToObj:function(e){e=e.trim().replace(/^\?/,"");e=e.split("&");var a={};e.forEach(function(e){if(""!==e){var b=e.split("=");e=b[0];b=b[1];a[e]=b}});return a},objToQueryString:function(e){var a=[],b;for(b in e)e.hasOwnProperty(b)&&a.push(b+"="+e[b]);return a.join("&")},getAge:function(e){var a=new Date;e=new Date(e);var b=a.getFullYear()-e.getFullYear(),c=a.getMonth()-e.getMonth();(0>c||0===c&&a.getDate()<e.getDate())&&
b--;return b},hexRegex:/^#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,rgbRegex:/^rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*([10]?\.?\d*)\s*)?\)/,hslRegex:/^hsl\(\s*([\-|\d|\.]*)\s*,\s*([\d|\.]*)%\s*,\s*([\d|\.]*)%/,interpolate:function(e,a,c,d){var l=b.hslRegex;d=null!=d?d:0;e=e.match(l);a=a.match(l);var l=+a[1],f=+a[2];e=+e[3];a=(e-(e-+a[3])*c).toFixed(d);return[l/360,f/100,a/100]},rgbValues:function(e){var a=e.match(b.rgbRegex);if(a)return{r:parseInt(a[1]),g:parseInt(a[2]),
b:parseInt(a[3])};if(e=e.match(b.hexRegex))return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}},rgbToHsl:function(e,a,b){e/=255;a/=255;b/=255;var c=Math.max(e,a,b),l=Math.min(e,a,b),d=(c+l)/2;if(c==l)var f=l=0;else{var B=c-l,l=.5<d?B/(2-c-l):B/(c+l);switch(c){case e:f=(a-b)/B+(a<b?6:0);break;case a:f=(b-e)/B+2;break;case b:f=(e-a)/B+4}f/=6}return"hsl("+Math.floor(360*f)+", "+Math.floor(100*l)+"%, "+Math.floor(100*d)+"%)"},hslToRgb:function(a,b,c){function e(a,e,b){0>b&&(b+=1);1<b&&
--b;return b<1/6?a+6*(e-a)*b:.5>b?e:b<2/3?a+(e-a)*(2/3-b)*6:a}if(0===b)c=b=a=c;else{var l=.5>c?c*(1+b):c+b-c*b,d=2*c-l;c=e(d,l,a+1/3);b=e(d,l,a);a=e(d,l,a-1/3)}return"rgb("+Math.round(255*c)+", "+Math.round(255*b)+", "+Math.round(255*a)+")"},round:function(a,b){b||(b=0);return Math.round(a*Math.pow(10,b))/Math.pow(10,b)},isEmpty:function(a){for(var e in a)return!1;return!0},arrayLikeObjToArray:function(a){return Array.prototype.slice.call(a)},createTimeRange:function(a,b,c){return{length:c||1,start:function(){return a},
end:function(){return b}}},getEmbededUrl:function(){var a=n.location!=n.parent.location?k.referrer:k.location.href;""==a&&(a=this.getOrigin());return a},getOrigin:function(){return n.location.origin?n.location.origin:n.location.protocol+"//"+n.location.hostname+(n.location.port?":"+n.location.port:"")},nextID:1,cache:{},$f:function(e,c,d){c.id||(c.id=b.nextID++);var l=function(){var b=a.Util.arrayLikeObjToArray(arguments);return c.apply(e,b)};l.id=d?d+"_"+c.id:c.id;return l},setLocalStorage:function(e,
b,c){try{var l=n.localStorage||!1}catch(E){return 18==E.code?a.error("--- BridPlayer --- LocalStorage is blocked",E):a.error("--- BridPlayer --- LocalStorage Error",E),!1}c=c||6048E5;if(l)try{var d={value:JSON.stringify(b),timestamp:(new Date).getTime()+c};l.setItem(e,JSON.stringify(d))}catch(E){22==E.code||1014==E.code?a.error("--- BridPlayer --- LocalStorage Full",E):a.error("--- BridPlayer --- LocalStorage Error",E)}},getLocalStorage:function(e){try{var b=n.localStorage||!1}catch(z){return 18==
z.code?a.error("--- BridPlayer --- LocalStorage is blocked",z):a.error("--- BridPlayer --- LocalStorage Error",z),!1}if(!b)return!1;try{var c=JSON.parse(b.getItem(e));return c?(new Date).getTime()<c.timestamp&&JSON.parse(c.value):!1}catch(z){return 22==z.code||1014==z.code?a.error("--- BridPlayer --- LocalStorage Full",z):a.error("--- BridPlayer --- LocalStorage Error",z),!1}},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},unescapeHTML:function(a){if(a){var e=
k.createElement("div");e.innerHTML=a;return e.firstChild.nodeValue}return""},truncate:function(a,b){a.length>b&&(a=a.substring(0,b),a+="...");return a},safeTrunc:function(a,b){a.length>b&&(a=a.substr(0,b),-1!=a.indexOf(" ")&&(a=a.substr(0,a.lastIndexOf(" "))),a+="...");return a},absolutizeUrl:function(a){var e=k.createElement("div");e.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return e.firstChild.href},removeSwf:function(a){if(b.isIE())q(a,{display:"none"}),function(){4==a.readyState?b.removeObjectInIE(a):
setTimeout(arguments.callee,10)}();else{var e=a.parentNode;!e.player&&e.parentNode.player?e.parentNode.removeChild(e):a.parentNode.removeChild(a)}},removeObjectInIE:function(a){if(a){for(var e in a)"function"==typeof a[e]&&(a[e]=null);a.parentNode.removeChild(a)}},onKeyPress:function(e){b.stopEvent(e);switch(e.which){case 37:a.SeekBar.stepBack();break;case 39:a.SeekBar.stepForward();break;case 40:a.VolumeBar.stepBack();break;case 38:a.VolumeBar.stepForward();break;case 32:a.PlayToggle.onClick()}},
stopEvent:function(a){a||(a=n.event);a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();return!1},checkNested:function(a,b){b=b.split(".");for(var e=b.length,c=0;c<e;c++){var d=b[c];if(null!==a&&"object"===typeof a&&d in a)a=a[d];else return!1}return!0},randomInt:function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},shuffle:function(a){for(var e=a.length,b,c;0!==e;)c=Math.floor(Math.random()*e),--e,b=a[e],a[e]=a[c],a[c]=b;return a},diffArray:function(a,
b){var e=[],c=[],d;if(!b.length)return a;if(!a.length)return b;for(d=0;d<b.length;d++)e[b[d]]=!0;for(d=0;d<a.length;d++)e[a[d]]||c.push(a[d]);return c},throttle:function(a,b,c){b||(b=250);var e,d;return function(){var f=c||this,l=+new Date,z=arguments;e&&l<e+b?(clearTimeout(d),d=setTimeout(function(){e=l;a.apply(f,z)},b)):(e=l,a.apply(f,z))}},validateURL:function(a){return!!/^((f|ht)tps?:)?\/\//i.test(a)},checkPlaying:function(){var e=a.players,b;for(b in e)if(e.hasOwnProperty(b)&&(e[b].waitingForAd||
e[b].isVideoOrAdPlaying()&&!e[b].paused()))return!0;return!1},getClosestToCenter:function(){var e=h.innerHeight,b=null,c=h.innerHeight/2,d=a.players,f;for(f in d)if(d.hasOwnProperty(f)){var g=d[f],m=h.pageYOffset||v.body.scrollTop,k=g.el.offsetHeight,m=a.findPosY(g.el)+k/2-m;e>Math.abs(m-c)&&(e=Math.abs(m-c),b=g)}return b},getFixedHeadHeight:function(){function a(a){return a&&"fixed"===b.css(a,"position")&&"none"!==b.css(a,"display")}var c=0,d=function(){var e=v.getElementsByTagName("header")[0],
b=[],c=[];a(e)&&b.push(e);b&&0!==b.length||(b=[],c=Array.prototype.slice.call(v.getElementsByTagName("div")),b=b.concat(c.filter(function(e){return(e.className&&-1<e.className.indexOf("head")||e.id&&-1<e.id.indexOf("head"))&&a(e)})));return b}();d&&0<d.length&&d.forEach(function(a){10<a.offsetHeight&&(c+=a.offsetHeight)});return c}};(function(){function e(e){var d=c[e];a[e]=function(){if(d&&b.isDebug()){if(b.sendLogToMessage()){var e=Array.prototype.slice.apply(arguments).join(" ");a.Loader.loadText("https://sqs.us-west-2.amazonaws.com/504171970734/player_debug.fifo?Action=SendMessage&MessageBody="+
encodeURIComponent(e)+"&AUTHPARAMS&MessageGroupId=Brid&MessageDeduplicationId="+((new Date).getTime()+parseInt(1E4*Math.random())))}d.apply?d.apply(c,arguments):(e=Array.prototype.slice.apply(arguments).join(" "),d(e))}}}var c=n.console;if(c)for(var d=["log","warn","error"],f=0;f<d.length;f++)e(d[f])})();a.logElement=null;a.exLog=function(){if(a.logElement&&("string"==typeof a.logElement&&(a.logElement=b.elById(a.logElement)),a.logElement)){var e=Array.prototype.slice.call(arguments).join(" ");a.logElement.innerHTML+=
"<br>"+e}};"getBoundingClientRect"in k.documentElement?(a.findPosX=function(a){try{var e=a.getBoundingClientRect()}catch(B){}if(!e)return 0;a=v.body;return e.left+(h.pageXOffset||a.scrollLeft)-(v.documentElement.clientLeft||a.clientLeft||0)},a.findPosY=function(a){try{var e=a.getBoundingClientRect()}catch(B){}if(!e)return 0;a=v.body;return e.top+(h.pageYOffset||a.scrollTop)-(v.documentElement.clientTop||a.clientTop||0)}):(a.findPosX=function(a){for(var e=a.offsetLeft;a=a.offsetParent;)e+=a.offsetLeft;
return e},a.findPosY=function(a){for(var e=a.offsetTop;a=a.offsetParent;)e+=a.offsetTop;return e});a.XD={postMessage:function(e,b,c){b&&(e="Brid|"+e,c=c||parent,n.postMessage?c.postMessage(e,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&a.error("--- Brid Player --- This browser doesn't support cross-domain messaging!"))},receiveMessage:function(e,b){var c;n.postMessage?(e&&(c=function(a){if("string"===typeof b&&"*"!=b&&a.origin!==b||"[object Function]"===Object.prototype.toString.call(b)&&!1===b(a.origin)||
"string"!==typeof a.data||-1==a.data.indexOf("Brid"))return!1;e(a)}),e?a.event.add(n,"message",c,!1):a.event.removeAll(n)):a.error("--- Brid Player --- This browser doesn't support cross-domain messaging!")}};var b=a.Util,g=b.createElement,p=b.isMobilePlatform,t=b.canUseVector,u=b.$f,q=b.css;b.isMobilePlatform()&&b.isAutoplaySupported()&&b.isAutoplayWithSoundSupported();!b.isMobilePlatform()&&b.isAutoplayDesktopSupported();f=function(){function e(){this._listeners=[]}e.prototype={add:function(a,c,
d,f){if(!a||!c||!d)return null;if("string"==typeof c||c instanceof String)c=[c];"undefined"===typeof d.id&&(d.id=b.nextID++);for(var l=0,g=c.length;l<g;l++){var m={target:a,type:c[l],listener:d,useCapture:f};this._listeners.push(m);e.addEventListener_(m)}},once:function(e,c,d,f){function l(){c.forEach(function(b){a.event.remove(e,b,l)});d.apply(null,arguments)}if("string"==typeof c||c instanceof String)c=[c];"undefined"===typeof l.id&&(l.id=b.nextID++);c.forEach(function(b){a.event.add(e,b,l,f)})},
remove:function(a,b,c){if(!a||!b||!c)return null;if("string"==typeof b||b instanceof String)b=[b];for(var d=0,f=b.length;d<f;d++)this._listeners=this._listeners.filter(function(f){return f.target==a&&f.type==b[d]&&f.listener.id==c.id?(e.removeEventListener_(f),!1):!0})},get:function(a,e){return a?a:e},trigger:function(e,b,c,d){"string"===typeof b&&(b={type:b});b.target||(b.target=e);if(!b.type)throw Error("Event object missing 'type' property.");b.data=c;if(d){b.bubbles=d;d=e;for(var f=[];d;)f.unshift(d),
d=d.parentNode,a.event.trigger(d,b,c,!1)}this._listeners.filter(function(c){if(c.target==e&&c.type==b.type&&c.listener)try{c.listener.call(e,b)}catch(G){a.log(e,c.listener),a.error("Brid event callback error",G.message)}})},removeAll:function(a){this._listeners=this._listeners.filter(function(b){return b.target==a?(e.removeEventListener_(b),!1):!0})}};e.addEventListener_=function(e){e.target.addEventListener?e.target.addEventListener(e.type,e.listener,e.useCapture):e.target.attachEvent?e.target.attachEvent("on"+
e.type,function(b){b=a.event.get(b,e);listener(b)}):e.target["on"+e.type]=e.listener};e.removeEventListener_=function(a){a.target.removeEventListener?a.target.removeEventListener(a.type,a.listener,a.useCapture):a.target.detachEvent?a.target.detachEvent("on"+a.type,a.listener):a.target["on"+a.type]=null};return e}();a.event||(a.event=new f);var m=a.event;void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});(function(a){!1==="performance"in a&&(a.performance={});Date.now=Date.now||function(){return(new Date).getTime()};
if(!1==="now"in a.performance){var e=a.performance.timing&&a.performance.timing.navigationStart?a.performance.timing.navigationStart:Date.now();a.performance.now=function(){return Date.now()-e}}var b;var c=a.requestAnimationFrame;var d=["webkit","moz","o","ms"];var f=0;for(b=d.length;f<b;f++){var g=d[f];null==c&&(c=a[g+"RequestAnimationFrame"])}if(null==c){var m=0;var k=null;c=function(e){if(null!=k)k.push(e);else{var b=a.performance.now?a.performance.now():Date.now();var c=Math.max(0,16.66-(b-m));
k=[e];m=b+c;setTimeout(function(){var a;var e=k;k=null;var b=0;for(a=e.length;b<a;b++){var c=e[b];c(m)}},c)}}}a.requestAnimationFrame=c})(h);a.Tweener=function(){var e=[];return{REVISION:"14",tween:function(e,b,c,d){return(new a.Tweener.Tween(e)).to(c,b).easing(d).start()},getAll:function(){return e},removeAll:function(){e=[]},add:function(a){e.push(a)},remove:function(a){a=e.indexOf(a);-1!==a&&e.splice(a,1)},update:function(b){h.requestAnimationFrame(a.Tweener.update);if(0===e.length)return!1;var c=
0;for(b=void 0!==b&&h.performance.timing?b:h.performance.now();c<e.length;)e[c].update(b)?c++:(e[c]=null,e.splice(c,1));return!0}}}();a.Tweener.Util={CSSproperties:"opacity top left right bottom width height marginLeft marginTop marginBottom marginRight".split(" "),units:"px % in cm mm pt pc em ex".split(" ")};a.Tweener.Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*
a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return--a*a*a*a*a+1},InOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},
InOut:function(a){return.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return 0===a?0:Math.pow(1024,a-1)},Out:function(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){var e=.1;if(0===a)return 0;
if(1===a)return 1;if(!e||1>e){e=1;var b=.1}else b=.4*Math.asin(1/e)/(2*Math.PI);return-(e*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4))},Out:function(a){var e=.1;if(0===a)return 0;if(1===a)return 1;if(!e||1>e){e=1;var b=.1}else b=.4*Math.asin(1/e)/(2*Math.PI);return e*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/.4)+1},InOut:function(a){var e=.1;if(0===a)return 0;if(1===a)return 1;if(!e||1>e){e=1;var b=.1}else b=.4*Math.asin(1/e)/(2*Math.PI);return 1>(a*=2)?-.5*e*Math.pow(2,10*--a)*Math.sin(2*(a-
b)*Math.PI/.4):e*Math.pow(2,-10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*.5+1}},Back:{In:function(a){return a*a*(2.70158*a-1.70158)},Out:function(a){return--a*a*(2.70158*a+1.70158)+1},InOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},Bounce:{In:function(e){return 1-a.Tweener.Easing.Bounce.Out(1-e)},Out:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},
InOut:function(e){return.5>e?.5*a.Tweener.Easing.Bounce.In(2*e):.5*a.Tweener.Easing.Bounce.Out(2*e-1)+.5}}};a.Tweener.Tween=a.Class.extend({object:null,valuesStart:null,valuesEnd:null,valuesStartRepeat:null,duration:1E3,repeat:0,yoyo:!1,isPlaying:!1,isCSS:!1,reversed:!1,delayTime:0,startTime:null,easingFunction:a.Tweener.Easing.Linear.None,chainedTweens:[],onStartCallback:null,onStartCallbackFired:!1,onUpdateCallback:null,onCompleteCallback:null,onStopCallback:null,init:function(a){this.valuesStart||
(this.valuesStart={});this.object||(this.object=a)},to:function(e,b){for(var c in e)if(-1!==a.Tweener.Util.CSSproperties.indexOf(c)){this.isCSS=!0;break}for(var d in e)this.valuesStart[d]=parseFloat(this.object[d]);void 0!==b&&(this.duration=b);this.valuesEnd=e;return this},start:function(e){this.valuesStartRepeat||(this.valuesStartRepeat={});this.isPlaying=!0;this.onStartCallbackFired=!1;this.startTime=void 0!==e?e:h.performance.now?h.performance.now():Date.now();this.startTime+=this.delayTime;for(var b in this.valuesEnd){if(this.valuesEnd[b]instanceof
Array){if(0===this.valuesEnd[b].length)continue;this.valuesEnd[b]=[this.object[b]].concat(this.valuesEnd[b])}this.valuesStart[b]=this.isCSS?"undefined"!=typeof this.object.style?this.object.style[b]:this.object.el.style[b]||0:this.object[b]||0;this.valuesStartRepeat[b]=this.valuesStart[b]||0}a.Tweener.add(this);return this},stop:function(){if(!this.isPlaying)return this;a.Tweener.remove(this);this.isPlaying=!1;null!==this.onStopCallback&&this.onStopCallback.call(this.object);this.stopChainedTweens();
return this},stopChainedTweens:function(){for(var a=0,b=this.chainedTweens.length;a<b;a++)this.chainedTweens[a].stop()},delay:function(a){this.delayTime=a;return this},setRepeat:function(a){this.repeat=a;return this},setYoyo:function(a){this.yoyo=a;return this},easing:function(a){this.easingFunction=a;return this},chain:function(){this.chainedTweens=arguments;return this},onStart:function(a){this.onStartCallback=a;return this},onUpdate:function(a){this.onUpdateCallback=a;return this},onComplete:function(a){this.onCompleteCallback=
a;return this},onStop:function(a){this.onStopCallback=a;return this},update:function(b){if(b<this.startTime)return!0;!1===this.onStartCallbackFired&&(null!==this.onStartCallback&&this.onStartCallback.call(this.object),this.onStartCallbackFired=!0);var e=(b-this.startTime)/this.duration,e=1<e?1:e,c=this.easingFunction(e);for(h in this.valuesEnd){var d=parseFloat(this.valuesStart[h])||0,f=this.valuesEnd[h],g="";if("string"===typeof f){for(var m=0,k=a.Tweener.Util.units.length;m<k;m++)if(-1!=f.indexOf(a.Tweener.Util.units[m])){g=
a.Tweener.Util.units[m];break}f=parseFloat(f)}if("number"===typeof f)if(d+=(f-d)*c,this.isCSS)if("undefined"!=typeof this.object.style)this.object.style[h]=d+g;else if(this.object.el)this.object.el.style[h]=d+g;else{this.stop();return}else this.object[h]=d}null!==this.onUpdateCallback&&this.onUpdateCallback.call(this.object,c);if(1==e)if(0<this.repeat){isFinite(this.repeat)&&this.repeat--;for(h in this.valuesStartRepeat)"string"===typeof this.valuesEnd[h]&&(this.valuesStartRepeat[h]+=parseFloat(this.valuesEnd[h])),
this.yoyo&&(e=this.valuesStartRepeat[h],this.valuesStartRepeat[h]=this.valuesEnd[h],this.valuesEnd[h]=e),this.valuesStart[h]=this.valuesStartRepeat[h];this.yoyo&&(this.reversed=!this.reversed);this.startTime=b+this.delayTime}else{this.isPlaying=!1;null!==this.onCompleteCallback&&this.onCompleteCallback.call(this.object);var h=0;for(e=this.chainedTweens.length;h<e;h++)this.chainedTweens[h].start(b);return!1}return!0}});var w=a.Tweener.tween,A=a.Tweener.Tween,x=a.Tweener.Easing;h.requestAnimationFrame(a.Tweener.update);
a.Abstract=a.Class.extend({init:function(a,c){this.player=a;a=b.deepCopy(this.default);this.config=b.merge(a||{},c);delete this.default;this.children=[];this.initObjects()},initObjects:function(){var a=this.config;a&&a.children&&this.eachProp(a.children,function(a,b){if(null!=b){var e=this.$f(function(){this[a]=this.addChild(a,b)});b.loadEvent?this.addOnce(b.loadEvent,e):e()}})},addChild:function(a,c){if("string"===typeof a){c=c||{};a=c.childClass||b.uc(a);c.name=a;var e=c.scope||this.config.scope||
"Brid";if("undefined"==typeof n[e][a])return null;a=new n[e][a](this.player||this,c)}else"undefined"!=typeof a.config.name&&(this[a.config.name]=a);this.children&&this.children.push(a);if(!a)return null;this.el&&a.el&&this.el.appendChild(a.el);return a},removeChild:function(a){if(a&&this.children){for(var b=!1,e=this.children.length-1;0<=e;e--)if(this.children[e]===a){b=!0;this.children.splice(e,1);"undefined"!=typeof a.config.name&&this[a.config.name]&&delete this[a.config.name];break}b&&(a=a.el,
this.el&&a&&a.parentNode===this.el&&(this.el.removeChild(a),m.removeAll(a)))}},removeAllChildren:function(){var a=this.el;if(this.children){for(var b=this.children.length-1;0<=b;b--)this.children[b].config&&void 0!=this.children[b].config.name&&this[this.children[b].config.name]&&delete this[this.children[b].config.name];this.children=[];if(a)for(;a.lastChild;)a.removeChild(a.lastChild),m.removeAll(a.lastChild)}},destroy:function(){if(this.children)for(var a=this.children.length-1;0<=a;a--)this.children[a].destroy&&
this.children[a].destroy();this.removeAll();this.removeAllChildren();this.children=null;this.el&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null)},add:function(a,b){return m.add(this.el||this,a,b)},remove:function(a,b){return m.remove(this.el||this,a,b)},trigger:function(a,b,c){return m.trigger(this.el||this,a,b,c)},removeAll:function(){m.removeAll(this.el);m.removeAll(this)},addOnce:function(a,b){return m.once(this.el||this,a,b)},ready:function(a,b){if(!a)return this;this.isReady?
a.call(this):("undefined"===typeof this.readyQueue&&(this.readyQueue=[]),b?this.readyQueue.unshift(a):this.readyQueue.push(a));return this},triggerReady:function(){a.log("Abstract triggerReady",this.name);this.isReady=!0;this.trigger("ready",this);this.readyQueue&&0<this.readyQueue.length&&(this.each(this.readyQueue,function(a){a.called||(a.called=!0,a.call(this))}),this.readyQueue=[])},each:function(a,c){b.each.call(this,a,c)},eachProp:function(a,c){b.eachProp.call(this,a,c)},extend:function(a){b.merge(this,
a)},$f:function(a,b){return u(this,a,b)}});a.Sprite=a.Abstract.extend({init:function l(a,b){l.base.call(this,a,b);this.oldH=this.oldW=null;this.visibility=!0;this.size={w:this.oldW,h:this.oldH};this.fOT=(new A(this)).to({opacity:0},400).easing(x.Quadratic.In);this.fIT=(new A(this)).to({opacity:1},300).easing(x.Quadratic.Out)},testIfInDOM:function(a){setTimeout(this.$f(function(){k.body.contains(this.el)?a():this.testIfInDOM()},50))},initObjects:function B(){this.el||(this.el=this.config.el?this.config.el:
this.createElement());B.base.call(this)},destroy:function z(){z.base.call(this);this.fOT&&(this.fOT.stop(),this.fOT=null);this.fIT&&(this.fIT.stop(),this.fIT=null)},createElement:function(c,d){t()&&a.Util.checkNested(this,"player.config.Skin."+this.config.name)&&this.player.config.Skin[this.config.name]&&void 0==d.innerHTML&&(d.innerHTML=b.generateSVG(this.player.config.Skin[this.config.name],this.player.id));return g(c||"div",d)},appendClassName:function(){return""},show:function(){this.visibility=
!0;this.css({display:"block"})},hide:function(){this.visibility=!1;this.css({display:"none"})},addClass:function(a){b.addClass(this.el,a)},removeClass:function(a){b.removeClass(this.el,a)},fadeIn:function(){this.fOT.stop();this.fIT.start();return this.fIT},fadeOut:function(){this.fIT.stop();this.fOT.start();return this.fOT},lockShowing:function(){this.css({display:"block",opacity:1,visibility:"visible"})},unlockShowing:function(){this.css({display:"",opacity:"",visibility:""})},visible:function(a){this.visibility=
a;this.css({display:!0===a?"block":"none"})},tween:function(a,b,c,d){return w(a,b,c,d)},css:function(a,b,c){return q(this.el,a,b,c)},width:function(a){a&&this.css({width:a+"px"});return this.el.offsetWidth},height:function(a){a&&this.css({height:a+"px"});return this.el.offsetHeight},rescale:function(a,c){if(!this.el)return null;var d=this.oldW=this.oldW&&!0!==a?this.oldW:this.el.offsetWidth;a=this.oldH=this.oldH&&!0!==a?this.oldH:this.el.offsetHeight;if(!(d&&a&&this.player&&this.player.el))return null;
this.resized=!0;var f=this.player.el.offsetWidth/(c+.1*c),f=1>f?f:1;b.hasTouch()&&(f+=.5*(1-f));this.scale=f;c&&this.player.el.offsetWidth<=c?(c=Math.round(d*f),d=Math.round(a*f)):(c=d,d=a);this.css({width:c+"px",height:d+"px"});this.size={w:c,h:d};this.setSVGSize(c,d);return this.size},setSVGSize:function(a,b){var c=this.el.children[0].children[0];c&&(a=a?a:this.el.offsetWidth,b=b?b:this.el.offsetHeight,q(c,{width:a+"px",height:b+"px"}))},resetSkin:function(){var a=this.config;if(this.player){var c=
this.player.config;t()&&"undefined"!=typeof c.Skin[a.name]&&(a=b.generateSVG(c.Skin[a.name],this.player.id),this.el.innerHTML=a)}if("undefined"!=typeof this.children&&this.children&&(a=this.children.length,0<a))for(c=0;c<a;c++)this.children[c].resetSkin&&this.children[c].resetSkin()},setPrimaryColor:function(a){if("undefined"!=typeof this.children&&this.children){var b=this.children.length;if(0<b)for(var c=0;c<b;c++)this.children[c].setPrimaryColor&&this.children[c].setPrimaryColor(a)}}});f=a.Sprite;
a.Button=f.extend({init:function I(a,b){I.base.call(this,a,b);this.css({opacity:1});this.overT=(new A(this)).to({opacity:.7},400).easing(x.Quintic.Out);this.outT=(new A(this)).to({opacity:1},400).easing(x.Quintic.In);this.toggleListeners(!0)},listenersState:!1,toggleListeners:function(a){var c=a?"add":"remove";this.listenersState!=a&&(this.listenersState=a,this.css({pointerEvents:a?"auto":"none"}),this[c]("click",this.$f(this.onClick)),b.hasTouch()&&(this[c]("touchstart",this.$f(this.onMouseOver)),
this[c]("touchend",this.$f(this.onMouseOut))),p()||(this[c]("mouseover",this.$f(this.onMouseOver)),this[c]("mouseout",this.$f(this.onMouseOut))))},createElement:function E(a,c){c=b.merge({className:this.appendClassName(),role:"button",tabIndex:0,title:this.config.title,"aria-title":this.config.title},c);return E.base.call(this,a,c)},appendClassName:function J(){return"brid-button "+J.base.call(this)},onMouseOver:function(){this.outT.stop();this.overT.start()},onMouseOut:function(){this.overT.stop();
this.outT.start()},destroy:function G(){this.overT&&(this.overT.stop(),this.overT=null);this.outT&&(this.outT.stop(),this.outT=null);G.base.call(this)}});d=a.Button;a.ToggleButton=d.extend({opened:!1,firstStateEvent:"",secondStateEvent:"",bubbleEvent:!1,eventData:null,init:function K(a,b){K.base.call(this,a,b);this.target||(this.target=this)},onClick:function(){this.opened?this.firstState():this.secondState();this.onMouseOut()},secondState:function(){this.opened=!0;this.target.trigger(this.firstStateEvent,
this.eventData,this.bubbleEvent);this.addClass("opened");this.toggle()},firstState:function(){this.opened=!1;this.target.trigger(this.secondStateEvent,this.eventData,this.bubbleEvent);this.removeClass("opened");this.toggle()},resetState:function(){this.firstState()}});a.PanelButton=a.ToggleButton.extend({position:"left",svgOpened:"",svgClosed:"",label:"",enabled:!0,init:function L(c,d){L.base.call(this,c,d);d=this.position;var f={},g={},m={},h=this.label;this.target=c;var H="right"==d?"openLeftScreen":
"openRightScreen";var k="right"==d?"closeLeftScreen":"closeRightScreen";f[d]=c.isSmall()?"110%":"67%";f["margin"+b.uc(d)]="-0.5em";g[d]="0%";g["margin"+b.uc(d)]="0.5em";m[d]=c.isSmall()?"-20%":"-15%";this.oT=(new A(this)).to(f,600).easing(x.Quintic.Out);this.cT=(new A(this)).to(g,600).easing(x.Quintic.Out);this.fOT=(new A(this)).to(m,600).easing(x.Quintic.Out);this.fIT=(new A(this)).to(g,600).easing(x.Quintic.Out);h&&""!=h&&(this.labelContainer=new a.PanelButtonLabel(c,{name:"PanelButtonLabel",position:d,
label:h}),this.addChild(this.labelContainer));c.add(["play","start","beforeStart","newContent"],this.$f(this.onPlay));c.add("disableInteraction",this.$f(this.disableInteraction));c.add(["enableInteraction","controlsbehaviourchange"],this.$f(this.enableInteraction));c.addOnce("ready",this.$f(this.onReady));c.add("playerresize",this.$f(this.onPlayerResize));c.add(H,this.$f(this.onOpenOpositeScreen));c.add(k,this.$f(this.onCloseOpositeScreen))},appendClassName:function M(){return"brid-panels "+M.base.call(this)},
onReady:function(){var a=this.player;a.isSmall()&&a.add(this.secondStateEvent,this.$f(function(){this.opened=!1;this.removeClass("opened");this.toggle()}));"visible"==a.config.controlsBehavior&&a.officialTech()&&this.fadeIn();this.toggleShowHide(!1);a.addOnce("start",this.$f(this.enableInteraction));a.addOnce("start",this.$f(this.onStart))},toggle:function(){var c=this.player;if(!c.adInProgress&&this.enabled){var d=this.opened?"addClass":"removeClass",f=this.opened?this.svgOpened:this.svgClosed;t()&&
c.config.Skin[f]&&(this.el.innerHTML=b.generateSVG(c.config.Skin[f],c.id),this.labelContainer&&(this.el.appendChild(this.labelContainer.el),this.labelContainer.refresh()));this.opened?(this.cT.stop(),this.oT.start()):(this.oT.stop(),this.cT.start());if(this.resized)this.onPlayerResize();if((!c.isSmall()||"removeClass"==d)&&a.Util.checkNested(this,"player.tech.support")&&c.tech.support.canResize)c.tech[d]("brid-tech-mini-"+("right"==this.position?"left":"right"))}},onPlay:function(){!this.player.adInProgress&&
this.enabled&&((this.player.isPlaying||this.player.ended())&&this.toggleShowHide(!0),this.opened&&this.firstState())},onOpenOpositeScreen:function(){this.player.isSmall()?this.fadeOut():(this.fadeIn(),this.firstState());this.opositeOpened=!0},onCloseOpositeScreen:function(){this.player.isSmall()&&(this.fadeIn(),this.firstState());this.opositeOpened=!1},toggleShowHide:function(a){var b=a?"add":"remove";this.listener!=a&&(this.listener=a,this.player[b]("show",this.$f(this.fadeIn)),this.player[b]("hide",
this.$f(this.fadeOut)))},disableInteraction:function(){this.firstState();this.fadeOut();this.onMouseOut();this.toggleListeners(!1);this.player.tech.removeClass("brid-tech-mini-"+("right"==this.poistion?"left":"right"));this.toggleShowHide(!1);this.enabled=!1},enableInteraction:function(){p()&&this.player.positionType==C.IN_GLIDE||this.player.getAdInProgress&&this.player.getAdInProgress()?this.player.isSmall()&&this.player.getAdInProgress&&this.player.getAdInProgress()&&this.fadeOut():(this.fadeIn(),
this.toggleListeners(!0),this.toggleShowHide(!0),this.onPlayerResize(),this.enabled=!0)},onPlayerResize:function(a){a=this.rescale(a,400);var c=this.position,d={},f={};d[c]=this.player.isSmall()?"110%":"67%";d["margin"+b.uc(c)]="-0.5em";f[c]=this.player.isSmall()?"-20%":"-15%";this.oT=(new A(this)).to(d,600).easing(x.Quintic.Out);this.fOT=(new A(this)).to(f,600).easing(x.Quintic.Out);a&&this.css({marginTop:"-"+a.h/2+"px"});this.visibility?this.show():this.hide()},fadeOut:function N(){this.opened||
this.opositeOpened||N.base.call(this)},fadeIn:function O(a){this.opened||this.opositeOpened||O.base.call(this)},onMouseOver:function P(){P.base.call(this);this.labelContainer&&!this.opened&&this.labelContainer.show()},onMouseOut:function Q(){Q.base.call(this);this.labelContainer&&this.labelContainer.hide()}});a.PanelButtonLabel=a.Sprite.extend({init:function R(a,b){R.base.call(this,a,b);a.add("ready",this.$f(this.onReady))},createElement:function H(){return H.base.call(this,"div",{className:"brid-panel-label"})},
onReady:function(){this.el.innerHTML=this.config.label;var a={opacity:1};a[this.config.position]=this.el.parentNode.offsetWidth+5+"px";var b={opacity:0};b[this.config.position]="0px";this.labelShow=(new A(this)).to(a,400).easing(x.Quintic.Out);this.labelHide=(new A(this)).to(b,400).easing(x.Quintic.Out)},refresh:function(){this.el.innerHTML=this.config.label},show:function(){this.labelHide.stop();this.labelShow.start()},hide:function(){this.labelShow.stop();this.labelHide.start()}});a.Analytics=a.Class.extend({init:function(a){this.player=
a;this.partnerID=a.config.Partner&&a.config.Partner.id;this.ping({e:a.showOnAd()?"oload":"pload"});a.add("ready",b.$f(this,this.onPlayerReady));this.adUnitImpressionFired=this.partnerAdImpressionFired=this.ourAdImpressionFired=!1},onPlayerReady:function(){var a=this.player;a.add("start",b.$f(this,this.onStart));a.add("ourAdRequest",b.$f(this,this.onOurAdRequest));a.add("ourAdImpression",b.$f(this,this.onOurAdImpression));a.add("ourAdComplete",b.$f(this,this.onOurAdComplete));a.add("partnerAdRequest",
b.$f(this,this.onPartnerAdRequest));a.add("partnerAdImpression",b.$f(this,this.onPartnerAdImpression));a.add("partnerAdComplete",b.$f(this,this.onPartnerAdComplete));a.add("adUnitImpression",b.$f(this,this.onAdUnitImpression));a.add("adUnitRequest",b.$f(this,this.onAdUnitRequest));a.add("adUnitComplete",b.$f(this,this.onAdUnitComplete));a.add("adBlock",b.$f(this,this.onAdBlock))},onStart:function(){this.ping({e:"play"})},onOurAdImpression:function(b){this.ourAdImpressionFired?a.log("ourAdImpressionFired is TRUE, DO NOT SEND ANALYTICS PING"):
(this.ping({e:"bimp",at:b.data.at||"0",t:this.player.showOnAd()?"o":"p",wp:b.data.wp,baid:b.data.baid}),this.ourAdImpressionFired=!0)},onOurAdRequest:function(a){this.ourAdImpressionFired=!1;this.ping({e:"bareq",at:a.data.at||"0",t:this.player.showOnAd()?"o":"p",wp:a.data.wp,baid:a.data.baid})},onOurAdComplete:function(a){this.ping({e:"bacomplete",at:a.data.at||"0",t:this.player.showOnAd()?"o":"p",wp:a.data.wp,baid:a.data.baid})},onPartnerAdRequest:function(a){this.partnerAdImpressionFired=!1;this.ping({e:"areq",
at:a.data.at||"0",t:"p",wp:a.data.wp})},onPartnerAdImpression:function(b){a.log("onPartnerAdImpression isPodTag",this.player.Advertising.isPodTag);!this.partnerAdImpressionFired||this.player.Advertising.isPodTag?(this.ping({e:"imp",at:b.data.at||"0",t:"p",wp:b.data.wp}),this.partnerAdImpressionFired=!0):a.log("partnerAdImpressionFired is TRUE, DO NOT SEND ANALYTICS PING")},onPartnerAdComplete:function(a){this.ping({e:"acomplete",at:a.data.at||"0",t:"p",wp:a.data.wp})},onAdUnitImpression:function(b){this.adUnitImpressionFired?
a.log("adUnitImpressionFired is TRUE, DO NOT SEND ANALYTICS PING"):(this.ping({e:"imp",at:b.data.at||"0",t:"o",wp:b.data.wp}),this.adUnitImpressionFired=!0)},onAdUnitRequest:function(a){this.adUnitImpressionFired=!1;this.ping({e:"areq",at:a.data.at||"0",t:"o",wp:a.data.wp})},onAdUnitComplete:function(a){this.ping({e:"acomplete",at:a.data.at||"0",t:"o",wp:a.data.wp})},onAdBlock:function(a){this.ping({e:a.data.flagOurAd?"bblock":"block",at:a.data.at||"0",t:this.player.showOnAd()?"o":"p"})},ping:function(a){if(this.partnerID){var c=
new Image;a=b.objToQueryString(a);c.src="//stats.brid.tv/ping.gif?p="+this.partnerID+(a?"&"+a:"")}},destroy:function(){var a=this.player;a.remove("start",b.$f(this,this.onStart));a.remove("ourAdRequest",b.$f(this,this.onOurAdRequest));a.remove("ourAdImpression",b.$f(this,this.onOurAdImpression));a.remove("partnerAdRequest",b.$f(this,this.onPartnerAdRequest));a.remove("partnerAdImpression",b.$f(this,this.onPartnerAdImpression));a.remove("adUnitImpression",b.$f(this,this.onAdUnitImpression));a.remove("adUnitRequest",
b.$f(this,this.onAdUnitRequest));a.remove("adBlock",b.$f(this,this.onAdBlock))}});a.GoogleAnalytics=a.Class.extend({init:function(b,c){this.player=b;c=this.config=a.Util.merge(this.config||{},c);a.log("player.config.urchin",b.config.Partner.urchin);(function(a,b,c,d,f,g,m){a.GoogleAnalyticsObject=f;a[f]=a[f]||function(){(a[f].q=a[f].q||[]).push(arguments)};a[f].l=1*new Date;g=b.createElement(c);m=b.getElementsByTagName(c)[0];g.async=1;g.src=d;m.parentNode.insertBefore(g,m)})(n,k,"script","//www.google-analytics.com/analytics.js",
"ga");ga("create",b.config.Partner.urchin,"auto","BridTracker");this.thirdSent=this.secondSent=this.firstSent=!1;this.label_type_title=b.config.type?"ad_unit_id:":"player_id:";b.add("ended",a.Util.$f(this,this.onEnded));b.add("play",a.Util.$f(this,this.onPlay));b.add("pause",a.Util.$f(this,this.onPause));b.add("start",a.Util.$f(this,this.onStart));b.add("socialshare",a.Util.$f(this,this.onSocial));b.add("partnerAdRequest",a.Util.$f(this,this.onPartnerAdRequest));b.add("partnerAdImpression",a.Util.$f(this,
this.onPartnerAdImpression));b.add("adUnitImpression",a.Util.$f(this,this.onAdUnitImpression));b.add("adUnitRequest",a.Util.$f(this,this.onAdUnitRequest))},onSocialView:function(){var a=n.location.href,b=a.split("#"),c,d=b.length,f=this.player;if(1<d&&-1!==a.indexOf("brid.tv"))var g=b[1];else for(a=0;a<d;a++)if(-1!==b[a].indexOf("brid_")){g=b[a];break}if(g&&-1!==g.indexOf(f.id))-1!==g.indexOf("brid_fb")&&(c="fb_view"),-1!==g.indexOf("brid_tw")&&(c="tw_view"),-1!==g.indexOf("brid_gp")&&(c="gp_view"),
-1!==g.indexOf("brid_pt")&&(c="pt_view"),-1!==g.indexOf("brid_rd")&&(c="rd_view"),-1!==g.indexOf("brid_cp")&&(c="cp_view");else if(g)switch(g){case "fb":c="fb_view";break;case "tw":c="tw_view";break;case "gp":c="gp_view";break;case "pt":c="pt_view";break;case "rd":c="rd_view";break;case "cp":c="cp_view"}f.config.shared&&(c="em_view");c&&(ga("BridTracker.send","event","Brid-Video",c,(f.currentSource.title||"")+"_*"+(f.currentSource.id||0),{nonInteraction:1}),ga("BridTracker.send","event","Brid-Video",
c,this.label_type_title+f.config.id))},onEnded:function(){var b=this.player;b.getAdInProgress()||(ga("BridTracker.send","event","Brid-Video","End",(b.currentSource.title||"")+"_*"+(b.currentSource.id||0),{nonInteraction:1}),ga("BridTracker.send","event","Brid-Video","End",this.label_type_title+b.config.id),b.remove("timeupdate",a.Util.$f(this,this.onTime)),this.thirdSent=this.secondSent=this.firstSent=!1)},onPlay:function(){var a=this.player;a.getAdInProgress()||(ga("BridTracker.send","event","Brid-Video",
"Play",(a.currentSource.title||"")+"_*"+(a.currentSource.id||0)),ga("BridTracker.send","event","Brid-Video","Play",this.label_type_title+a.config.id))},onPause:function(){var a=this.player;a.getAdInProgress()||(ga("BridTracker.send","event","Brid-Video","Pause",(a.currentSource.title||"")+"_*"+(a.currentSource.id||0)),ga("BridTracker.send","event","Brid-Video","Pause",this.label_type_title+a.config.id))},onStart:function(){var b=this.player;this.thirdSent=this.secondSent=this.firstSent=!1;b.currentSource.intro_video&&
b.videos[b.currentIndex+1]&&(b.videos[b.currentIndex+1].shouldTrack=!1);b.getAdInProgress()||0<b.currentIndex&&b.videos[b.currentIndex-1].intro_video&&!b.currentSource.shouldTrack?b.currentSource.shouldTrack=!0:(ga("BridTracker.send","event","Brid-Video","Start",(b.currentSource.title||"")+"_*"+(b.currentSource.id||0),{nonInteraction:b.config.autoplay?1:0}),ga("BridTracker.send","event","Brid-Video","Start",this.label_type_title+b.config.id),this.onSocialView(),b.remove("timeupdate",a.Util.$f(this,
this.onTime)),b.add("timeupdate",a.Util.$f(this,this.onTime)))},onSocial:function(a){switch(a.data){case "facebook":var b="fb_click";break;case "twitter":b="tw_click";break;case "googleplus":b="gp_click";break;case "pinterest":b="pt_click";break;case "embed":b="em_click";break;case "link":b="cp_click"}ga("BridTracker.send","event","Brid-Video",b,(this.player.currentSource.title||"")+"_*"+(this.player.currentSource.id||0),{nonInteraction:1});ga("BridTracker.send","event","Brid-Video",b,this.label_type_title+
player.config.id)},onTime:function(){var a=this.player;if(!a.getAdInProgress()){var b=a.currentTime()/a.duration();.25<b&&!1===this.firstSent?(this.firstSent=!0,ga("BridTracker.send","event","Brid-Video","FirstQuartile",(a.currentSource.title||"")+"_*"+(a.currentSource.id||0),{nonInteraction:1}),ga("BridTracker.send","event","Brid-Video","FirstQuartile",this.label_type_title+a.config.id)):.5<b&&!1===this.secondSent?(this.secondSent=!0,ga("BridTracker.send","event","Brid-Video","SecondQuartile",(a.currentSource.title||
"")+"_*"+(a.currentSource.id||0),{nonInteraction:1}),ga("BridTracker.send","event","Brid-Video","SecondQuartile",this.label_type_title+a.config.id)):.75<b&&!1===this.thirdSent&&(this.thirdSent=!0,ga("BridTracker.send","event","Brid-Video","ThirdQuartile",(a.currentSource.title||"")+"_*"+(a.currentSource.id||0),{nonInteraction:1}),ga("BridTracker.send","event","Brid-Video","ThirdQuartile",this.label_type_title+a.config.id))}},onPartnerAdRequest:function(){ga("BridTracker.send","event","Brid-Video",
"AdRequest",this.label_type_title+this.player.config.id,{nonInteraction:1})},onPartnerAdImpression:function(){ga("BridTracker.send","event","Brid-Video","AdImpression",this.label_type_title+this.player.config.id,{nonInteraction:1})},onAdUnitRequest:function(){ga("BridTracker.send","event","Brid-AdUnit","AdRequest",this.label_type_title+this.player.config.id,{nonInteraction:1})},onAdUnitImpression:function(){ga("BridTracker.send","event","Brid-AdUnit","AdImpression",this.label_type_title+this.player.config.id,
{nonInteraction:1})}});a.OSControlBar=f.extend({default:{children:{adInfo:{childClass:"AdInfo"},controlBarLeft:{},controlBarBg:{},controlBarRight:{},playToggle:{},muteToggle:{},volumeControl:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},fullscreenToggle:{},brand:{}}},init:function S(a,c){this.default.children||(this.config.children={});b.merge(this.default.children,a.config.controlsPlugins);S.base.call(this,a,c);!1===a.config.controls&&this.hide();a.addOnce("ready",this.$f(this.onPlayerReady));
a.add("fullscreenchange",this.$f(this.onFullScreenChange))},enabled:!0,listenersState:!1,createElement:function T(){return T.base.call(this,"div",{className:"brid-controls"})},onPlayerReady:function(){if(this.enabled){var a=this.player;a.add(["enableInteraction","controlsbehaviourchange"],this.$f(this.onEnableControls));this.css({bottom:-this.el.offsetHeight+"px"});if("visible"===a.config.controlsBehavior&&a.officialTech())this.onNewContent();a.add(["beforeStart","start"],this.$f(this.onNewContent));
a.add("disableInteraction",this.$f(this.onDisableInteraction))}},onNewContent:function(){this.toggleListeners(!1);this.onEnableControls()},toggleListeners:function(a){var c=a?"add":"remove";this.listenersState!==a&&(this.listenersState=a,b.hasTouch()&&(this[c](["touchstart","touchmove"],this.$f(this.onMouseOver)),this[c]("touchend",this.$f(this.onMouseOut))),p()||(this[c](["mousemove","mouseover"],this.$f(this.onMouseOver)),this[c]("mouseout",this.$f(this.onMouseOut))),this.player[c]("show",this.$f(this.fadeIn)),
this.player[c]("hide",this.$f(this.fadeOut)))},fadeIn:function(){this.fIn=w(this,600,{bottom:this.player.isFullScreen&&!p()?"20px":"0px"},x.Quintic.Out).onComplete(function(){this.fsDispatched&&this.css({bottom:this.player.isFullScreen&&!p()?"20px":"0px"});this.fsDispatched=!1})},fadeOut:function(){w(this,600,{bottom:-this.el.offsetHeight+"px"},x.Quintic.Out)},onMouseOver:function(){this.player.lockShow()},onMouseOut:function(){this.player.unlockShow()},onEnableControls:function(){var a=this.player;
this.enabled=!0;this.el.style.background="";this.el.style.backgroundColor="";this.el.style.border="";this.el.style.pointerEvents="";this.controlBarLeft.el.style.display="";this.controlBarBg.el.style.display="";this.controlBarRight.el.style.display="";p()&&(a.config.play_in_page&&a.positionType===C.NORMAL||a.positionType===C.IN_GLIDE)||("visible"===a.config.controlsBehavior&&a.officialTech()?(this.fadeIn(),this.toggleListeners(!1)):this.toggleListeners(!0))},onFullScreenChange:function(){this.fsDispatched=
!0;this.fIn&&this.fIn.stop();this.css({bottom:this.player.isFullScreen&&!p()?"20px":"0px"})},onDisableInteraction:function(){this.el.style.background="none";this.el.style.backgroundColor="none";this.el.style.border="none";this.el.style.pointerEvents="none";this.controlBarLeft.hide();this.controlBarBg.hide();this.controlBarRight.hide()},resetSkin:function U(){U.base.call(this);setTimeout(this.$f(function(){"visible"===this.player.config.controlsBehavior&&this.player.officialTech()||this.css({bottom:-this.el.offsetHeight+
"px"})}),100)}});a.ControlBarLeft=f.extend({createElement:function V(){return V.base.call(this,"div",{className:"brid-controls-left"})}});a.ControlBarBg=f.extend({createElement:function W(){return W.base.call(this,"div",{className:"brid-controls-middle"})}});a.ControlBarRight=f.extend({createElement:function X(){return X.base.call(this,"div",{className:"brid-controls-right"})}});a.TouchOverlay=f.extend({currentListener:"remove",init:function Y(a,b){Y.base.call(this,a,b);a.add(["disableInteraction",
"adStart"],this.$f(this.onDisableInteraction));a.add(["enableInteraction","adEnd"],this.$f(this.onEnableInteraction));a.add(["ended","newContent"],this.$f(this.reset));a.addOnce("ready",this.$f(this.onPlayerReady));this.add("mouseover",this.$f(function(){this.player.mouseOver()}))},createElement:function Z(){return Z.base.call(this,"div",{className:"brid-touch-overlay"})},onPlayerReady:function(){p()&&this.add("touchend",this.$f(this.onTouchEnd));(!p()||this.player.config.slide_inview||this.player.config.play_in_page)&&
this.add("click",this.$f(this.onClick));this.reset()},reset:function(){var a=this.player;if(a.officialTech()||a.config.play_in_page){var b="remove";this.show()}else b="add",this.hide();this.currentListener!=b&&(this.currentListener=b,a[b]("show",this.$f(this.hide)),a[b]("hide",this.$f(this.show)))},show:function aa(){p()&&this.player.tech.support.hasPoster||aa.base.call(this)},onClick:function(a){this.player.trigger("userInteraction");this.player.config.play_in_page&&this.player.positionType==C.NORMAL||
this.player.togglePlay(a)},onTouchEnd:function(){var a=this.player;a.inFocus?(a.inFocus=!1,a.trigger("hide")):(a.inFocus=!0,a.trigger("show"));if(p()&&!this.player.config.slide_inview&&!this.player.config.play_in_page)this.onClick()},onDisableInteraction:function(){this.hide()},onEnableInteraction:function(){var a=this.player,b=a.techName;(a.officialTech()&&"flash"!=b||a.config.play_in_page)&&this.show()}});a.PlayToggle=d.extend({default:{title:"Toggle Playback"},init:function ba(a,b){ba.base.call(this,
a,b);this.animParams={scale:1,op:1};this.scaleDownAnim=(new A(this.animParams)).to({scale:.01,op:0},300).easing(x.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate));this.scaleUpAnim=(new A(this.animParams)).to({scale:1,op:1},300).easing(x.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate));this.state=0;a.add(["play","start","playing"],this.$f(this.onPlay));a.add("pause",this.$f(this.onPause));a.add("ended",this.$f(this.onEnd));a.add("adEnd",this.$f(this.onAdEnded));p()&&a.add("newContent",this.$f(this.onPause))},
appendClassName:function ca(){return"brid-play-control brid-control "+ca.base.call(this)},onTweenUpdate:function(){var a="scale("+this.animParams.scale+")";this.css({webkitTransform:a,mozTransform:a,transform:a,opacity:this.animParams.op})},onClick:function(a){this.player.trigger("userInteraction");this.player.togglePlay(a)},onPlay:function(){a.log("PlayToggle onPlay this.state",this.state);1!=this.state&&this.scaleDownAnim&&this.scaleUpAnim&&(this.state=1,this.scaleDownAnim.start().onComplete(this.$f(function(){t()&&
"undefined"!=typeof this.player.config.Skin.Pause?this.el.innerHTML=b.generateSVG(this.player.config.Skin.Pause,this.player.id):(b.removeClass(this.el,"brid-paused"),b.removeClass(this.el,"brid-replay"),b.addClass(this.el,"brid-playing"));this.scaleUpAnim.start()})))},onPause:function(){a.log("PlayToggle onPause this.state",this.state);0!=this.state&&this.scaleDownAnim&&this.scaleUpAnim&&(this.state=0,this.scaleDownAnim.start().onComplete(this.$f(function(){t()&&"undefined"!=typeof this.player.config.Skin.PlayToggle?
this.el.innerHTML=b.generateSVG(this.player.config.Skin.PlayToggle,this.player.id):(b.removeClass(this.el,"brid-playing"),b.removeClass(this.el,"brid-replay"),b.addClass(this.el,"brid-paused"));this.scaleUpAnim.start()})))},onEnd:function(){var c=this.player;a.log("PlayToggle onEnd this.state",this.state);!c.isNextQueued()&&!c.currentSource.intro_video&&this.scaleDownAnim&&this.scaleUpAnim&&2!=this.state&&(this.state=2,this.scaleUpAnim.stop(),this.scaleDownAnim.start().onComplete(this.$f(function(){t()&&
"undefined"!=typeof c.config.Skin.Repeat?this.el.innerHTML=b.generateSVG(c.config.Skin.Repeat,c.id):(b.removeClass(this.el,"brid-playing"),b.removeClass(this.el,"brid-paused"),b.addClass(this.el,"brid-replay"));this.scaleUpAnim.start()})))},onAdEnded:function(){if(this.player.ended())this.onEnd()},destroy:function da(){this.scaleDownAnim&&(this.scaleDownAnim.stop(),this.scaleDownAnim=null);this.scaleUpAnim&&(this.scaleUpAnim.stop(),this.scaleUpAnim=null);da.base.call(this)}});a.Brand=d.extend({default:{title:"brid.tv"},
init:function ea(a,c){if(a.config.Partner.brand){ea.base.call(this,a,c);if(c=a.config.Skin.BrandOver){this.overState=g("div",{className:"brand-over",innerHTML:b.generateSVG(c,a.id)});this.el.appendChild(this.overState);var d={op:0};this.outT=(new A(d)).to({op:0},400).easing(x.Quintic.In).onUpdate(this.$f(function(){q(this.overState,{opacity:d.op})}));this.overT=(new A(d)).to({op:1},400).easing(x.Quintic.Out).onUpdate(this.$f(function(){q(this.overState,{opacity:d.op})}))}a.config.primaryColor&&this.setPrimaryColor(a.config.primaryColor);
this.onMouseOut()}},appendClassName:function fa(){return"brid-brand brid-control "+fa.base.call(this)},onClick:function(){n.open("https://www.brid.tv","_blank")},setPrimaryColor:function(b){if(this.el){var c=this.el.getElementsByClassName("brand-bg")[0];a.log("VolumeBar setPrimaryColor",b,c);c&&(c.style.fill=b)}}});a.FullscreenToggle=d.extend({default:{title:"Toggle Fullscreen"},init:function ha(a,b){ha.base.call(this,a,b);0==a.config.fullscreen&&this.hide();this.animParams={scale:1,op:1};this.scaleDownAnim=
(new A(this.animParams)).to({scale:.01,op:0},300).easing(x.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate));this.scaleUpAnim=(new A(this.animParams)).to({scale:1,op:1},300).easing(x.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate));this.state=0;a.add("fullscreenchange",this.$f(this.onFullScreenChange))},appendClassName:function ia(){return"brid-fullscreen-control brid-control "+ia.base.call(this)},onTweenUpdate:function(){var a="scale("+this.animParams.scale+")";this.css({webkitTransform:a,
mozTransform:a,transform:a,opacity:this.animParams.op})},onClick:function(){this.player.toggleFullScreen(!this.player.isFullScreen)},onFullScreenChange:function(){if(t()){var a=this.player,c=a.isFullScreen?"FullscreenOff":"FullscreenToggle",d=a.isFullScreen?1:0;this.state!=d&&this.scaleUpAnim&&this.scaleDownAnim&&(this.state=d,this.scaleDownAnim.start().onComplete(this.$f(function(){this.el.innerHTML=b.generateSVG(this.player.config.Skin[c],a.id);this.scaleUpAnim.start()})),this.onMouseOut())}},destroy:function ja(){this.scaleDownAnim&&
(this.scaleDownAnim.stop(),this.scaleDownAnim=null);this.scaleUpAnim&&(this.scaleUpAnim.stop(),this.scaleUpAnim=null);ja.base.call(this)}});a.BufferIndicator=f.extend({init:function ka(a,b){ka.base.call(this,a,b);this.hide();a.add("newContent",this.$f(this.onNewContent))},listenersSet:!1,createElement:function la(){return la.base.call(this,"div",{className:"brid-buffer-indicator",innerHTML:'<div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>'})},onDisableInteraction:function(){this.hide();
this.toggleListener(!1)},onEnableInteraction:function(){this.player.officialTech()&&this.toggleListener(!0)},onNewContent:function(){if(this.player.officialTech())this.onEnableInteraction();else this.onDisableInteraction()},hide:function ma(b){ma.base.call(this);a.log("BufferIndicator hide",b);this.player.remove("timeupdate",this.$f(this.hide));this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},show:function na(b){var c=this.player;a.log("BufferIndicator show",b);"beforeStart"===
b.type&&!c.hasPreroll||c.newContent||c.config.autoplay_on_ad||!c.officialTech()||("adEnd"!==b.type&&"adError"!==b.type||c.addOnce("timeupdate",this.$f(this.hide)),this.showTimeout||(this.showTimeout=setTimeout(this.$f(function(){a.log("BufferIndicator show after timeout");na.base.call(this)}),500)))},toggleListener:function(a){var b=a?"add":"remove";a!==this.listenersSet&&(this.listenersSet=a,this.player[b]("play adStart playing ended seeked error".split(" "),this.$f(this.hide)),this.player[b](["beforeStart",
"waiting","adError","adEnd"],this.$f(this.show)))},destroy:function oa(){this.spinner&&(this.spinner.stop(),this.spinner=null);oa.base.call(this)}});a.Slider=f.extend({init:function pa(a,b){pa.base.call(this,a,b);a.add(this.updateEvent,this.$f(this.update));a.add("enableInteraction",this.$f(this.onEnableInteraction));this.toggleInteraction(!0);this.update()},enabled:!1,down:!1,startUpdating:function(){this.player.add(this.updateEvent,this.$f(this.update))},stopUpdating:function(){this.player.remove(this.updateEvent,
this.$f(this.update))},createElement:function qa(a,c){c=b.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return qa.base.call(this,a,c)},toggleInteraction:function(a){this.enabled!=a&&(a=(this.enabled=a)?"add":"remove",this[a]("touchstart",this.$f(this.onTouchStart)),this[a]("mousedown",this.$f(this.onMouseDown)))},onDisableInteraction:function(){this.toggleInteraction(!1)},onEnableInteraction:function(){this.toggleInteraction(!0)},toggleUpDown:function(a,
c){a?b.blockTextSelection():b.unblockTextSelection();var d=a?"add":"remove";this.down=a;k.addEventListener?(m[d](v,"mousemove",u(this,this.onMouseMove)),m[d](v,"mouseup",u(this,this.onMouseUp))):(m[d](this.bar.el,"mousemove",u(this,this.onMouseMove)),m[d](this.bar.el,["mouseup","losecapture"],u(this,this.onMouseUp)),this.bar.el.setCapture());b.stopEvent(c)},onMouseDown:function(a){this.down||(this.toggleUpDown(!0,a),this.onMouseMove(a))},onMouseUp:function(a){this.toggleUpDown(!1,a)},toggleTouch:function(a,
c){a?b.blockTextSelection():b.unblockTextSelection();var d=a?"add":"remove";this.down=a;m[d](v,"touchend",u(this,this.onTouchEnd));m[d](v,"touchmove",u(this,this.onTouchMove));b.stopEvent(c)},onTouchStart:function(a){b.blockTextSelection();this.down||(this.toggleTouch(!0,a),this.onTouchMove(a))},onTouchEnd:function(a){this.toggleTouch(!1,a)},update:function(){var a=this.getPercent(),c=this.scrubber,d=this.bar;isNaN(a)&&(a=0);c&&q(c,{left:b.round(100*a,2)+"%"});q(d,{width:b.round(100*(a-this.player.bufferedStart()),
2)+"%",left:b.round(100*this.player.bufferedStart(),2)+"%"})},scrollTo:function(b){var c=this.el,d=a.findPosX(c);return Math.max(0,Math.min(1,((b.pageX?b.pageX:b.clientX)-d)/c.offsetWidth))}});a.ProgressControl=f.extend({default:{children:{seekBar:{}}},init:function ra(a,c){ra.base.call(this,a,c);(!b.isIPhone()||b.autoplaySupported||a.config.webView)&&a.config.controls||this.hide();b.hasTouch()&&(this.add(["touchstart","touchmove"],this.$f(this.onMouseOver)),this.add("touchend",this.$f(this.onMouseOut)));
p()||(this.add(["mousemove","mouseover"],this.$f(this.onMouseOver)),this.add("mouseout",this.$f(this.onMouseOut)));a.addOnce("ready",this.$f(this.onPlayerReady));a.add("fullscreenchange",this.$f(function(){this.fsDispatched=!0;this.pIn&&this.pIn.stop();this.css({bottom:this.player.controls.el.offsetHeight-1+(this.player.isFullScreen&&!p()?20:0)+"px"})}))},createElement:function sa(){return sa.base.call(this,"div",{className:"brid-progress-control"})},enabled:!0,listeners:!1,onPlayerReady:function(){var a=
this.player;a.add(["enableInteraction","controlsbehaviourchange"],this.$f(this.onEnableControls));a.add("disableInteraction",this.$f(this.onDisableControls));this.css({bottom:0});if(this.enabled){if("visible"==a.config.controlsBehavior&&a.officialTech())this.onNewContent();a.add(["beforeStart","start"],this.$f(this.onNewContent))}},onNewContent:function(){this.toggleListeners(!1);this.onEnableControls()},toggleListeners:function(a){var b=a?"add":"remove";this.listeners!=a&&(this.listeners=a,this.player[b]("show",
this.$f(this.progressIn)),this.player[b]("hide",this.$f(this.progressOut)))},progressIn:function(){var a=this.player.controls.el.offsetHeight-1+(this.player.isFullScreen&&!p()?20:0)+"px";this.pIn=w(this,600,{bottom:a},x.Quintic.Out).onComplete(function(){this.fsDispatched&&this.css({bottom:a});this.fsDispatched=!1})},progressOut:function(){w(this,600,{bottom:"0px"},x.Quintic.Out)},onMouseOver:function(a){var b=this.player;b.lockShow();a=this.scrollTo(a)*b.duration();var c=b.duration();b.trigger("progressOver",
{time:a,duration:c},!1)},onMouseOut:function(){this.player.unlockShow();this.player.trigger("progressOut")},onDisableControls:function(){this.enabled=!1;this.toggleListeners(!1);this.progressOut();this.fadeOut()},onEnableControls:function(){var a=this.player;a.getAdInProgress()||(this.enabled=!0,p()&&(a.config.play_in_page&&a.positionType==C.NORMAL||a.positionType==C.IN_GLIDE)||(this.fadeIn(),"visible"==a.config.controlsBehavior&&a.officialTech()?(this.progressIn(),this.toggleListeners(!1)):this.toggleListeners(!0)))},
scrollTo:function(b){var c=this.el,d=a.findPosX(c);return Math.max(0,Math.min(1,((b.pageX?b.pageX:b.clientX)-d)/c.offsetWidth))},resetSkin:function ta(){this.fsDispatched=!0;this.pIn&&this.pIn.stop();this.el.removeAttribute("style");this.css({bottom:this.player.controls.el.offsetHeight+(this.player.isFullScreen&&!p()?20:0)+"px"});if(this.player.isPlaying)this.onEnableControls();ta.base.call(this)}});a.SeekBar=a.Slider.extend({default:{children:{buffer:{childClass:"BufferBar"},bar:{childClass:"ProgressBar"},
scrubber:{childClass:"Scrubber"},hover:{childClass:"HoverTimeDisplay"}}},updateEvent:"timeupdate",init:function ua(a,b){ua.base.call(this,a,b);a.addOnce("ready",this.$f(this.onReady));a.add("show",this.$f(this.onMouseOver));a.add("hide",this.$f(this.onMouseOut));a.add("progressOver",this.$f(this.onProgressOver));a.add("progressOut",this.$f(this.onProgressOut));a.add("startTrackingTime",this.$f(this.startUpdating));a.add("stopTrackingTime",this.$f(this.stopUpdating));a.add(["newContent","ended","adStart",
"adEnd"],this.$f(this.update));this.onMouseOut()},onReady:function(){this.el.removeAttribute("style");var a=parseInt(this.css("height",!0));this.animParams={op:1,scale:1,tpos:0,h:a};this.tSI=(new A(this.animParams)).to({op:1,scale:1,tpos:0,h:a},200).easing(x.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate));this.tSO=(new A(this.animParams)).to({op:0,scale:0,tpos:a/2,h:a/2},400).easing(x.Quadratic.Out).onUpdate(this.$f(this.onTweenUpdate))},onMouseOver:function(){this.tSI&&(this.tSO.stop(),this.tSI.start())},
onMouseOut:function(){this.tSI&&(this.tSI.stop(),this.tSO.start())},onTweenUpdate:function(){var a="scale("+this.animParams.scale+")";q(this.scrubber,{webkitTransform:a,mozTransform:a,transform:a,opacity:this.animParams.op});this.css({top:this.animParams.tpos+"px",height:this.animParams.h+"px"})},createElement:function va(){return va.base.call(this,"div",{className:"brid-progress-holder"})},getPercent:function(a){return(a||this.player.currentTime())/this.player.duration()},onMouseDown:function wa(a){wa.base.call(this,
a);this.player.scrubbing=!0},onTouchStart:function xa(a){xa.base.call(this,a);this.player.scrubbing=!0},onMouseUp:function ya(a){ya.base.call(this,a);this.player.scrubbing=!1},onTouchEnd:function za(a){za.base.call(this,a);this.player.scrubbing=!1},onProgressOver:function(a){0<a.data.time&&!this.player.controls.storyBoard&&(this.hover.fadeIn(),this.updateHover(a.data.time))},onProgressOut:function(){this.hover.fadeOut()},onMouseMove:function(a){var c=this.player,d=this.scrollTo(a)*c.duration();d==
c.duration()&&(d-=.5);c.currentTime(d);b.stopEvent(a)},onTouchMove:function(a){var c=this.player,d=this.scrollTo(a.touches[0])*c.duration();d==c.duration()&&(d-=.5);c.currentTime(d);b.stopEvent(a)},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)},updateHover:function(a){a=this.getPercent(a);isNaN(a)&&(a=0);this.hover&&q(this.hover,{left:b.round(100*a,2)+"%"})},resetSkin:function Aa(){this.onReady();
Aa.base.call(this)}});a.BufferBar=f.extend({init:function Ba(a,b){Ba.base.call(this,a,b);a.add("progress start beforeStart newContent canplaythrough enableInteraction play".split(" "),this.$f(this.update));a.add("adStart",this.$f(this.onAdStarted));this.update()},createElement:function Ca(){return Ca.base.call(this,"div",{className:"brid-load-progress"})},onAdStarted:function(){this.player.getAdInProgress()&&this.css({width:0,left:0})},update:function(){var a=this.player;if(this.el){var c=b.round(100*
(a.bufferedPercent()-a.bufferedStart()),2);100<c&&(c=100);this.css({width:c+"%",left:b.round(100*a.bufferedStart(),2)+"%"})}}});a.ProgressBar=f.extend({init:function Da(a,b){Da.base.call(this,a,b);a.config.primaryColor&&this.setPrimaryColor(a.config.primaryColor)},createElement:function Ea(){var a="",c=this.player;t()&&"undefined"!=typeof c.config.Skin.ProgressBar&&(a=b.generateSVG(c.config.Skin.ProgressBar,c.id));return Ea.base.call(this,"div",{className:"brid-play-progress",innerHTML:a})},setPrimaryColor:function(b){a.log("ProgressBar setPrimaryColor",
b);this.el.style.background=b}});a.Scrubber=f.extend({createElement:function Fa(){return Fa.base.call(this,"div",{className:"brid-seek-scrubber"})}});a.HoverTimeDisplay=f.extend({init:function Ga(a,b){Ga.base.call(this,a,b);a.add("progressOver",this.$f(this.onProgressOver));this.css({opacity:0})},createElement:function Ha(){return Ha.base.call(this,"div",{className:"brid-scrubber-time",innerHTML:"00:00"})},onProgressOver:function(a){this.el.innerHTML=b.formatTime(a.data.time,this.player.duration())}});
a.VolumeControl=f.extend({default:{children:{volumeBarBg:{},volumeBar:{}}},autohide:!1,init:function Ia(a,b){Ia.base.call(this,a,b);(0==a.config.volume||p())&&this.hide();(b=a.config.Skin)&&"undefined"!=typeof b.volumeAutoHide&&(this.autohide=b.volumeAutoHide,a.add("volumeOver",this.$f(this.onVolumeOver)),a.add("volumeOut",this.$f(this.onVolumeOut)),this.add("mouseover",this.$f(this.onOver)),this.add("mouseout",this.$f(this.onOut)))},createElement:function Ja(){return Ja.base.call(this,"div",{className:"brid-volume-control"})},
onPlayerResize:function(){350>=this.player.el.offsetWidth?this.hide():this.show()},onVolumeOver:function(){this.addClass("over")},onVolumeOut:function(){this.removeClass("over")},onOver:function(){this.player.trigger("volumeOver")},onOut:function(){this.player.trigger("volumeOut")}});a.VolumeBar=a.Slider.extend({default:{children:{bar:{childClass:"VolumeLevel"}}},updateEvent:"volumechange",rotation:!1,init:function Ka(a,b){Ka.base.call(this,a,b);(b=this.player.config.Skin)&&"undefined"!==typeof b.volumeRotation&&
(this.rotation=b.volumeRotation);this.add("mousedown",this.$f(this.onMouseDown));a.addOnce("ready",this.$f(this.onPlayerReady))},createElement:function La(){this.el&&(this.el.innerHTML="");var a=this.player.config.Skin;var c=t()&&"undefined"!==typeof a[this.config.name]?b.generateSVG(a[this.config.name],this.player.id):"";for(var d=La.base.call(this,"div",{className:"brid-volume-bar",innerHTML:c}),f=0;7>f;f++)c="",t()&&"undefined"!==typeof a.VolumeLevelOff&&(c=b.generateSVG(a.VolumeLevelOff,this.player.id)),
c=g("div",{className:"bar-bracket",innerHTML:c}),m.add(c,"mouseover",this.$f(this.onBracketOver)),m.add(c,"mouseout",this.$f(this.onBracketOut)),d.appendChild(c);this.el&&(this.el.innerHTML=d.innerHTML);return d},onPlayerReady:function(){var a=g("div",{className:"level-bracket"});this.el.appendChild(a);if(a){var c=b.rgbValues("rgb(255, 255, 255)"),d=q(a,"background-color");d&&(d="rgb(0, 0, 0)"!=d&&"rgba(0, 0, 0, 0)"!=d?b.rgbValues(d):!1,c&&d&&(this.endColor=b.rgbToHsl(d.r,d.g,d.b),this.startColor=
b.rgbToHsl(c.r,c.g,c.b)))}this.el.removeChild(a);this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor);this.update()},setPrimaryColor:function(c){var d="rgb(0, 0, 0)"!=c&&"rgba(0, 0, 0, 0)"!=c?b.rgbValues(c):!1;a.log("VolumeBar setPrimaryColor",c,d);d&&(this.endColor=b.rgbToHsl(d.r,d.g,d.b));this.update()},resetSkin:function(){this.startColor=this.endColor=null;this.createElement();this.bar=new a.VolumeLevel(this.player);this.addChild(this.bar);setTimeout(this.$f(this.onPlayerReady),
100)},onBracketOver:function(a){b.removeClass(a.currentTarget,"out");b.addClass(a.currentTarget,"over")},onBracketOut:function(a){b.removeClass(a.currentTarget,"over");b.addClass(a.currentTarget,"out")},onMouseMove:function(a){this.player.muted(!1);var c=this.scrollTo(a),c=.08>c?0:c;this.player.config.hover_volume=0;this.player.volume(.92<c?1:c);b.stopEvent(a)},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.config.hover_volume=0;this.player.volume(this.player.volume()+
.1)},stepBack:function(){this.player.config.hover_volume=0;this.player.volume(this.player.volume()-.1)},update:function(){var a=this.getPercent(),c=this.bar,d=this.player;if(isNaN(a)||d.muted())a=0;c.el.innerHTML="";var f=Math.ceil(7*a);if(this.startColor&&this.endColor){var h=b.interpolate(this.startColor,this.endColor,.9<a?1:a);h=b.hslToRgb(h[0],h[1],h[2])}for(a=0;a<f;a++){var k="";t()&&"undefined"!=typeof d.config.Skin.VolumeLevelOn&&(k=b.generateSVG(d.config.Skin.VolumeLevelOn,d.id));k=g("div",
{className:"level-bracket",innerHTML:k});m.add(k,"mouseover",this.$f(this.onBracketOver));m.add(k,"mouseout",this.$f(this.onBracketOut));h&&q(k,{backgroundColor:h});c.el.appendChild(k)}},scrollTo:function(b){var c=this.rotation,d=this.el,f=c?a.findPosY(d):a.findPosX(d),d=c?d.offsetHeight:d.offsetWidth;b=c?b.pageY?b.pageY:b.clientY:b.pageX?b.pageX:b.clientX;return c?1-Math.max(0,Math.min(1,(b-f)/d)):Math.max(0,Math.min(1,(b-f)/d))}});a.VolumeBarBg=f.extend({createElement:function Ma(){return Ma.base.call(this,
"div",{className:"brid-volume-bar-bg"})}});a.VolumeLevel=f.extend({createElement:function Na(){return Na.base.call(this,"div",{className:"brid-volume-level"})}});a.MuteToggle=d.extend({default:{title:"Toggle Mute Video"},init:function Oa(a,b){0==a.config.volume||p()||(Oa.base.call(this,a,b),a.add("volumechange",this.$f(this.update)),"undefined"!=typeof this.player.config.Skin.volumeAutoHide&&(this.add("mouseover",this.$f(this.onOver)),this.add("mouseout",this.$f(this.onOut))),this.update())},appendClassName:function Pa(){return"brid-mute-control brid-control "+
Pa.base.call(this)},onClick:function(){this.player.config.hover_volume=0;this.player.muted(!this.player.muted())},update:function(){var a=this.player,c=a.volume(),d="on",f=a.config.Skin;if(0==c||a.muted())d="off";t()&&"undefined"!=typeof f.MuteToggle&&"undefined"!=typeof f.Muted?this.el.innerHTML="on"===d?b.generateSVG(f.MuteToggle,a.id):b.generateSVG(f.Muted,a.id):(b.each.call(this,["on","off"],function(a){b.removeClass(this.el,"brid-vol-"+a)}),b.addClass(this.el,"brid-vol-"+d))},onOver:function(){this.player.trigger("volumeOver")},
onOut:function(){this.player.trigger("volumeOut")}});a.CurrentTimeDisplay=f.extend({init:function Qa(a,b){Qa.base.call(this,a,b);a.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent));a.add("playerresize",this.$f(this.onPlayerResize));a.add("newContent",this.$f(this.onNewContent))},createElement:function Ra(){var a=Ra.base.call(this,"div",{className:"brid-current-time brid-time-controls"});this.content=g("div",{className:"brid-current-time-display",innerHTML:"00:00"});
a.appendChild(g("div").appendChild(this.content));return a},updateContent:function(){var a=this.player,c=a.currentTime()||0;this.content.innerHTML=b.formatTime(c,a.duration())},onNewContent:function(){this.content.innerHTML=b.formatTime(0)},onPlayerResize:function(){350>=this.player.el.offsetWidth&&this.player.positionType!=C.IN_EXPERIENCE?this.hide():this.show()}});a.DurationDisplay=f.extend({init:function Sa(a,b){Sa.base.call(this,a,b);a.add(["timeupdate","beforeStart","loadedmetadata","adStart",
"adEnd"],this.$f(this.updateContent));a.add("newContent",this.$f(this.onNewContent));a.add("playerresize",this.$f(this.onPlayerResize))},createElement:function Ta(){var a=Ta.base.call(this,"div",{className:"brid-duration brid-time-controls"});this.content=g("div",{className:"brid-duration-display",innerHTML:"00:00"});a.appendChild(g("div").appendChild(this.content));return a},updateContent:function(){this.player.duration()&&(this.content.innerHTML=b.formatTime(this.player.duration()))},onNewContent:function(){this.content.innerHTML=
b.formatTime(this.player.currentSource.duration||0);this.player.addOnce("waiting",this.$f(this.updateContent))},onPlayerResize:function(){350>=this.player.el.offsetWidth&&this.player.positionType!=C.IN_EXPERIENCE?this.hide():this.show()}});a.TimeDivider=f.extend({init:function Ua(a,b){Ua.base.call(this,a,b);a.add("playerresize",this.$f(this.onPlayerResize))},createElement:function Va(){return Va.base.call(this,"div",{className:"brid-time-controls brid-time-divider",innerHTML:"<div><span>/</span></div>"})},
onPlayerResize:function(){350>=this.player.el.offsetWidth&&this.player.positionType!==C.IN_EXPERIENCE?this.hide():this.show()}});a.AudioToggle=a.ToggleButton.extend({default:{title:"Toggle Mute Video Mobile"},currentState:"first",target:null,firstStateEvent:"unmute",secondStateEvent:"mute",svgOpened:"22 21.6'><g><path fill='#58595B' d='M15.3,21.7l-9-4.4H0V6.6h6.7l8.6-5.4V21.7z M3,14.3h4l5.3,2.6V6.6l-4.7,3H3V14.3z'/><path fill='#58595B' d='M19.8,17c-1.8-1.2-3-3.3-3-5.5c0-2.3,1.3-4.5,3.3-5.7l1.5,2.6c-1.1,0.7-1.8,1.9-1.8,3.1 c0,1.2,0.6,2.4,1.6,3L19.8,17z'/><path fill='#FFFFFF' d='M20.2,15.9c-1.8-1.2-3-3.3-3-5.5c0-2.3,1.3-4.5,3.3-5.7L22,7.3c-1.1,0.7-1.8,1.9-1.8,3.1 c0,1.2,0.6,2.4,1.6,3L20.2,15.9z'/><path fill='#FFFFFF' d='M15.3,20.4l-9-4.4H0V5.4h6.7L15.3,0V20.4z M3,13.1h4l5.3,2.6V5.4l-4.7,3H3V13.1z'/></g>",
svgClosed:"22 21.6'><g><g opacity='0.5'><g><polygon points='12.3,6.7 12.3,7.3 15.3,10.4 15.3,1.3 9.8,4.7 11.9,6.9'/><polygon points='7,14.3 3,14.3 3,9.6 3.4,9.6 0.5,6.6 0,6.6 0,17.3 6.3,17.3 15.2,21.6 15.1,20.3'/></g><rect x='-0.325' y='9.927' transform='matrix(-0.6972 -0.7169 0.7169 -0.6972 10.012 27.083)' width='22.101' height='3.001'/></g><g><g><polygon fill='none' points='12,5.6 12.4,6 12.4,5.4'/><polygon fill='#FFF' points='12.4,5.4 12.4,6 15.4,9.1 15.4,0 9.8,3.4 12,5.6'/><polygon fill='#FFF' points='7,13.1 3.1,13.1 3.1,8.4 3.5,8.4 0.6,5.4 0.1,5.4 0.1,16.1 6.4,16.1 15.1,20.3 8.9,14'/></g><polygon fill='#FF3B00' points='17.4,19.1 2,3.2 4.1,1.1 19.5,17'/></g></g></svg>",
init:function Wa(a,b){Wa.base.call(this,a,b);this.hide();a.config.play_in_page&&p()?(a.add(["newContent","ended","adEnd"],this.$f(this.hide)),a.add("adStart",this.$f(this.show)),a.add("volumechange",this.$f(this.onVolumeChange))):p()&&(a.add("newContent",this.$f(this.show)),a.add("volumechange",this.$f(this.onVolumeChange)));a.add(["start","beforeStart"],this.$f(function(){this.opened=!this.player.muted();this.toggle()}))},appendClassName:function Xa(){return"brid-audio-button "+Xa.base.call(this)},
toggle:function(){var b=this.opened?this.svgOpened:this.svgClosed;a.Util.canUseVector()&&(this.el.innerHTML=a.Util.generateSVG(b,this.player.id))},show:function Ya(){this.visibility||this.player.positionType==C.IN_EXPERIENCE||(Ya.base.call(this),this.add(["mute","unmute"],this.$f(this.toggleMuted)))},hide:function Za(){this.visibility&&(Za.base.call(this),this.remove(["mute","unmute"],this.$f(this.toggleMuted)))},onVolumeChange:function(){this.opened=!this.player.muted();this.toggle()},toggleMuted:function(){var b=
this.player;a.log("AudioToggle",b.muted());b.muted(b.muted()?!1:!0);b.muted()?b.volume(0):b.volume(1)}});a.FpsInfo=f.extend({init:function $a(a,b){$a.base.call(this,a,b);this.frameNumber=this.startTime=0;this.looping()},getFPS:function(){this.frameNumber++;var a=((new Date).getTime()-this.startTime)/1E3,b=Math.floor(this.frameNumber/a);1<a&&(this.startTime=(new Date).getTime(),this.frameNumber=0);return b},createElement:function ab(){return ab.base.call(this,"div",b.merge({className:"brid-fps-info",
innerHTML:"0 fps"}))},looping:function(){setTimeout(this.$f(this.looping),1E3/60);this.el.innerHTML=this.getFPS()+" FPS"}});a.AdInfo=f.extend({init:function bb(a,b){bb.base.call(this,a,b);this.hide();a.add(["newContent","ended","adEnd","vpaidStart"],this.$f(this.hide));a.add("adStartsSoon",this.$f(this.onAdStartsSoon));a.add("adStart",this.$f(function(){a.getAdInProgress()&&(this.el.innerHTML="<div>Advertisement</div>",this.show())}))},createElement:function cb(){return cb.base.call(this,"div",{className:"brid-ad-info",
innerHTML:"<div>Advertisement</div>"})},onAdStartsSoon:function(){this.el.innerHTML="<div>Advertisement will start soon</div>";this.show();this.player.addOnce("hideAdInfo",this.$f(this.hide))}});a.Dialog=f.extend({default:{title:"",content:"",type:"error",children:{title:{childClass:"DialogTitle"},content:{childClass:"DialogContent"},okButton:{childClass:"DialogOK"},cancelButton:{childClass:"DialogCancel"}}},init:function db(a,b){db.base.call(this,a,b);"custom"!=this.config.type&&(""!=this.config.title?
this.title.el.innerHTML=this.config.title:(this.removeChild(this.title),this.title=null),""!=this.config.content?this.content.el.innerHTML=this.config.content:(this.removeChild(this.content),this.content=null),this.addClass(this.config.type))},appendClassName:function eb(){return"brid-dialog "+eb.base.call(this)},createElement:function fb(){return fb.base.call(this,"div",{className:this.appendClassName()})}});a.DialogTitle=f.extend({createElement:function gb(){return gb.base.call(this,"div",{className:"brid-dialog-title"})}});
a.DialogContent=f.extend({createElement:function hb(){return hb.base.call(this,"div",{className:"brid-dialog-content"})}});a.DialogOK=d.extend({default:{title:"OK"},createElement:function ib(){return ib.base.call(this,"div",{className:"brid-dialog-ok brid-button brid-panels",innerHTML:"OK"})},onClick:function(){this.trigger("ok",null,!0)}});a.DialogCancel=d.extend({default:{title:"Cancel"},createElement:function jb(){return jb.base.call(this,"div",{className:"brid-dialog-cancel brid-button brid-panels",
innerHTML:"CANCEL"})},onClick:function(){this.trigger("cancel",null,!0)}});a.Close=d.extend({default:{title:"Close"},createElement:function kb(){return kb.base.call(this,"div",{className:"brid-close brid-button brid-panels"})},onClick:function(){this.trigger("close",null,!0)}});a.OSPlayer=f.extend({init:function(c,d,f){a.log("Init Brid OutStream Unit");this.el=c;a.players[c.id]=this;b.addClass(c,"brid");d.hasOwnProperty("autoplay")||(d.autoplay=!0);d.play_in_page=!1;d.inpage_mobile=!0;if("inslide"!==
d.type){this.css({opacity:0,height:0});var r=this.parentEl=g("div",{id:c.id+"_container",className:"brid-outstream"});q(r,{"transition-duration":"unset"});if(d.placeholder){var y=d.width,m=d.height;if(b.isMobilePlatform()){var p=Math.max(k.documentElement.clientWidth,h.innerWidth||0);p<d.width&&(y=p,m=y/(d.width/d.height))}q(r,{overflow:"hidden",height:m+"px",width:y+"px",position:"relative"})}else q(r,{overflow:"hidden",height:"0",width:"auto"});b.isMobilePlatform()&&q(r,{clear:"both"});d.placeholder&&
(y=this.imageEL_container=g("div",{id:c.id+"_img_placeholder"}),q(y,{width:"100%",height:"100%",background:"white",position:"absolute",top:"0px",left:"0px","z-index":"1000001"}),m="http://services.brid.tv/player/build/images/spm.svg",d.placeholder_img&&(m=d.placeholder_img),d.placeholder_type&&"og_image"==d.placeholder_type&&(p=(p=v.querySelector('meta[property="og:image"]'))&&p.getAttribute("content"))&&(m=p),m=this.imageEl=g("img",{id:c.id+"_img_placeholder",src:m}),q(m,{width:"100%",height:"100%",
display:"block"}),y.appendChild(m),r.appendChild(y));b.insertAfter(this.el,r);r.appendChild(c);k.BridIframeBurst&&r.parentNode.parentNode.removeAttribute("style")}else this.css({"z-index":2147483700});this.children=[];this.videos=[];this.ready(f);this.assets=new a.OSAssets(this,c,d,this.$f(this.onAssetsLoaded))},onAssetsLoaded:function(c,d){function f(b){a.log("OSPlayer removeDisabledComponents");b.controls||(b.children.controls=null,b.children.progressControl=null)}a.log("Init Brid OutStream onAssetsLoaded version: ",
c.VERSION,"UA",b.ua);var r=this.el,D=(p()&&c.mobile_width_inview&&"0"!=c.mobile_width_inview&&c.mobile_width_inview||c.width||r.style.width||640)+"",h=(c.height||r.style.height||360)+"";"undefined"===typeof this.assets&&(this.assets=d);this.skinClass=c.className?c.className:c.Skin.Style?c.Skin.Style.skinClass:c.Style.skinClass;this.css({opacity:1,position:"inslide"===c.type?"fixed":"relative"});(d=r.getElementsByTagName("VIDEO"))&&0<d.length?d=d[0]:(d=g("video"),r.appendChild(d));this.tag=d;d.player=
r.player=this;d.id=this.id=r.id;d.id+="_html5";d.className="brid-tech";r.className+=" "+this.skinClass;p()&&(r.className+=" brid-touch");this.resize(D,h);a.log("OSPlayer this.originalWidth",this.originalWidth,"this.originalHeight",this.originalHeight);p()||b.autoplayDesktopSupported||(a.log("SETUJ VOLUME"),c.start_volume=0);c.autoplayInview=c.autoplay?c.autoplayInview:!1;b.location=b.getLocalStorage("brid_location");a.log("OSPlayer user location",b.location);this.config=c;a.log("OSPlayer config ID",
c.id);this.send("setConfig",[JSON.stringify(this.config)]);c.Plugin.map(this.$f(function(b){a.plugins[b.id](this)}));c.inCms||f(c);this.isPlaying=!1;this.addClass("brid-paused");this.values={playing:!1,currentTime:0,agPassed:!1,hd:!1};this.useOGVInPage()&&(-1===c.techOrder.indexOf("ogv")?c.techOrder.unshift("ogv"):b.move(c.techOrder,c.techOrder.indexOf("ogv"),0));this.add("loadstart",this.$f(this.onStartLoad));this.add("play",this.$f(this.onPlay));this.add("pause",this.$f(this.onPause));this.add("progress",
this.$f(this.onProgress));this.add("volumechange",this.$f(this.onVolumeChange));this.add("error",this.$f(this.onError));this.add("enableInteraction",this.$f(this.onEnableInteraction));this.add("userInteraction",this.$f(this.onUserInteraction));this.add("adStart",this.$f(this.onAdStarted));this.add("adImpression",this.$f(this.onAdImpression));this.add("adEnd",this.$f(this.onAdEnded));this.add("adError",this.$f(this.onAdError));this.add("durationChange",this.$f(this.onDurationChange));this.onResizeFunc=
b.throttle(this.$f(this.onResize),250,this);this.onResizeFunc.id="osresize"+this.id;m.add(n,"orientationchange",this.$f(this.onOrientationChange));m.add(n,"resize",this.onResizeFunc);this.add("fullscreenchange",this.$f(this.onFullscreenChange));this.ready(this.$f(this.onReady),!0);this.initObjects();this.onResize(!0);if("inslide"===c.type){r={};switch(c.inslide_direction){case "bottom-left":c="bottom";D="left";break;case "top-left":c="top";D="left";break;case "top-right":c="top";D="right";break;default:c=
"bottom",D="right"}r[c]="10px";"top"==c&&this.config.enable_close_button&&(r[c]="30px");r[D]=-(this.el.offsetWidth+10)+"px";this.css(r)}this.playerReady=!0;a.isReady||this.dispatchAPIReady();this.selectTechNoSource()},onReady:function(){a.XD.receiveMessage(this.$f(this.receive),"*");b.isIPhone()&&!b.autoplaySupported&&this.tech.add("webkitendfullscreen",this.$f(function(){this.pausedOnInteraction=!0}));m.add(k.body,"click",this.$f(this.onTouchStart,this.id),!0);this.config.autoplayInview&&(this.onScrollFunc=
b.throttle(this.$f(this.onScroll),500,this),this.onScrollFunc.id="osscroll"+this.id,m.add(h,"scroll",this.onScrollFunc));this.config.start_volume&&!p()&&(this.volume(this.config.start_volume/100),this.muted(!1));this.config.autoplay&&setTimeout(this.$f(this.doAutoplay),0)},values:{},currentIndex:0,playlistLength:0,videos:[],currentSource:{},inFocus:!1,resumeplay:!1,hasPreroll:!1,hasPostroll:!1,advertising:!1,userInteracted:!1,adsManager:null,adInProgress:!1,waitingForAd:!1,lastSecondDispatched:!1,
playerReady:!1,isFullScreen:!1,resetDuration:!0,externalVideo:!1,wasInView:!1,hasHLS:!1,newContent:!0,messageQueue:[],pausedOnInteraction:!1,bannerMode:!1,positionType:"normal",tempHolder:null,receive:function(a){if(!this.getAdInProgress()&&(a=a.data.split("|"),this[a[1]]))this[a[1]](a[2]?a[2]:null)},send:function(c,d){if(b.inIFrame()&&this.config){var f=this.config.Partner.id,r=this.config.autoplay,g="",m=1===this.playlistLength?1:50;if(this.config.playlist)if("string"===typeof this.config.playlist)var h=
this.config.playlist;else h=this.config.playlist.id,m=this.config.playlist.items;else this.config.video&&"string"===typeof this.config.video&&(h=this.config.video,m=1);f=h+"-"+f+"-"+this.config.id+"-"+(r?"1":"0")+"-"+m;r=0;for(m=d.length;r<m;r++)g+="|"+d[r];a.XD.postMessage(f+"|"+c+g,"*")}},getVersion:function(){return this.config.VERSION},checkReady:function(){this.send("trigger",["ready"])},dispatchAPIReady:function(){k.APIReadyDispatched=!0;a.isReady=!0;k.BridAPIReady&&k.BridAPIReady()},trigger:function r(a,
b,c){var d="string"===typeof a?a:a.type;this.send("trigger",[d]);if(this.isReady&&this.config.webView){var f=this.getKeyValue(d);this.queueMessage("bridevent://none?type="+d+f)}return r.base.call(this,a,b,c)},queueMessage:function(a){this.messageQueue.push(a);this.messageQueueTimer||(this.messageQueueTimer=setInterval(this.$f(function(){this.unqueueMessage()}),16))},unqueueMessage:function(){var a=this.messageQueue.shift();0===this.messageQueue.length&&(this.messageQueueTimer=clearInterval(this.messageQueueTimer));
n.location=a},getKeyValue:function(a){var b="";switch(a){case "timeupdate":b="&time="+this.currentTime();break;case "volumechange":b="&volume="+this.volume();break;case "fullscreenchange":b="&fullscreen="+this.isFullScreen}return b},playAd:function(a){!this.getAdInProgress()&&this.adsManager&&(this.relatedScreen&&(this.removeChild(this.relatedScreen),this.relatedScreen=null),this.adsManager.playAd(a))},setAd:function(a){"string"===typeof a&&-1!=a.indexOf("{")&&(a=JSON.parse(a));this.adsManager&&this.adsManager.setAd(a)},
changeSkin:function(b){a.Loader.loadText(this.config.Url.service+this.config.Url.app+this.config.Url.skin+b+".json",u(this,this.onSkinLoad),u(this,this.onError))},onSkinLoad:function(a){this.hide();for(var c=k.getElementsByClassName("bridload"),d=this.config,f=this.el.className,r=0,g=c.length;r<g;r++)if("STYLE"===c[r].tagName||"LINK"===c[r].tagName)c[r].parentNode.removeChild(c[r]),r--,g--;f=f.replace(this.skinClass,"");a&&(d=b.merge(d,JSON.parse(a||"{}")));this.skinClass=d.Skin.Style?d.Skin.Style.skinClass:
d.Style.skinClass;this.el.className=f+" "+this.skinClass+" ";this.assets.loadCSS(!0)},showMessage:function(b){this.getAdInProgress()||this.waitingForAd||(this.message||(this.message=new a.DialogContent(this,{name:"DialogContent"}),this.addChild(this.message)),this.message.el.innerHTML=b)},manualProgressOn:function(){this.manualProgress=!0;1>this.bufferedPercent()&&this.add("play",this.$f(this.trackProgress));this.tech.add("progress",function(){m.remove(this,"progress",arguments.callee);this.support.progressEvent=
!0;this.player.manualProgressOff()})},stopTrackingProgress:function(){clearInterval(this.progressInterval);this.progressInterval=null},manualProgressOff:function(){this.manualProgress=!1;this.stopTrackingProgress();this.remove("play",this.$f(this.trackProgress))},trackProgress:function(){this.progressInterval||(this.progressInterval=setInterval(u(this,function(){this.values.bufferEnd<this.buffered().end()?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),
500))},manualTimeUpdatesOn:function(){this.manualTimeUpdates=!0;this.remove("play",this.$f(this.trackCurrentTime));this.remove("pause",this.$f(this.stopTrackingCurrentTime));this.add("play",this.$f(this.trackCurrentTime));this.add("pause",this.$f(this.stopTrackingCurrentTime));this.tech.add("timeupdate",function(){m.remove(this,"timeupdate",arguments.callee);this.player&&(this.player.tech.support.timeupdateEvent=!0,this.player.manualTimeUpdatesOff())})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=
!1;this.stopTrackingCurrentTime();this.remove("play",this.$f(this.trackCurrentTime));this.remove("pause",this.$f(this.stopTrackingCurrentTime))},trackCurrentTime:function(){this.currentTimeInterval||(this.currentTimeInterval=setInterval(this.$f(function(){this.trigger("timeupdate")}),500))},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval);this.currentTimeInterval=null},onAdStarted:function(b){a.log("OSPlayer onAdStarted");this.waitingForAd=!1;this.config.freqCap&&a.Util.setLocalStorage(this.config.id+
"_cap","1",36E5*this.config.freqCap);this.resetDuration=!0},onAdImpression:function(){function a(){this.isPlayerInView()&&(this.remove("play",this.$f(a)),this.fadeInParent())}!this.config.autoplayInview||this.isPlayerInView()||this.wasInView?this.fadeInParent():this.add("play",this.$f(a));this.waitingForAd=!1;this.resetDuration=!0},onAdEnded:function(){a.log("OSPlayer onAdEnded");this.showOnAd()&&this.fadeOutParent()},onAdError:function(){a.log("OSPlayer onAdError");this.resetDuration=!0;this.showOnAd()&&
!this.config.inCms&&this.destroy()},fadeInParent:function(){if(this.el){if(this.config.enable_close_button&&!this.close)if("inslide"===this.config.type){var c=parseInt(this.config.slide_inview_seconds);var d=this.close=new a.Close(this,{name:"Close"});var f={};switch(this.config.inslide_direction){case "bottom-left":f={bottom:10+this.el.offsetHeight+7+"px",left:10+this.el.offsetWidth-16+"px"};break;case "top-left":f={top:"7px",left:10+this.el.offsetWidth-16+"px"};break;case "top-right":f={top:"7px",
right:"10px"};break;default:f={bottom:10+this.el.offsetHeight+7+"px",right:"10px"}}d.css(f);d.addClass("brid-close-banner");d.addOnce("close",this.$f(function(){this.tech.support.adManagement?this.fadeOutParent():this.adsManager.stop()}));!this.config.inviewBottomOffset||"bottom-left"!=this.config.inslide_direction&&"bottom-right"!=this.config.inslide_direction||b.css(this.el,{bottom:this.config.inviewBottomOffset});var g=b.createElement("div",{className:"brid-banner-ad-timer"});b.css(g,f);this.el.parentNode.insertBefore(g,
this.el.nextSibling);var m=setInterval(this.$f(function(){g.innerHTML=c;c--; -1>=c&&(g.parentNode.removeChild(g),this.el.parentNode.insertBefore(d.el,this.el.nextSibling),clearInterval(m))}),c?1E3:0)}else c=parseInt(this.config.slide_inview_seconds),d=this.close=new a.Close(this,{name:"Close"}),d.addClass("brid-close-banner"),d.css({position:"absolute",top:"30px",right:"10px"}),d.addOnce("close",this.$f(function(){this.tech.support.adManagement?this.fadeOutParent():this.adsManager.stop()})),g=b.createElement("div",
{className:"brid-banner-ad-timer"}),b.css(g,{position:"absolute",top:"30px",right:"10px"}),this.el.appendChild(g),m=setInterval(this.$f(function(){g.innerHTML=c;c--; -1>=c&&(b.css(g,{display:"none"}),this.addChild(d),this.positionType==C.IN_GLIDE&&d.hide(),clearInterval(m))}),c?1E3:0);if("inslide"===this.config.type){switch(this.config.inslide_direction){case "bottom-left":case "top-left":var h={left:"10px"};break;default:h={right:"10px"}}f=this.el}else if(this.parentEl)h=this.el.offsetHeight,this.positionType===
C.IN_GLIDE&&this.tempHolder&&(h=this.tempHolder.offsetHeight),f=this.parentEl,h={height:h+"px"};else return;w(f,600,h,x.Quintic.Out);if(this.config.placeholder&&this.imageEL_container)w(this.imageEL_container,600,{height:"0%"},x.Quintic.Out).onComplete(function(){this.parentNode.removeChild(this)})}},fadeOutParent:function(){if(this.el){if("inslide"===this.config.type){switch(this.config.inslide_direction){case "bottom-left":case "top-left":var a={left:-(this.el.offsetWidth+10)+"px"};break;default:a=
{right:-(this.el.offsetWidth+10)+"px"}}var b=this.el}else if(this.parentEl)b=this.parentEl,a={height:"0px"};else return;this.config.enable_close_button&&this.close.el.parentNode&&this.close.el.parentNode.removeChild(this.close.el);w(b,600,a,x.Quintic.In).onComplete(this.$f(this.destroy))}},onStartLoad:function(){},onPlay:function(){a.log("OSPlayer onPlay isPlaying",this.isPlaying);this.pausedOnInteraction=!1;b.removeClass(this.el,"brid-paused");b.addClass(this.el,"brid-playing")},onPause:function(){b.removeClass(this.el,
"brid-playing");b.addClass(this.el,"brid-paused")},onProgress:function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},onError:function(b){this.isPlaying=!1;b=this.techGet("error")||b.data||b.error||"";a.error("--- BridPlayer --- Video Error",b);this.showMessage("VIDEO ERROR <br />"+("string"===typeof b?b:"undefined"!=typeof b.text?b.text:"undefined"!=typeof b.message?b.message:""))},techCall:function(b,c){var d=this.tech;if(d)if(d.isReady)try{d[b](c)}catch(D){a.warn(D)}else d.ready(function(){this[b](c)})},
techGet:function(b,c){var d=this.tech;if(d&&d.isReady)try{return d[b](c)}catch(D){void 0===d[b]?a.warn("--- BridPlayer --- "+b+" method not defined for "+this.techName+" playback technology.",D):"TypeError"==D.name?a.warn("--- BridPlayer --- "+b+" unavailable on "+this.techName+" playback technology element.",D):a.warn(D)}},load:function(){a.log("OSPlayer load");this.addOnce("loadedmetadata",this.$f(this.loadedMetadata));this.techCall("load");return this},loadedMetadata:function(){a.log("OSPlayer loadedMetadata isMobilePlatform",
p(),"this.techName",this.techName,"hasPreroll",this.hasPreroll);p()&&!this.isPlaying&&(this.hasPreroll||this.play(),this.trigger("beforeStart"));this.resetDuration=!0;this.send("duration",[this.duration()])},togglePlay:function(b){this.currentSource.error||(a.log("OSPlayer togglePlay isPlaying",this.isPlaying,"ended",this.ended(),"paused",this.paused()),this.getAdInProgress()?this.adsManager.togglePlay(b):!this.isPlaying&&this.ended()?(this.src(this.currentSource),this.newContent=!0,this.trigger("newContent"),
this.start()):this.isPlaying?this.paused()&&this.isPlaying?this.play():this.pause(b):this.start())},onTouchStart:function(b){a.log("OSPlayer onTouchStart",b);this.trigger("userInteraction");m.remove(k.body,"click",this.$f(this.onTouchStart,this.id),!0)},doAutoplay:function(b){a.log("OSPayer Do Autoplay","event",b,"autoplay",this.config.autoplay,"autoplayInview",this.config.autoplayInview);p()||this.trigger("userInteraction");this.hasPreroll?this.start():(this.trigger("adError"),this.destroy())},canAutoplay:function(){return!p()||
"ogv"===this.techName||b.autoplaySupported},start:function(){a.log("OSPlayer start hasPreroll ",this.hasPreroll);this.trigger("firstPlay");this.relatedScreen&&(this.removeChild(this.relatedScreen),this.relatedScreen=null);this.send("setEnded",["false"]);this.lastSecondDispatched=!1;this.resetDuration=!0;b.isIPhone()&&"html5"==this.techName&&q(this.tag,{"-webkit-transform":"translateX(0)"});this.newContent=!1;this.adsManager&&(this.adsManager.videosPlayed++,b.setLocalStorage(this.id+"_videos_played",
this.adsManager.videosPlayed));if(this.tech.support.adManagement){this.techCall("load");this.waitingForAd=!0;a.log("OSPlayer start autoplayInview",this.config.autoplayInview,"isPlayerInView",this.isPlayerInView());if(this.config.autoplayInview&&!this.isPlayerInView()&&this.config.viewability)return this;this.techCall("startAd")}else this.trigger("beforeStart");return this},play:function(){a.log("OSPlayer play newContent",this.newContent,"getAdInProgress",this.getAdInProgress(),"waitingForAd",this.waitingForAd,
"adsManager",this.adsManager);this.pausedOnInteraction=!1;if(this.waitingForAd&&this.tech.support.adManagement)return this.waitingForAd=!1,this.techCall("startAd"),this;if(this.waitingForAd&&this.adsManager)return this.adsManager.start(),this;if(this.newContent)return this.start(),!1;if(!this.tech)return!1;if(this.getAdInProgress()&&!this.tech.support.adManagement)return this.adsManager.togglePlay(),!1;this.techCall("play");return this},pause:function(b){a.log("OSPlayer pause getAdInProgress",this.getAdInProgress(),
"event",b,"waitingForAd",this.waitingForAd);if(this.waitingForAd)return this;this.pausedOnInteraction="undefined"!=typeof b;if(this.getAdInProgress()&&!this.tech.support.adManagement)return this.adsManager.togglePlay(),!1;this.techCall("pause");return this},stop:function(){a.log("OSPlayer stop isPlaying",this.isPlaying);if(!this.isPlaying||this.getAdInProgress())return!1;this.currentTime(0);this.pause();this.officialTech()?this.techCall("stop"):(this.unloadTech(),this.src(this.currentSource));this.isPlaying=
!1;this.trigger("stopped");return this},paused:function(){return this.tech&&this.getAdInProgress()?this.tech.support.adManagement?this.techGet("paused"):this.adsManager.paused:!1!==this.techGet("paused")},currentTime:function(a){if(this.currentSource.error)return 0;if(this.getAdInProgress())return a=this.adsManager.currentTime(),0>a?0:a;void 0!==a&&(this.lastSecondDispatched=!1,this.values.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.trigger("timeupdate"));a=this.values.currentTime=
this.techGet("currentTime")||0;var b=this.duration();a=0<a?a:0;this.send("currentTime",[a]);0<b&&1>=b-a&&!this.lastSecondDispatched&&this.isPlaying&&(this.lastSecondDispatched=!0,this.trigger("lastSecond"));return a},duration:function(){this.resetDuration&&(this.values.duration=this.getAdInProgress()?this.adsManager.duration():this.techGet("duration")||0,0<this.values.duration&&Infinity!=this.values.duration?this.resetDuration=!1:this.values.duration=0);return this.values.duration},buffered:function(){var a=
this.techGet("buffered"),c=this.values.bufferStart=this.values.bufferStart||0,d=this.values.bufferEnd=this.values.bufferEnd||0,f=this.currentTime();if(a&&0<a.length)for(var g=0,m=a.length;g<m;g++)if(f>=a.start(g)&&f<=a.end(g)&&(c!=a.start(g)||d!=a.end(g))){this.values.bufferEnd=d=a.end(g);this.values.bufferStart=c=a.start(g);break}return b.createTimeRange(c,d)},bufferedPercent:function(){return this.values.duration?this.buffered().end()/this.values.duration:0},bufferedStart:function(){return this.values.duration?
this.buffered().start()/this.values.duration:0},setDefaultVolume:function(){a.log("PlayerOS setDefaultVolume isStartMuted",this.isStartMuted(),"positionType",this.positionType,"values.volume",this.values.volume,"play_in_page",this.config.play_in_page);if(this.isStartMuted()||this.config.play_in_page&&this.positionType===C.NORMAL&&!this.values.volume)this.muted(!0);else if(p())this.volume(1);else{var c=parseFloat(b.getLocalStorage(this.config.id+"_volume"));var d="volume"in this.values?this.values.volume:
c;c="mute"in this.values?this.values.muted:0===c;if("undefined"===typeof d||isNaN(d))d=.5;if("undefined"===typeof c||isNaN(c))c=!1;(c=1===c)||this.volume(d);this.muted(c)}},volume:function(c){a.log("PlayerOS volume",c);"undefined"!==typeof c&&c!==this.values.volume&&(c=Math.max(0,Math.min(1,parseFloat(c))),this.values.volume=c,b.setLocalStorage(this.config.id+"_volume",c.toString()),this.getAdInProgress()&&this.adsManager.volume(c),this.techCall("setVolume",c));if(this.getAdInProgress())return this.adsManager.volume();
c=parseFloat(this.techGet("volume"));this.send("volume",[c]);return isNaN(c)?.5:c},setVolume:function(a){this.volume(a)},getVolume:function(){return this.volume()},muted:function(c){a.log("PlayerOS muted",c);c="string"===typeof c?"1"===c||"true"===c:c;void 0!==c&&c!=this.techGet("muted")&&(b.setLocalStorage(this.config.id+"_muted",c?"1":"0"),(this.values.muted=c)||this.volume(this.values.volume?this.values.volume:.6),this.techCall("setMuted",c));c=this.techGet("muted")||!1;this.send("muted",[c]);
return c},onVolumeChange:function(){var a=this.values;0===this.volume()&&0<a.previousVolume||this.muted()&&!a.previousMuted?this.trigger("mutechange",{muted:!0}):(0<this.volume()&&0===a.previousVolume||!this.muted()&&a.previousMuted)&&this.trigger("mutechange",{muted:!1});this.values.previousVolume=this.volume();this.values.previousMuted=this.muted()},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||!1},toggleFullScreen:function(c){a.log("OSPlayer toggleFullScreen",c);if(b.isIOS()&&
!this.isPlaying&&!this.getAdInProgress())return this;var d=a.support.requestFullScreen;this.isFullScreen=c;if(b.isIOS()&&"html5"==this.techName)c?this.tech.el.webkitSupportsFullscreen&&(this.tech.el.webkitEnterFullscreen(),this.tech.add("webkitendfullscreen",this.$f(this.oniOSFullscreenEnd))):this.tech.el.webkitExitFullScreen();else if(b.isIOS()||!d||b.isIE()&&b.inIFrame())this.tech.supportsFullScreen()?(a.log("Tech supports FullScreen"),!0===c?this.techCall("enterFullScreen"):!1===c&&this.techCall("exitFullScreen"),
this.trigger("fullscreenchange"),this.onResize()):b.inIFrame()?(this.send("toggleFullScreen",[c]),c?m.add(v,"keydown",this.$f(this.fullWindowOnEscKey)):m.remove(v,"keydown",this.$f(this.fullWindowOnEscKey)),this.trigger("fullscreenchange")):(a.log("No FullScreen Support, go Full Window"),this.toggleFullWindow(c),this.trigger("fullscreenchange"),this.onResize());else if(a.log("Browser supports FullScreen"),"undefined"===typeof v[d.isFullScreen]&&(this.isFullScreen=c),!0===c)if(m.add(v,d.eventName,
this.$f(function(){"undefined"!==typeof v[d.isFullScreen]&&(this.isFullScreen=v[d.isFullScreen]);0==this.isFullScreen&&m.remove(v,d.eventName,arguments.callee);this.trigger("fullscreenchange");this.onResize()})),this.el.webkitRequestFullScreen&&!b.isSafari())this.el.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);else this.el[d.requestFn]();else if(!1===c)v[d.cancelFn]();return this},toggleFullWindow:function(c){a.warn("--- BridPlayer --- toggleFullWindow: "+c);!0===c?(this.docOrigOverflow=
k.documentElement.style.overflow,m.add(k,"keydown",this.$f(this.fullWindowOnEscKey)),k.documentElement.style.overflow="hidden",this.css({position:"fixed"}),b.addClass(k.body,"brid-full-window")):!1===c&&(this.css({position:"relative"}),k.documentElement.style.overflow=this.docOrigOverflow,m.remove(k,"keydown",this.fullWindowOnEscKey),b.removeClass(k.body,"brid-full-window"))},fullWindowOnEscKey:function(a){this.isFullScreen&&27==a.keyCode&&this.toggleFullScreen(!1)},oniOSFullscreenEnd:function(){this.isFullScreen=
!1;m.remove(this.tech.el,"webkitendfullscreen",this.$f(this.oniOSFullscreenEnd));!this.getAdInProgress()&&b.isIPad()&&this.isPlaying&&(this.tempTime=this.currentTime(),this.stopTrackingCurrentTime(),this.trigger("stopTrackingTime"),this.add("loadedmetadata",this.$f(this.goToTime)),this.src(this.currentSource,!0),this.load(),this.play())},onFullscreenChange:function(){a.log("OSPlayer onFullscreenChange isFullScreen",this.isFullScreen);this.isFullScreen?this.addClass("brid-fs"):this.removeClass("brid-fs");
this.send("fullscreen",[this.isFullScreen]);this.el.focus();this.mouseOver();this.onChangeInteraction(!0)},loadDefaultTech:function(){a.html5.isSupported()&&this.loadTech("html5")},loadTech:function(c,d){a.log("OSPlayer loadTech techName",c,"source",d);this.tech?this.unloadTech():"html5"!=c&&this.tag&&(this.tag.parentNode==this.el&&this.el.removeChild(this.tag),this.tag=null);this.techName=c;var f=b.merge({source:d,parentEl:this.el},this.config[c]);d&&(d==this.values.src&&0<this.values.currentTime&&
(f.startTime=this.values.currentTime),this.values.src=d.src);this.tech=new a[c](this,f);this.tech.ready(function(){var b=this.player;a.log("OSPlayer Tech Ready techName",this.player.techName);this.player.onChangeInteraction(!0);b.send("setOfficialTech",[b.officialTech().toString()]);b.setDefaultVolume();b.isReady||(b.newContent=!0,b.trigger("newContent"));b.triggerReady();this.support.progressEvent||b.manualProgress||b.manualProgressOn();this.support.timeupdateEvent||b.manualTimeUpdates||b.manualTimeUpdatesOn();
b.officialTech()||b.mouseOut();b.resumeplay&&(b.hasPreroll?setTimeout(u(this,function(){b.start()}),100):b.start(),b.resumeplay=!1)})},unloadTech:function(){this.userInteracted=!1;this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();this.tech&&(this.tech.destroy(),this.tech=null);this.techName=""},destroy:function(){a.log("OSPlayer DESTROY!");this.stopTrackingProgress();this.stopTrackingCurrentTime();a.players[this.id]=null;delete a.players[this.id];this.tech&&
this.unloadTech();m.remove(n,"orientationchange",this.$f(this.onOrientationChange));m.remove(n,"resize",this.onResizeFunc);this.onScrollFunc&&m.remove(h,"scroll",this.onScrollFunc);if(this.children)for(var c=this.children.length-1;0<=c;c--)this.children[c].destroy&&this.children[c].destroy();this.removeAll();this.removeAllChildren();this.children=null;this.el.parentNode&&(this.el.parentNode.removeChild(this.el),"inslide"!==this.config.type&&this.config.keep_root_el&&(this.el.removeAttribute("style"),
b.insertAfter(this.parentEl,this.el)),this.parentEl&&this.parentEl.parentNode&&(this.parentEl.parentNode.removeChild(this.parentEl),this.parentEl=null))},selectTech:function(c){return b.find(this.config.techOrder,function(b){b=a[b];if(c&&b&&b.isSupported()&&b.canPlaySource.call(this,c))return!0},this)},selectTechNoSource:function(){for(var b=this.config.techOrder,c,d=0,f=b.length;d<f;d++)if(a[b[d]]&&a[b[d]].isSupported()){c=b[d];break}c?this.loadTech(c):(a.error("--- BridPlayer --- No compatible source and playback technology was found."),
this.loadDefaultTech(),setTimeout(this.$f(function(){this.trigger("playbackerror");this.showMessage("UNSUPPORTED VIDEO FORMAT")}),100))},currentSrc:function(){return!1},preload:function(a){void 0!==a&&(this.techCall("setPreload",a),this.config.preload=a);return this.techGet("preload")},autoplay:function(a){void 0!==a&&(this.techCall("setAutoplay",a),this.config.autoplay=a);return this.techGet("autoplay",a)},loop:function(a){void 0!==a&&(this.techCall("setLoop",a),this.config.loop=a);return this.techGet("loop")},
onDurationChange:function(){this.resetDuration=!0},goToTime:function(a){this.remove("loadedmetadata",this.$f(this.goToTime));this.currentTime(this.tempTime);this.tech.support.timeupdateEvent||this.manualTimeUpdatesOn();this.trigger("startTrackingTime");a&&this.trigger("qualityChange")},getAdInProgress:function(){return this.tech?this.tech.support.adManagement?this.techGet("adInProgress"):this.adInProgress:this.adInProgress},mouseOver:function(b){var c=this.config;!this.isReady||p()&&this.config.play_in_page&&
this.positionType!==a.Player.positionType.IN_EXPERIENCE||(b||(this.overTrigered=!1),this.overTrigered||(this.trigger("show"),this.overTrigered=!0),b&&!p()&&c.hover_volume&&(this.muted(!1),this.volume(c.hover_volume/100)),clearTimeout(this.fadeoutTimer),this.fadeoutTimer=setTimeout(this.$f(function(){this.trigger("hide");this.overTrigered=this.inFocus=!1}),3E3))},mouseOut:function(a){var b=this.config;a&&!p()&&b.hover_volume&&(b.start_volume?this.volume(b.start_volume/100):(this.muted(!0),this.volume(0)));
clearTimeout(this.fadeoutTimer);this.fadeoutTimer=setTimeout(this.$f(function(){this.trigger("hide");this.overTrigered=this.inFocus=!1}),1E3)},getFullScreen:function(){return this.isFullScreen},onEnableInteraction:function(){a.log("OSPlayer onEnableInteraction");this.onChangeInteraction(!0);setTimeout(this.$f(this.mouseOver),100)},onChangeInteraction:function(a){if(this.interactionEnabled!=a){this.interactionEnabled=a;var c=1==a?"add":"remove";a&&this.mouseOver();if(b.hasTouch())this[c](["touchstart",
"touchmove"],this.$f(this.mouseOver));p()||(this[c](["mousemove","mouseover"],this.$f(this.mouseOver)),this[c]("mouseout",this.$f(this.mouseOut)))}},lockShow:function(){clearTimeout(this.fadeoutTimer);this.onChangeInteraction(!1)},unlockShow:function(){this.onChangeInteraction(!0)},onUserInteraction:function(){this.userInteracted=!0},calcVideoResolution:function(b,c,d){d=d||this.el;if(!d.parentNode)return{w:b,h:c};var f=this.getParentWidth(),y=this.getParentHeight(),g=parseInt(q(d.parentNode,"padding-left",
!0))||0,m=parseInt(q(d.parentNode,"padding-right",!0))||0,h=0,r=0;"auto"!==d.style.marginLeft&&"auto"!==d.style.marginRight&&(h=parseInt(q(d,"margin-left",!0))||0,r=parseInt(q(d,"margin-right",!0))||0);a.log("calcVideoResolution pL",g,"pR",m,"mL",h,"mR",r);f-=g+m+h+r;a.log("calcVideoResolution parentWidth",f,"parentHeight",y);if("string"!==typeof b||-1===b.indexOf("%"))b=this.originalWidth=parseFloat(b),0<f&&(f<b||100>b)&&(b=f);"string"===typeof c&&-1!==c.indexOf("%")?c=parseFloat(y):(c=parseFloat(c),
isNaN(b)||(c=b/(this.originalWidth/this.originalHeight)),"string"===typeof b&&-1!==b.indexOf("%")&&(c=parseFloat(b)*f/100/(16/9)));a.log("calcVideoResolution",b,c);return{w:isNaN(b)?b:Math.floor(b),h:Math.floor(c)}},getParentHeight:function(){for(var a=0,b=this.el;b.parentNode;){if(b.parentNode.offsetHeight){a=b.parentNode.offsetHeight;break}else if(b.parentNode===v.body){a=h.innerHeight||v.documentElement.clientHeight||v.body.clientHeight;break}b=b.parentNode}return a},getParentWidth:function(){for(var a=
0,b=this.el;b.parentNode;){if(b.parentNode.offsetWidth){if(a=b.parentNode.offsetWidth,120<=a)break}else if(b.parentNode===v.body){a=h.innerWidth||v.documentElement.clientWidth||v.body.clientWidth;break}b=b.parentNode}b=Math.max(k.documentElement.clientWidth,h.innerWidth||0);return a>b?b:a},resize:function(a,b){this.onResize(!0,a,b)},onOrientationChange:function(){this.onResize(!0)},onResize:function(b,c,d){b&&this.positionType!==C.IN_GLIDE&&(a.log("OSPlayer onResize called",b,c,d),c&&(this.originalWidth=
"string"===typeof c&&-1!=c.indexOf("%")?c:parseFloat(c)),d&&(this.originalHeight="string"===typeof d&&-1!=d.indexOf("%")?d:parseFloat(d)),b=this.bannerMode?{w:c,h:d}:this.calcVideoResolution(this.originalWidth,this.originalHeight),this.css({width:isNaN(b.w)?b.w:b.w+"px",height:b.h+"px"}),this.parentEl&&0<this.parentEl.offsetHeight&&q(this.parentEl,{height:b.h+"px"}),this.bannerMode&&q(this.parentEl,{width:b.w+"px"}));350>=this.el.offsetWidth?this.addClass("brid-small"):this.removeClass("brid-small");
this.trigger("playerresize")},onScroll:function(b){if(this.canAutoplay()||!b||this.userInteracted)if(this.isPlayerInView()){a.log("OSPlayer In View getAdInProgress",this.getAdInProgress(),"this.adsManager.paused",this.adsManager.paused,"this.pausedOnInteraction",this.pausedOnInteraction,"this.waitingForAd",this.waitingForAd);if(!this.config.viewability&&(!this.adsManager||this.adsManager&&void 0===this.adsManager.paused)&&!this.getAdInProgress()&&this.waitingForAd)return!1;this.wasInView=!0;(this.tech&&
this.tech.support.adManagement&&this.techGet("paused")||this.adsManager.paused||this.waitingForAd)&&this.play()}else this.getAdInProgress()&&(this.tech&&this.tech.support.adManagement&&!this.techGet("paused")||!this.adsManager.paused)&&this.config.pauseOffView&&(!this.config.inview||this.closed)&&this.pause()},createTempHolder:function(){var a=this.tempHolder=g("div",{className:"brid-temp-holder"});q(a,{width:this.el.offsetWidth+"px",height:this.el.offsetHeight+"px",top:this.el.style.top+"px",left:this.el.style.left+
"px",position:this.el.style.position});b.insertAfter(this.el,a)},destroyTempHolder:function(){if(this.tempHolder){var a=this.tempHolder;a.parentNode.removeChild(a);this.tempHolder=null}},resizeTempHolder:function(){var b=this.tempHolder;if(b&&b.parentNode&&p()){var c=this.calcVideoResolution(this.originalWidth,this.originalHeight,b);a.log("resizeTempHolder",c);q(b,{width:c.w+"px",height:c.h+"px"})}},changeControlsBehaviour:function(a){a!=this.config.controlsBehavior&&(this.config.controlsBehavior=
a,this.trigger("controlsbehaviourchange"),"autoHide"==a&&this.mouseOut())},officialTech:function(){var a=this.techName;return"html5"===a||"flash"===a||"ogv"===a||"dash"===a||"hls"===a},isSmall:function(){return 350>=this.el.offsetWidth},useOGVInPage:function(a){a=a||this.config;return p()&&!b.autoplaySupported&&a.inpage_mobile&&a.encode_preroll},isStartMuted:function(){return(0===this.config.start_volume||p()&&this.config.autoplay)&&!this.values.volume},isVideoOrAdPlaying:function(){return this.isPlaying||
this.getAdInProgress()},showOnAd:function(a){return!0},isPlayerInView:function(){var c=v.body,d=v.documentElement,f=this.el.offsetHeight,g=h.pageYOffset||c.scrollTop,g=a.findPosY(this.el)-g,m=b.getFixedHeadHeight(),k=parseInt(this.config.autoplayInviewPct)/100;h.innerHeight+h.scrollY>=Math.max(c.scrollHeight,c.offsetHeight,d.clientHeight,d.scrollHeight,d.offsetHeight)&&(f=0);return g+f*(1-k)>=m&&g+f*k<=h.innerHeight},isNextQueued:function(){return"continuous"==this.config.playlistPlayback&&(this.currentIndex<
this.playlistLength-1||"loop"==this.config.afterPlaylistEnd)},addTech:function(a){-1==this.config.techOrder.indexOf(a)&&this.config.techOrder.push(a)},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")},networkState:function(){return this.techCall("networkState")},readyState:function(){return this.techCall("readyState")}});a.OSPlayer.positionType={NORMAL:"normal",IN_EXPERIENCE:"inexperience",IN_GLIDE:"inglide"};
var C=a.OSPlayer.positionType;(function(){var b=k.createElement("div");var c={};if(void 0!==b.cancelFullscreen)c.requestFn="requestFullscreen",c.cancelFn="exitFullscreen",c.eventName="fullscreenchange",c.isFullScreen="fullScreen";else{if(k.mozCancelFullScreen){var d="moz";c.isFullScreen=d+"FullScreen"}else k.webkitCancelFullScreen?(d="webkit",c.isFullScreen=d+"IsFullScreen"):k.msExitFullscreen&&(d="ms",c.isFullScreen=void 0);b[d+"RequestFullScreen"]?(c.requestFn=d+"RequestFullScreen",c.cancelFn=d+
"CancelFullScreen",c.eventName=d+"fullscreenchange"):b[d+"RequestFullscreen"]&&(c.requestFn=d+"RequestFullscreen","ms"!=d?(c.cancelFn=d+"CancelFullscreen",c.eventName=d+"fullscreenchange"):(c.cancelFn=d+"ExitFullscreen",c.eventName="MSFullscreenChange"))}k[c.cancelFn]&&(a.support.requestFullScreen=c);k.fullscreenEnabled=k.fullscreenEnabled||k.webkitFullscreenEnabled||k.mozFullScreenEnabled||k.msFullscreenEnabled})();(function(){var b=k.createElement("div").style,c=""===b.MozTransform?"MozTransform":
""===b.MsTransform?"MsTransform":""===b.WebkitTransform?"WebkitTransform":""===b.OTransform?"OTransform":""===b.transform?"transform":!1,d=""===b.MozAnimation?{name:"MozAnimation",end:"animationend"}:""===b.MsAnimation?{name:"MsAnimation",end:"MSAnimationEnd"}:""===b.WebkitAnimation?{name:"WebkitAnimation",end:"webkitAnimationEnd"}:""===b.OAnimation?{name:"OAnimation",end:"oanimationend"}:""===b.animation?{name:"animation",end:"animationend"}:!1;a.support.transition=""===b.MozTransition?{name:"MozTransition",
end:"transitionend"}:""===b.MsTransition?{name:"MsTransition",end:"msTransitionend"}:""===b.WebkitTransition?{name:"WebkitTransition",end:"webkitTransitionEnd"}:""===b.OTransition?{name:"OTransition",end:"oTransitionEnd"}:""===b.transition?{name:"transition",end:"transitionend"}:!1;a.support.transform=c;a.support.animation=d;a.support.transform.name&&(a.support.transformProp=a.support.transform.name.replace(/([A-Z])/g,"-$1").toLowerCase())})();a.PlaybackTech=f.extend({support:{},init:function y(a,
b){y.base.call(this,a,b);this.add("click",this.$f(this.onClick))},onClick:function(){a.PlayToggle.prototype.onClick.call(this)}});a.apiMethods="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
b.each(a.apiMethods,function(b){a.PlaybackTech.prototype[b]=function(){throw Error("--- BridPlayer --- The '"+b+"' method is not available on the playback technology's API");}});a.html5=a.PlaybackTech.extend({init:function(a,b,c){this.player=a;this.name="Brid.html5";this.el=this.createElement();this.ready(c);if(a=b.source)this.el.src=a.src;this.addClass("brid-animate");this.setupTriggers();this.triggerReady()},destroy:function(){this.player.tag=!1;this.removeTriggers();this.el.parentNode.removeChild(this.el)},
createElement:function(){var a=this.player,c=a.tag;c&&"VIDEO"===c.tagName||(c=b.createElement("video",{id:a.el.id+"_html5",className:"brid-tech"}),b.insertFirst(c,a.el));c.preload=b.isMobilePlatform()&&a.config.autoplay&&(!b.isFacebookApp()||b.autoplaySupported)?"metadata":"none";b.autoplaySupported&&(a.config.autoplay||a.config.play_in_page)&&(c.setAttribute("muted","true"),c.muted=!0,a.values.muted=!0);a.config.autoplay||a.config.play_in_page||b.isIPhone()&&a.config.slide_inview||b.isIPhone()&&
a.config.inpage_mobile_clicktoplay?(c.setAttribute("webkit-playsinline","true"),c.setAttribute("playsinline","true")):b.isIPhone()&&b.css(c,{"-webkit-transform":"translateX(1024px)"});return this.player.tag=c},setupTriggers:function(){b.each.call(this,a.html5.events,function(c){a.event.add(this.el,c,b.$f(this.player,this.eventHandler))})},removeTriggers:function(){b.each.call(this,a.html5.events,function(c){a.event.remove(this.el,c,b.$f(this.player,this.eventHandler))})},eventHandler:function(a){a.stopPropagation&&
a.stopPropagation();a.cancelBubble=!0;b.isIPhone()&&!this.config.inpage_mobile_clicktoplay&&!this.config.autoplay&&this.getAdInProgress()&&"Brid.VAST"==this.Advertising.currentAdsManager.name&&("playing"===a.type&&(this.supposedCurrentTime=this.tag.currentTime),"timeupdate"!==a.type||this.tag.seeking||(this.supposedCurrentTime=this.tag.currentTime),"seeking"===a.type&&.01<Math.abs(this.tag.currentTime-this.supposedCurrentTime)&&this.techCall("setCurrentTime",this.supposedCurrentTime));this.trigger(a)},
play:function(){a.log("HTML5 play");this.el.play()},pause:function(){a.log("HTML5 pause");this.el.pause()},stop:function(){this.src("");this.player.load();this.player.src(this.player.currentSource)},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(b){try{this.el.currentTime=b}catch(lb){a.warn("--- BridPlayer --- Video isn't ready. ",lb)}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},
volume:function(){return this.el.volume},setVolume:function(a){this.el.volume=a},muted:function(){return this.el.muted},setMuted:function(a){a||this.el.removeAttribute("muted");this.el.muted=a},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){return!1},src:function(a){this.el.src=a},load:function(){this.el.load()},currentSrc:function(){return this.el.src},preload:function(){return this.el.preload},setPreload:function(a){this.el.preload=
a},autoplay:function(){return this.el.autoplay},setAutoplay:function(a){this.el.autoplay=a},loop:function(){return this.el.loop},setLoop:function(a){this.el.loop=a},error:function(){switch(this.el.error.code){case 1:return"Fetching process aborted by user";case 2:return"Error occurred when downloading";case 3:return"Error occurred when decoding";case 4:return"Audio/video not supported"}return!1},networkState:function(){return this.el.networkState},readyState:function(){return this.el.readyState},
seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.config.controls},defaultMuted:function(){return this.el.defaultMuted}});a.html5.isSupported=function(){return!!k.createElement("video").canPlayType};a.html5.canPlaySource=function(a){return(a=b.formatType(a.src,a.type))?k.createElement("video").canPlayType?!!k.createElement("video").canPlayType(a):!1:!1};a.html5.canPlayURL=function(a){return(a=b.getTypeFromFile(a))?k.createElement("video").canPlayType?
!!k.createElement("video").canPlayType(a):!1:!1};a.html5.events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange webkitbeginfullscreen webkitendfullscreen".split(" ");a.html5.prototype.support={fullscreen:b.ua.match("Chrome")||b.ua.match("Mac OS X 10.5")?!1:!0,movingElementInDOM:!b.isIOS(),progressEvent:!0,timeupdateEvent:!0,monetizable:!0,adManagement:!1,
canResize:!0,hasPoster:!1,qualityManager:!1};b.isAndroid()&&3>b.androidVersion()&&(k.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?"maybe":""});a.OSAssets=a.Class.extend({init:function(c,d,f,g){a.log("Assests config",f);this.config=f||{};this.onAssetsLoaded=g;this.player=c;this.el=d;this.legacyConfigURL=this.cssLoaded=this.configLoaded=!1;b.createCSS(a.osconfig.defaultCSS,"bridcssos");this.loadPlayerConfig(f);this.checkIfAssetsLoaded()},
loadPlayerConfig:function(c){if("object"==typeof c.id)this.onConfigLoad(c.id);else{var d=-1!=c.id.indexOf("http")?c.id:"//"+k.loadFromHost+"/services/unit/"+c.id;-1==d.indexOf(".json")&&-1==d.indexOf(".php")&&(d+=".json");this.localStoragePlayerKey="bridPlayer_"+c.id;c=b.getLocalStorage(this.localStoragePlayerKey);if(!c||a.forceConfigLoad||"undefined"!=typeof n.BridChromePlugin&&n.BridChromePlugin.forceConfigLoad)a.Loader.loadText(d,u(this,this.onConfigLoad),this.onConfigError);else this.onConfigLoad(c)}},
onConfigError:function(){this.player.destroy()},onConfigLoad:function(c){var d=b.deepCopy(a.osconfig),f=this.config;c="string"==typeof c?JSON.parse(c||"{}"):c;!this.localStoragePlayerKey||b.getLocalStorage(this.localStoragePlayerKey)||c.Unit.inCms||b.setLocalStorage(this.localStoragePlayerKey,c,d.configCacheDuration);d=b.merge(d,c);d=b.merge(d,d.Unit);f=b.merge(d,f);f.id=f.Unit.id;a.log("OSAssets onConfigLoad tempConfig",d);a.log("OSAssets onConfigLoad config",f);f.Unit=null;delete f.Unit;this.config=
f;this.URLconfig=f.Url;this.servicePart=this.URLconfig.service;this.servicePlugins=this.URLconfig.servicePlugins;this.cdnPart=this.URLconfig.cdn;this.partnerID=f.Partner.id;this.cssLoaded=this.configLoaded=!1;if(-1!=this.cdnPart.indexOf("http:")||-1!=this.cdnPart.indexOf("https:"))this.cdnPart=this.cdnPart.replace(/.*?:\/\//g,"");if(-1!=this.servicePart.indexOf("http:")||-1!=this.servicePart.indexOf("https:"))this.servicePart=this.servicePart.replace(/.*?:\/\//g,""),this.servicePlugins=this.servicePlugins.replace(/.*?:\/\//g,
"");this.loadPlugins(f);this.loadCSS();this.checkIfAssetsLoaded()},loadPlugins:function(c){var d,f=[],g=[],m=c.Plugin||[],h=this;a.log("Assets loadPlugins legacyConfigURL",this.legacyConfigURL,"video",this.video);this.player.useOGVInPage(c)&&-1==m.indexOf("brid.ogv.js")&&m.push("brid.ogv.min.js");this.legacyConfigURL&&this.video&&this.video.src&&"video/youtube"==b.getTypeFromFile(this.video.src)&&-1==m.indexOf("brid.yt.min.js")&&m.push("brid.yt.min.js");this.player.hasHLS&&!a.html5.canPlaySource({type:"application/x-mpegURL"})&&
-1==m.indexOf("brid.hls.min.js")&&m.push("brid.hls.min.js");b.isMobilePlatform()&&c.slide_inview_mobile&&(a.log("Remove slideinview plugin"),m.pop("brid.slideinview.min.js"));a.log("Assets loadPlugins plugins",m);m.map(function(b){d="string"===typeof b?b:b.url;var c="",m="";-1!=d.indexOf("http://")||-1!=d.indexOf("https://")||0==d.indexOf("/")||0==d.indexOf("../")?f.push(d):(a.log("Plugin info",h.servicePlugins,d),"//p.brid.tv"==h.servicePlugins&&(m=d.split(".")[1],c=a.pv.plugins[m].version+"/",m+=
"/"),f.push(h.servicePlugins+"/"+h.URLconfig.plugins+m+c+d));var c=d.split("/"),k="";(0<c.length?c[c.length-1]:d).split(".").filter(function(a){return!("min"==a||"js"==a)}).map(function(a){k+=a});g.push({id:k,url:d,oop:b.oop?b.oop:!1})});c.Plugin=g;0<g.length?a.Loader.load("js",f,this.onPluginsLoad,null,this):this.configLoaded=!0},loadCSS:function(b){var c=this.config,d=c.css?c.css:c.Style?c.Style.name:"",c=!c.Skin.templatized||"brid.css"==d,f=this.cdnPart.replace(/cdn/g,"c");d&&""!=d?-1!=d.indexOf("http")||
0==d.indexOf("/")||0==d.indexOf("../")?a.Loader.load("css",d,this.onCssLoad,null,this,b):a.Loader.load("css",f+"/partners/"+(c?"":this.partnerID+"/")+"style/"+d,this.onCssLoad,null,this,b):(this.cssLoaded=!0,a.warn("--- Brid Player --- No CSS present"))},onPluginsLoad:function(){var b=!0,c=this.config.Plugin;m.remove(k,"bridpluginloaded",a.Util.$f(this,this.onPluginsLoad,this.el.id));for(var d=0;d<c.length;d++)if(a.log("onPluginsLoad",this.el.id,this.config.Plugin[d].id,a.plugins[c[d].id]),"undefined"==
typeof a.plugins[c[d].id]){b=!1;break}b?this.configLoaded||(this.configLoaded=!0,this.checkIfAssetsLoaded()):m.add(k,"bridpluginloaded",a.Util.$f(this,this.onPluginsLoad,this.el.id))},onCssLoad:function(){a.log("Assets onCssLoad");this.cssLoaded?this.player.isReady&&(this.player.resetSkin(),this.player.show()):(this.cssLoaded=!0,this.checkIfAssetsLoaded())},onLoaded:function(a){},checkIfAssetsLoaded:function(){a.log("Asset checkIfAssetsLoaded","cssLoaded",this.cssLoaded,"configLoaded",this.configLoaded,
"player.isReady",this.player.isReady);this.configLoaded&&this.cssLoaded&&!this.player.isReady&&this.onAssetsLoaded&&(this.onAssetsLoaded(this.config,this),this.onAssetsLoaded=null,delete this.onAssetsLoaded)}});a.Loader={env:null,head:null,pending:{},pollCount:0,queue:{css:[],js:[]},styleSheets:k.styleSheets,finish:function(a,b){var c=this.pending[a];if(c){var d=c.callback;var f=c.urls;b&&"js"==a&&-1!=f.indexOf(b)?f.splice(f.indexOf(b),1):"css"!=a&&"undefined"!=typeof b||f.shift();this.pollCount=
0;f.length||(delete this.pending[a],this.queue[a].length&&this.load(a),d&&d.call(c.context,c.obj))}},getEnv:function(){var a=b.ua;this.env={async:!0===g("script").async};(this.env.webkit=/AppleWebKit\//.test(a))||(this.env.ie=/MSIE/.test(a))||(this.env.opera=/Opera/.test(a))||(this.env.gecko=/Gecko\//.test(a))||(this.env.unknown=!0)},load:function(a,c,d,f,m,h){var p,t;var q="css"===a;var x=[];this.env||this.getEnv();if(c){c="string"===typeof c?[c]:c.concat();var w=0;for(p=c.length;w<p;w++)c[w]=b.absolutizeUrl(c[w]);
if(q||this.env.async&&!this.env.ie||this.env.gecko||this.env.opera)this.queue[a].push({urls:c,callback:d,obj:f,context:m});else for(w=0,p=c.length;w<p;++w)this.queue[a].push({urls:[c[w]],callback:w===p-1?d:null,obj:f,context:m})}if((h||!this.pending[a])&&(t=this.pending[a]=this.queue[a].shift())){this.head||(this.head=k.head||k.getElementsByTagName("head")[0]);this.headTop||v&&(this.headTop=v.head||v.getElementsByTagName("head")[0]);c=t.urls;w=0;for(p=c.length;w<p;++w)if(d=c[w],b.checkIfNodeExistsByURL(d,
q)||q&&!d)this.finish(a,d),w--,p--;else{if(q){var y=this.env.gecko?g("style"):g("link",{href:d,rel:"stylesheet"});k.BridIframeBurst&&y.setAttribute("onload",'window.frames["'+n.frameElement.id+'"].Brid.players["'+m.el.id+'"].assets.onCssLoad()')}else y=this.env.ie?g("script"):g("script",{src:d}),y.async=!0;y.className=f?f.class||"bridload":"bridload";y.setAttribute("charset","utf-8");this.env.ie&&!q?(/loaded|complete/.test(y.readyState)?this.finish(a):y.onreadystatechange=u(this,function(b){b=b.target?
b.target.src:b.path?b.path[0].src:void 0;/loaded|complete/.test(y.readyState)&&(y.onreadystatechange=null,this.finish(a,b))}),y.setAttribute("src",d)):q&&(this.env.gecko||this.env.webkit)?this.env.webkit?(t.urls[w]=y.href,this.pollWebKit()):(y.innerHTML='@import "'+d+'";',this.pollGecko(y)):y.onload=y.onerror=u(this,function(b){this.finish(a,q?void 0:b.target?b.target.src:b.path?b.path[0].src:void 0)});x.push(y)}w=0;for(p=x.length;w<p;++w)!this.headTop||"link"!==x[w].tagName.toLowerCase()&&"style"!==
x[w].tagName.toLowerCase()?this.head.appendChild(x[w]):this.headTop.appendChild(x[w])}},loadText:function(b,c,d,f,g,m){function h(a,b){for(var c in b)b.hasOwnProperty(c)&&a.setRequestHeader(c,b[c])}var k=0==b.indexOf("file:")||0==n.location.href.indexOf("file:")&&-1==b.indexOf("http:")&&-1==b.indexOf("https:")&&0!=b.indexOf("//");"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(F){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(F){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(F){}throw Error("This browser does not support XMLHttpRequest.");
});var p=new XMLHttpRequest;if("withCredentials"in p){try{p.open("GET",b,!0),m&&h(p,m)}catch(F){return a.error("--- BridPlayer --- XMLHttpRequest (open)",F),!1}p.withCredentials=!!g}else if("undefined"!=typeof XDomainRequest){p=new XDomainRequest;try{p.open("GET",b),p.onload=function(){c&&c(p.responseText,f)},p.onerror=function(a){d&&d(a)},p.onprogress=function(){},p.ontimeout=function(){}}catch(F){return a.error("--- BridPlayer --- XDomainRequest Error (open)",F),!1}}else{p=null;return}c&&(p.onreadystatechange=
u(this,function(){var b=p.responseText;4==p.readyState&&(p.responseXML&&(a.log("xhr result is XML"),b=p.responseXML),200==p.status||k&&0==p.status?c(b,f):d&&d(p.status))}));try{setTimeout(function(){p.send()},0)}catch(F){a.error("Brid HttpRequest Error (send)",F),d&&d(F)}},pollGecko:function(a){try{var b=!!a.sheet.cssRules}catch(D){this.pollCount+=1;40>this.pollCount?setTimeout(u(this,function(){this.pollGecko(a)}),50):b&&this.finish("css");return}this.finish("css")},pollWebKit:function(){var a=this.pending.css,
b;if(a){for(b=this.styleSheets.length;0<=--b;)if(this.styleSheets[b].href===a.urls[0]){this.finish("css");break}this.pollCount+=1;a&&(20>this.pollCount?setTimeout(u(this,this.pollWebKit),50):this.finish("css"))}},onError:function(b){a.error("--- Brid Player --- URL not valid or Network Error. Status: "+b)}};void 0===k.bridCanRunAds&&a.Loader.load("js","//services.brid.tv/player/build/plugins/adunit.js",function(){a.Util.adBlockerEnabled=void 0===k.bridCanRunAds},null,this);f=n._bos||[];f.debug&&(a.debug=
!0);f.forceConfigLoad&&(a.forceConfigLoad=!0);b.each(f,function(a){a.isExecuted||($bos(a.div,a.obj,a.onReady),a.isExecuted=!0)})})(window,document);
(function(n,k){var h=Brid.Util;n.$bp.Advertising=Brid.Abstract.extend({currentAdsManager:null,adManagers:[],adSDKConfigReference:{brid:"VAST",ima:"GoogleIMA"},_iqAvailable:!1,init:function f(d,c){function a(a,b){Brid.log("Advertising BridIQ onHandshake response",b,"error",a);if(this._iqAvailable=!(b.blocked||a))this._iqUserID=b.user_id,this._iqDomainID=b.domain_id;this._bIQHandShakeInProgress=!1;this._handshakeCallback&&this._handshakeCallback()}if(d.config.hideAdContainer)return null;f.base.call(this,
d,c);this.el=this.createElement();this.ads={};this.adManagers=[];this.currentAdsManager=null;c=this.ads;var b=d.config;d.advertising=!0;c.adOffset=b.adOffset?parseInt(b.adOffset):0;c.adFrequency=b.adFrequency?parseInt(b.adFrequency):0;c.bridFreqType=b.Partner.frequencyType?b.Partner.frequencyType:"ad";c.bridAdFreq=b.Partner.frequency?parseInt(b.Partner.frequency):0;c.bridAdPartner=!!b.Partner.bridAdPartner;c.adFrequency=0===c.adFrequency?1:c.adFrequency;Brid.log("Advertising ads.adOffset",c.adOffset,
"ads.adFrequency",c.adFrequency,"ads.bridAdFreq",c.bridAdFreq,"ads.bridFreqType",c.bridFreqType);c=function(a,b){var c=[],f=!1;a&&a.map(function(a){b[a]&&c.push(b[a])});if(1===c.length&&"VAST"==c[0]){var g=[];d.currentSource.id&&d.currentSource.Ad||0<d.videos.length&&d.videos[0].Ad?(d.currentSource.id&&d.currentSource.Ad?(Brid.log("Take ads from currentSource"),a=d.currentSource.Ad):(Brid.log("Take ads from first video"),a=d.videos[0].Ad),Brid.log("playerAds",a),a.map(function(a){var b=a.Ad.desktop;
a=a.Ad.mobile;var c=b&&0<b.length,d=a&&0<a.length,b=h.isMobilePlatform()?d?a:b:c?b:a;Brid.log("Check",b);g=g.concat(b)})):d.config.Ad&&(Brid.log("Take ads from player settings"),a=d.config.Ad,Brid.log("playerAds",a),a.map(function(a){var b=a.desktop;a=a.mobile;var c=b&&0<b.length,d=a&&0<a.length,b=h.isMobilePlatform()?d?a:b:c?b:a;Brid.log("Check",b);g=g.concat(b)}));Brid.log("Final Array",g);if(0<g.length)for(a=0;a<g.length;a++)if(Brid.log("Check url: ",g[a]),g[a]&&-1!=g[a].indexOf("googleads")){f=
!0;break}}d.useOGVInPage()||h.isMobilePlatform()&&d.config.play_in_page?c=["VAST","GoogleIMA"]:0===c.length?c=h.isMobilePlatform()?["VAST","GoogleIMA"]:["GoogleIMA","VAST"]:1===c.length&&("VAST"===c[0]&&f&&c.push("GoogleIMA"),"GoogleIMA"===c[0]&&c.push("VAST"));return c}(b.adSDK,this.adSDKConfigReference);Brid.log("Advertising adManagerClasses",c);c.map(this.$f(function(a){"undefined"!==typeof Brid[a]&&this.adManagers.push(new Brid[a](d,{container:this.el,wrapper:this}))}));d.adsManager=this;if(d.isReady)this.onPlayerReady();
else d.addOnce("ready",this.$f(this.onPlayerReady));d.add("newContent",this.$f(this.checkSceduledAds));d.add(["stopped","skipped"],this.$f(this.onEnded));d.add("playerresize",this.$f(this.onResize));d.config.deblocker&&"undefined"!==typeof $BridIq&&$BridIq.isAdBlockEnabled()&&(this.iqConfig=d.config.IQ||$BridIq.config,this._bIQHandShakeInProgress=!0,$BridIq.handshake(this.iqConfig,this.$f(a)))},createElement:function(){var f=h.elById(this.player.id+"_adContainer");f||(f=h.createElement("div",{id:this.player.id+
"_adContainer"}));if(!f)return!1;f.innerHTML="";h.addClass(f,"brid-advert-container");f.style.maxWidth="none";f.style.maxHeight="none";f.style.minWidth="0";f.style.minHeight="0";return f},techCall:function(f,d,c){if((c=c||this.currentAdsManager)&&!c.error)if(Brid.log("Advertising techCall ",f,d),c.isReady)try{c[f](d)}catch(a){Brid.error(a)}else c.ready(function(){this[f](d)})},techGet:function(f,d,c){if((c=c||this.currentAdsManager)&&!c.error)if(c.isReady)try{return c[f](d)}catch(a){void 0===c[f]?
Brid.warn("--- BridPlayer --- "+f+" method not defined for "+c.name+" advertising technology.",a):"TypeError"==a.name?Brid.error("--- BridPlayer --- "+f+" unavailable on "+c.name+" advertising technology element.",a):Brid.error(a)}else Brid.warn("--- BridPlayer --- "+c.name+" ads manager is not ready")},onPlayerReady:function(){Brid.log("Advertising onPlayerReady");var f=this.player;h.insertAfter(f.tag,this.el);this.defaultControlsBehaviour=f.config.controlsBehavior;f.config.autoplay&&!f.tech.support.monetizable&&
(Brid.warn("Advertising Shouldn't play ads tech not monetizable"),this.hide())},setupAdsLoader:function(){var f=this.player;if(f.showOnAd()||!f.tech.support.adManagement&&f.tech.support.monetizable)for(var f=0,d=this.adManagers.length;f<d;f++)this.techCall("setupAdsLoader",null,this.adManagers[f]);else this.hide()},checkSceduledAds:function(f){Brid.log("Advertising checkSceduledAds");var d=this.player,c=this.ads,a=d.currentSource,b=d.config.Ad,g=a.Ad;this.adOverride=this.flagOurAd=!1;this.priority=
0;this.ourAdPos=-1;c.overlay=c.midroll=c.postroll=c.preroll=c.banner=null;d.hasPreroll=!1;d.hasPostroll=!1;d.hasMidroll=!1;d.hasOverlay=!1;d.remove("beforeStart",this.$f(this.onBeforeStart));d.remove("timeupdate",this.$f(this.checkForAd));this.adManagers=this.adManagers.filter(function(a){return!a.error});if(d.showOnAd()||d.tech.support.monetizable&&a.monetize&&this.checkOffsetAndFrequency()&&0!==this.adManagers.length){if(d.config.freqCap){var k=h.getLocalStorage(d.config.id+"_cap");if(!(f&&f.data&&
f.data.reinit)&&k&&"1"===k)return}this.contentCompleteCalled=!1;b&&b.map(function(a){a.played=!1;"0"===a.adType&&(c.preroll=h.clone(a));"1"===a.adType&&(c.midroll=h.clone(a));"2"===a.adType&&(c.postroll=h.clone(a));"3"===a.adType&&(c.overlay=h.clone(a));"4"===a.adType&&(c.banner=h.clone(a))});g&&g.map(function(a){a.Ad.played=!1;"0"===a.Ad.adType&&(c.preroll=h.clone(a.Ad));"1"===a.Ad.adType&&(c.midroll=h.clone(a.Ad));"2"===a.Ad.adType&&(c.postroll=h.clone(a.Ad));"3"===a.Ad.adType&&(c.overlay=h.clone(a.Ad));
"4"===a.Ad.adType&&(c.banner=h.clone(a.Ad))});a.intro_video&&(c.midroll=c.postroll=c.overlay=c.banner=null);f=c.preroll;var a=c.midroll,b=c.postroll,g=c.overlay,t=c.banner;f&&(f.adTags=this.selectAdTagsByPlatform(f));a&&(a.adTags=this.selectAdTagsByPlatform(a),a.cuepoints=a.cuepoints.split(","));b&&(b.adTags=this.selectAdTagsByPlatform(b));g&&(g.adTags=this.selectAdTagsByPlatform(g));var k=d.config.Partner,n=d.currentSource.age_gate_id?parseInt(d.currentSource.age_gate_id):0;Brid.log("Advertising checkForScheduledAds ageGateID",
n);if(c.bridAdFreq&&2>n&&(this.networkAdTags=this.selectAdTagsByPlatform(k.network||k))){var q=this.networkAdTags;Brid.log("Advertising networkAdTags:",q);this.shouldPlayOurAd()&&(this.adOverride=this.flagOurAd=!0,q&&0<q.length?(f?f.adTags=q:f=c.preroll={id:"1",player_id:d.id,video_id:"0",adTags:q,adType:"0",adTimeType:"s",overlayStartAt:null,overlayDuration:null,cuepoints:null},a&&(a.adTags=q),b&&(b.adTags=q)):this.adOverride=this.flagOurAd=!1)}k=k.program;!this.flagOurAd&&c.bridAdPartner&&2>n&&
k&&(this.networkAdTags=this.selectAdTagsByPlatform(k))&&(q=this.networkAdTags,Brid.log("Ad program networkAdTags",q),f&&(f.adTags=f.adTags||[],f.adTags=f.adTags.concat(q),f.adTags.priority=0),b&&(b.adTags=b.adTags||[],b.adTags=b.adTags.concat(q),b.adTags.priority=0),a&&(a.adTags=a.adTags||[],a.adTags=a.adTags.concat(q),a.adTags.priority=0));d.hasPreroll=!!(f&&f.adTags&&f.adTags.length);d.hasPostroll=!!(b&&b.adTags&&b.adTags.length);d.hasMidroll=!!(a&&a.adTags&&a.adTags.length);d.hasOverlay=!!(g&&
g.adTags&&g.adTags.length);!this.flagOurAd&&(t&&(t.adTags||t.mobile)||k&&k.banner)&&(t=t||{mobile:[],adType:"4"},q=k&&k.banner,Brid.log("Advertising add BannerAd",t,q),this.bannerManagerAdded||(this.adManagers.push(new Brid.BannerAd(d,{container:this.el,wrapper:this})),this.bannerManagerAdded=!0),n=t.adTags||t.mobile,t.adTags="string"===typeof n?[n]:n,q&&(t.adTags=t.adTags.concat(q)),t.adTags=t.adTags.map(function(a){Brid.log("Advertising add BannerAd","undefined"===typeof a.overlayDuration,t.overlayDuration);
var b=a.url?a:{id:"",url:a};b.url=void 0===a.overlayDuration?b.url+("<|>"+t.overlayDuration||""):b.url+("<|>"+a.overlayDuration||"");return b}),d.hasPreroll?f.adTags=f.adTags.concat(t.adTags):(f=c.preroll=t,d.hasPreroll=!0),c.preroll.adTags.priority=0);d.showOnAd()&&!d.hasPreroll?d.destroy():(Brid.log("Advertising preroll",f,"midroll",a,"postroll",b,"overlay",g),d.tech.support.adManagement?(c.bridAd=this.networkAdTags,c.flagOurAd=this.flagOurAd,d.techCall("ads",c),k&&d.techCall("setProgram",k),this.techCall("destroyAdsLoader"),
this.hide()):(this.show(),this.setupAdsLoader(),d.hasPreroll&&d.add("beforeStart",this.$f(this.onBeforeStart)),(d.hasMidroll&&"ogv"!==this.player.techName||d.hasOverlay)&&d.add("timeupdate",this.$f(this.checkForAd)),d.add("ended",this.$f(this.onEnded))))}else Brid.warn("Advertising Shouldn't play ads on non monetizable techs | Video or player not monetized | No Ad Managers initialized due to Ad Blocker or Network Error"),this.hide(),this.techCall("destroyAdsLoader")},shouldPlayOurAd:function(){var f=
h.randomInt(1,100*this.ads.bridAdFreq);Brid.log("Advertising RANDOM",f);return 1<=f&&100>=f},checkOffsetAndFrequency:function(){var f=!0;if("undefined"==typeof this.videosPlayed||null==this.videosPlayed)this.videosPlayed=h.getLocalStorage(this.player.id+"_videos_played");this.videosPlayed||(this.videosPlayed=1);Brid.log("Advertising checkOffsetAndFrequency videosPlayed",this.videosPlayed,"adFrequency",this.ads.adFrequency,"adOffset",this.ads.adOffset);if(this.videosPlayed<this.ads.adOffset||0!=(this.videosPlayed-
this.ads.adOffset)%this.ads.adFrequency)f=!1;return f},onBeforeStart:function(){Brid.log("Advertising onBeforeStart");this.player.remove("beforeStart",this.$f(this.onBeforeStart));this.hasAdRules=!1;this.checkPreroll()},checkPreroll:function(){var f=this.ads.preroll;f&&!f.played&&(this.player.remove("timeupdate",this.$f(this.checkForAd)),this.preRequestAd(f))},checkForMidroll:function(){if(!(0>=this.player.duration()))for(var f,d=0,c=this.player,a=this.ads.midroll,b=a.cuepoints;d<b.length;)if(f=parseInt(b[d]),
f="s"==a.adTimeType?f-c.currentTime():c.duration()*f/100-c.currentTime(),0>=f){Brid.log("Advertising play midroll");a.adTags.priority=0;c.remove("timeupdate",this.$f(this.checkForAd));b.splice(d,1);c.pause();this.preRequestAd(a);break}else if(5>f&&0<f){c.trigger("adStartsSoon");break}else c.trigger("hideAdInfo"),d++},checkForOverlay:function(){var f=this.ads.overlay,d=this.player;if("s"==f.adTimeType)var c=d.currentTime()-f.overlayStartAt;else c=d.currentTime()-d.duration()*f.overlayStartAt/100,f.overlayDuration=
d.duration()*f.overlayDuration/100;0<c&&!f.playing&&!f.played&&this.preRequestAd(f)},checkForAd:function(){this.hasAdRules||!this.player.isPlaying||this.player.getAdInProgress()||(this.ads.midroll&&"ogv"!=this.player.techName&&this.checkForMidroll(),this.ads.overlay&&!this.ads.overlay.played&&this.checkForOverlay())},onEnded:function(f){Brid.log("Advertising onEnded");this.player.remove("ended",this.$f(this.onEnded));if(!this.contentCompleteCalled){this.contentCompleteCalled=!0;(this.ads.overlay&&
this.ads.overlay.playing||!this.isLinear())&&this.stopNonLinear();for(var d=0,c=this.adManagers.length;d<c;d++)this.techCall("contentComplete",null,this.adManagers[d]);"ended"===f.type&&this.checkPostroll()}},checkPostroll:function(){var f=this.ads.postroll;f&&!f.played&&(this.player.remove("timeupdate",this.$f(this.checkForAd)),this.preRequestAd(f))},setAd:function(f,d){if(this.player.currentSource.monetize){var c,a=!1;"string"===typeof f.adTagUrl&&(f.adTagUrl=[f.adTagUrl]);if((c="video"===d?this.player.currentSource.Ad:
this.player.config.Ad)&&0<c.length)for(var b=0;b<c.length;b++)c[b].adType===f.adType&&(c[b]=f,a=!0);else c="video"===d?this.player.currentSource.Ad=[]:this.player.config.Ad=[];a||("video"===d?c.push({Ad:f}):c.push(f));this.checkSceduledAds()}},playAd:function(f){Brid.log("Advertising playAd",f);var d=this.player;d.currentSource.monetize&&(f.adTagUrl&&"string"===typeof f.adTagUrl&&(f.adTagUrl=[f.adTagUrl]),f=this.flagOurAd?this.networkAdTags:f,f="string"===typeof f?{adTagUrl:[f]}:"array"===typeof f?
{adTagUrl:f}:f,f.adTags=this.selectAdTagsByPlatform(f),d.newContent=!1,d.tech.support.adManagement?(this.hide(),this.player.techCall("playAd",f)):this.preRequestAd(f))},selectAdTagsByPlatform:function(f){var d=f.flashAdTagUrl||f.desktop,c=f.adTagUrl||f.mobile,a=d&&0<d.length,b=c&&0<c.length,a=h.isMobilePlatform()?b?c:d:a?d:c;Brid.log("Advertising selectAdTagsByPlatform ",f.adType,"desktop",d,"mobile",c);a?("string"===typeof a?a=[{id:"0",url:a}]:"string"===typeof a[0]&&(a=a.map(function(a,b){return{id:"",
url:a}})),a.priority=0):a=null;Brid.log("Advertising selectAdTagsByPlatform ads",a);return a},selectPriorityAdTag:function(f){var d=null,c=this.player.config,a=c.Partner.program;Brid.log("Advertising selectPriorityAdTag",f);if(!f)return!1;(this.flagOurAd?!this.ads.overlay||!this.ads.overlay.playing:1)&&f.priority<f.length?(d=f[f.priority],f.priority++):f.priority=0;Brid.log("Advertising tag",d,f.priority);this.flagOurAd=!!(d&&c.backfill_monetize&&a&&(a.desktop&&-1!==a.desktop.indexOf(d)||a.mobile&&
-1!==a.mobile.indexOf(d)||a.banner&&-1!==a.banner.indexOf(d))||this.adOverride);return d},selectAdsManager:function(f){for(var d,c=0,a=this.adManagers.length;c<a;c++)if(this.adManagers[c].supportsAdTag(f)&&!this.adManagers[c].error&&!d){d=this.adManagers[c];break}return d},preRequestAd:function(f){Brid.log("Advertsing preRequestAd",f,this.techGet("isLinear"),this.currentAdObject);if(!f)return!1;this.currentAdObject&&(this.ads.overlay&&this.ads.overlay.playing||!this.isLinear())&&this.stopNonLinear();
this.thirdParty=!1;this.currentAdObject=f;this.currentAdObject.played=!0;if(f=this.selectPriorityAdTag(f.adTags))return this.currentAdObject.currentID=f.id,this.requestAd(f.url),!0;Brid.log("Advertsing no more adtags");return!1},requestAd:function(f){function d(a,b,c){return a.split(b).join(c).split(b.toUpperCase()).join(c)}function c(b){this._handshakeCallback=null;$BridIq.url({Url:b,Key:u.iqConfig.Key,AccountId:u.iqConfig.AccountId},a.bind(u))}function a(a,b){a?(Brid.error("--- Brid IQ Deblock failed--- ",
a),this._urlDeblocked=!1,this.techCall("requestAd",f)):(Brid.log("onDeblock url:",b.url),this._urlDeblocked=!0,this.techCall("requestAd",b.url),$BridIq.ping("request",{user_id:this._iqUserID,domain_id:this._iqDomainID}))}function b(a){Brid.error("--- BridPlayer --- IP fetch failed",a);p(f)}function g(a){try{"string"===typeof a&&(h.setLocalStorage("brid_location",a),a=JSON.parse(a),h.location=a),Brid.log("Advertising location",a),f=d(f,"[user_ip]",encodeURIComponent(a.ip)),f=d(f,"[ipaddress]",encodeURIComponent(a.ip)),
f=d(f,"[latitude]",encodeURIComponent(a.latitude.toString())),f=d(f,"[longitude]",encodeURIComponent(a.longitude.toString())),p(f)}catch(C){Brid.error("--- BridPlayer --- IP parse failed",C),p(f)}}function p(a){Brid.exLog("requestAd: ",a,"currentAdsManager",m.name);Brid.log("Advertising _iqAvailable",u._iqAvailable,"_bIQHandShakeInProgress",u._bIQHandShakeInProgress,"priority",q.adTags.priority);if(u._iqAvailable)c(a);else if(u._bIQHandShakeInProgress)u._handshakeCallback=c.bind(u,a);else{if(Brid.Util.adBlockerEnabled)n.trigger("adBlock",
{flagOurAd:u.flagOurAd,at:q.adType});else{var b=q.adTags.priority-1;u.flagOurAd?(0>u.ourAdPos&&(u.ourAdPos=b),n.trigger("ourAdRequest",{at:"BannerAd"===m.name?"4":q.adType,wp:b-u.ourAdPos,baid:q.adTags[b].id})):n.showOnAd()?n.trigger("adUnitRequest",{at:"BannerAd"===m.name?"4":q.adType,wp:b}):n.showOnAd()||(Brid.log("Brid Advertising trigger partnerAdRequest"),n.trigger("partnerAdRequest",{at:"BannerAd"===m.name?"4":q.adType,wp:b}))}u.techCall("requestAd",a)}}var n=this.player,u=this,q=this.currentAdObject;
n.waitingForAd=!0;this._urlDeblocked=this.adErrored=this.isPodTag=this.adPlayed=!1;var m=this.currentAdsManager=this.selectAdsManager(f),w=-1<f.indexOf("doubleclick")&&15>f.indexOf("doubleclick");this.tempTime||(this.tempTime=n.currentTime());if(m&&!m.error){if(w&&"GoogleIMA"==m.name)this.hasAdRules=-1!=f.indexOf("ad_rule=1");else{this.hasAdRules=!1;if(-1!=f.toLowerCase().indexOf("[timestamp]")){var A=(new Date).getTime();f=d(f,"[timestamp]",A)}-1!=f.toLowerCase().indexOf("[referrer_url]")&&(f=d(f,
"[referrer_url]",encodeURIComponent(w?h.getEmbededUrl():k.referrer||h.getEmbededUrl())))}-1!=f.toLowerCase().indexOf("[description_url]")&&(f=d(f,"[description_url]",encodeURIComponent(h.getEmbededUrl())));-1!=f.toLowerCase().indexOf("[page_url]")&&(f=d(f,"[page_url]",encodeURIComponent(h.getEmbededUrl())));-1!=f.toLowerCase().indexOf("[video_title]")&&(f=d(f,"[video_title]",encodeURIComponent(n.currentSource.title)));-1!=f.toLowerCase().indexOf("[video_duration]")&&(f=d(f,"[video_duration]",n.duration()||
n.currentSource.duration));-1!=f.toLowerCase().indexOf("[video_id]")&&(f=d(f,"[video_id]",n.currentSource.id));-1!=f.toLowerCase().indexOf("[player_width]")&&n.el&&n.el.clientWidth&&(f=d(f,"[player_width]",n.el.clientWidth));-1!=f.toLowerCase().indexOf("[player_height]")&&n.el&&n.el.clientHeight&&(f=d(f,"[player_height]",n.el.clientHeight));-1!=f.toLowerCase().indexOf("[autoplay]")&&(f=d(f,"[autoplay]",n.config.autoplay?"1":"0"));-1!=f.toLowerCase().indexOf("[description]")&&(f=d(f,"[description]",
encodeURIComponent(n.currentSource.description)));-1!=f.toLowerCase().indexOf("[mediafile_url]")&&(f=d(f,"[mediafile_url]",encodeURIComponent(n.currentSource.src)));-1!=f.toLowerCase().indexOf("[dnt]")&&(f=d(f,"[dnt]",navigator.doNotTrack&&"1"===navigator.doNotTrack?"1":"0"));-1!=f.toLowerCase().indexOf("[viewability]")&&(f=d(f,"[viewability]",n.isPlayerInView()?"1":"0"));-1!=f.toLowerCase().indexOf("[user_agent]")&&(w=-1!=f.toLowerCase().indexOf("/13116887/")?encodeURIComponent(h.ua.replace(/\(/g,
"").replace(/\)/g,"").replace(/,/g,"").replace(/;/g,"")):encodeURIComponent(h.ua),f=d(f,"[user_agent]",w));-1!=f.toLowerCase().indexOf("/13116887/")&&(f=f.replace(/(sz=).*?(&)/,"$1"+(300>=n.el.offsetWidth||250>=n.el.offsetWidth?"300x250":400>=n.el.offsetWidth||400>=n.el.offsetWidth?"400x400":"640x480")+"$2"),n.showOnAd()&&(f=f.replace("/program&","/outstream&")));-1!==f.toLowerCase().indexOf("[user_ip]")||-1!==f.toLowerCase().indexOf("[ipaddress]")||-1!==f.toLowerCase().indexOf("[latitude]")||-1!==
f.toLowerCase().indexOf("[longitude]")?h.location?g(h.location):Brid.Loader.loadText("https://freegeoip.net/json/",g,b):p(f)}else Brid.error("--- BridPlayer --- Unsupported adTag or Ad Manager initialization failed"),Brid.exLog("Unsupported adTag or Ad Manager initialization failed"),this.preRequestAd(q)?Brid.log("Advertsing prerequest success"):(Brid.log("Advertsing prerequest fail"),this.hide(),this.adErrored=!0,this.resetManager(),n.trigger("adError",{message:"Unsupported adTag or Ad Manager initialization failed"}),
this.onContentResumeRequested())},stopNonLinear:function(){Brid.log("AdsManager stopNonLinear");this.onResize(null);this.ads.overlay&&(this.ads.overlay.playing=!1);this.currentAdsManager&&(this.currentAdsManager.el&&this.currentAdsManager.el.removeAttribute("style"),this.techCall("stop"));this.ourAdPos=-1;this.player.currentSrc()&&(this.resetManager(),this.reset())},onAdError:function(f,d){var c=this.player;Brid.log("Advertising onAdError message",f,c.newContent);if(c.newContent)c.trigger("adError",
{message:f});else{if(d){this.adManagers=this.adManagers.filter(function(a){return!a.error});if(0===this.adManagers.length){c.trigger("adError",{message:f});this.adErrored=!0;this.onContentResumeRequested();return}this.currentAdObject&&--this.currentAdObject.adTags.priority}this.preRequestAd(this.currentAdObject)?Brid.log("Advertising prerequest success"):(Brid.log("Advertising prerequest fail"),this.adErrored=!0,this.resetManager(),c.trigger("adError",{message:f}),this.onContentResumeRequested())}},
onAdStart:function(f){var d=this.player,c=this.currentAdObject;Brid.log("Advertsing onAdStart isLinear",this.techGet("isLinear"));this.techGet("isLinear")?(d.adInProgress=!0,d.manualTimeUpdatesOn(),d.trigger("play")):c&&(c.overlayDuration&&0!==c.overlayDuration||(c.overlayDuration=d.duration()?d.duration()-d.currentTime():15),this.currentAdObject===this.ads.overlay&&(this.ads.overlay.playing=!0),this.adPlayed=!0,this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null),-1===this.duration()&&
(this.closeTimeout=setTimeout(this.$f(this.stopNonLinear),1E3*c.overlayDuration)));d.trigger("adStart");f&&d.trigger("vpaidStart");this.thirdParty&&d.trigger("3rdPartyAdStart")},onAdImpression:function(){var f=this.currentAdObject,d=this.player,c=this.currentAdsManager,a=f.adTags.priority-1;d.waitingForAd=!1;this.adPlayed=!0;this.techGet("isLinear")&&(d.adInProgress=!0);Brid.log("Advertising onAdImpression flagOurAd",this.flagOurAd);d.trigger("adImpression");this.flagOurAd?d.trigger("ourAdImpression",
{at:"BannerAd"===c.name?"4":f.adType,wp:a-this.ourAdPos,baid:f.adTags[a].id}):d.showOnAd()?d.trigger("adUnitImpression",{at:"BannerAd"===c.name?"4":f.adType,wp:a}):d.showOnAd()||d.trigger("partnerAdImpression",{at:"BannerAd"===c.name?"4":f.adType,wp:a});this._urlDeblocked&&$BridIq.ping("impression",{user_id:this._iqUserID,domain_id:this._iqDomainID})},onAdComplete:function(){var f=this.currentAdObject,d=this.player,c=this.currentAdsManager,a=f.adTags.priority-1;Brid.log("Advertising onAdComplete",
f,a);this.flagOurAd?d.trigger("ourAdComplete",{at:"BannerAd"===c.name?"4":f.adType,wp:a-this.ourAdPos,baid:f.adTags[a].id}):d.showOnAd()?d.trigger("adUnitComplete",{at:"BannerAd"===c.name?"4":f.adType,wp:a}):d.showOnAd()||d.trigger("partnerAdComplete",{at:"BannerAd"===c.name?"4":f.adType,wp:a})},onContentPauseRequested:function(){var f=this.player;Brid.log("Advertising onContentPauseRequested",f.isPlaying);this.tempTime||(this.tempTime=f.currentTime());f.isPlaying&&f.pause();f.remove("ended",this.$f(this.onEnded));
f.trigger("disableInteraction")},onContentResumeRequested:function(){function f(){Brid.log("Adcertising resumeFromTime",d.tempTime);d.tempTime&&setTimeout(function(){c.currentTime(d.tempTime);d.tempTime=null},500);c.tech&&!c.tech.support.timeupdateEvent&&c.manualTimeUpdatesOn();c.trigger("startTrackingTime")}var d=this,c=d.player,a=d.contentCompleteCalled;Brid.log("Advertising onContentResumeRequested contentCompleteCalled",a,"currentSrc",c.currentSrc(),"currentSource",c.currentSource.src,"_this.tempTime",
d.tempTime,"autoplay_on_ad",c.config.autoplay_on_ad,"adErrored",this.adErrored,"adPlayed",this.adPlayed,"player.userInteracted",c.userInteracted);c.currentSrc()?(c.muted(c.values.muted),c.volume(c.values.volume),c.remove("ended",d.$f(d.onEnded)),c.add("ended",d.$f(d.onEnded)),d.reset(),!c.config.autoplay_on_ad||d.adPlayed||c.userInteracted?setTimeout(this.$f(function(){Brid.log("Advertising resumeContent");a||(c.currentSource.error||-1!==c.currentSrc().indexOf(c.currentSource.src))&&""!=c.tag.src?
a?(c.remove("loadedmetadata",f),d.tempTime=null):(c.tech&&c.tech.support.adaptiveStreaming&&(c.stopTrackingCurrentTime(),c.trigger("stopTrackingTime"),c.addOnce("loadedmetadata",f),c.load()),d.tempTime?setTimeout(function(){c.play();Brid.log("Advertising resumeFromTime",d.tempTime);c.currentTime(d.tempTime);d.tempTime=null;c.trigger("durationChange")},500):c.play()):(c.stopTrackingCurrentTime(),c.trigger("stopTrackingTime"),c.addOnce("loadedmetadata",f),c.src(c.currentSource),c.load(),c.play())}),
0):(Brid.log("ULECEMO OVDE BESNO!!!"),c.onScrollFunc&&(Brid.log("REMOVE SCROLL ALSO"),c.removeScroll()),this.adErrored=!0)):c.trigger("adEnd")},reset:function(){var f=this.player;f.adInProgress=!1;this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null);f.tag&&(h.removeClass(f.tag,"brid-animate"),h.css(f.tag,{height:""},!1,"important"),setTimeout(function(){h.addClass(f.tag,"brid-animate")},250));Brid.log("Advertising reset",this.techGet("isLinear"));this.isLinear()&&(this.adErrored||
this.adPlayed)&&(this.ourAdPos=-1);f.waitingForAd=!1;f.trigger("enableInteraction");(this.ads.midroll&&"ogv"!==f.techName||this.ads.overlay)&&f.add("timeupdate",this.$f(this.checkForAd));f.trigger("adEnd")},resetManager:function(){Brid.log("Brid.Advertising resetManager");this.techCall("resetManager");this.currentAdsManager&&this.currentAdsManager.el&&this.currentAdsManager.el.removeAttribute("style");this.currentAdsManager&&(this.currentAdsManager=null)},start:function(){this.currentAdsManager&&
this.techCall("start",this.paused)},stop:function(){this.currentAdsManager&&this.techCall("stop")},togglePlay:function(f){var d=this.player;d.pausedOnInteraction="undefined"!=typeof f;Brid.log("Advertisement togglePlay",this.currentAdsManager,"this.paused",this.paused);d.tech.support.adManagement?d.techGet("paused")?d.techCall("play"):d.techCall("pause"):this.currentAdsManager&&this.techCall("togglePlay",this.paused)},duration:function(){return this.player.tech.support.adManagement?this.player.techGet("duration"):
this.currentAdsManager?this.techGet("duration"):0},currentTime:function(){return this.player.tech.support.adManagement?this.player.techGet("currentTime"):this.currentAdsManager?this.techGet("currentTime"):0},volume:function(f){var d=this.player;if("undefined"!==typeof f)if(Brid.log("Advertising set volume",f),d.tech.support.adManagement)d.techCall("setVolume",f);else return this.currentAdsManager?this.techCall("volume",f):0;else return d.tech.support.adManagement?parseFloat(d.techGet("volume")):this.currentAdsManager?
this.techGet("volume"):0},hide:function(){for(var f=0,d=this.adManagers.length;f<d;f++)this.techCall("hide",null,this.adManagers[f])},show:function(){for(var f=0,d=this.adManagers.length;f<d;f++)this.techCall("show",null,this.adManagers[f])},onResize:function(f){this.currentAdsManager&&(f=f?100:0,setTimeout(this.$f(function(){this.techCall("onResize")}),f))},isLinear:function(){return"undefined"===typeof this.techGet("isLinear")||null===this.techGet("isLinear")||this.techGet("isLinear")}});Brid.GoogleIMA=
Brid.Abstract.extend({adsManager:null,adsLoader:null,adDisplayContainer:null,ad:null,hasAdRules:!1,isVPAID:!1,vpaidMode:"",adTimeout:15,init:function d(c,a){d.base.call(this,c,a);Brid.log("GoogleIMA init");this.el=a.container;this.parent=a.wrapper;this.adDisplayContainerInitialized=!1;this.name="GoogleIMA";this.adDisplayContainer=this.adsLoader=this.adsManager=null;if("undefined"===typeof google||"undefined"===typeof google.ima)this.count=0,Brid.Loader.load("js","https://imasdk.googleapis.com/js/sdkloader/ima3.js",
this.onDependencyLoad,null,this);else this.onDependencyLoad()},onDependencyLoad:function(){var d=this.player;Brid.log("GoogleIMA onDependencyLoad",this.count);if(!this.el)return this.error=!0,this.parent.onAdError("Ad Container not present",!0),this.hide(),null;if("undefined"===typeof google||"undefined"===typeof google.ima)return 10>this.count?(this.count++,setTimeout(this.$f(this.onDependencyLoad),50)):(this.error=!0,this.parent.onAdError("Google IMA not initialized. Make sure Ad blocker is disabled",
!0),this.hide()),null;d.add("userInteraction",this.$f(this.onUserInteraction));d.add("lastSecond",this.$f(this.onLastSecond));d.add("dompositionchange",this.$f(this.onDOMPositionChange));google.ima.settings.setPlayerType("brid-player");google.ima.settings.setPlayerVersion("2.7.17");google.ima.settings.setNumRedirects(8);this.triggerReady()},hide:function(){this.el&&h.css(this.el,{display:"none"})},show:function(){this.el&&h.css(this.el,{display:"block"})},onDOMPositionChange:function(){this.destroyAdsLoader();
this.onUserInteraction()},onUserInteraction:function(d){d=this.player;d.showOnAd()||!d.tech.support.adManagement&&d.tech.support.monetizable?(Brid.log("GoogleIMA onUserInteraction isPlaying",d.isPlaying,"adDisplayContainer",this.adDisplayContainer,"adDisplayContainerInitialized",this.adDisplayContainerInitialized,"adsLoader",this.adsLoader),this.adDisplayContainer&&!this.adDisplayContainerInitialized&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize())):this.hide()},setVPAIDMode:function(d){Brid.log("GoogleIMA setVPAIDMode",
d);google.ima.settings.setVpaidMode(d);this.vpaidMode=d},setupAdsLoader:function(){Brid.log("GoogleIMA setupAdsLoader",this.el,this.player.tag);!this.adsLoader&&this.player.tag&&(this.adDisplayContainer=new google.ima.AdDisplayContainer(this.el,this.player.tag),this.player.adDisplayContainer=this.adDisplayContainer,this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,
this.$f(this.onAdsManagerLoaded),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.$f(this.onAdError),!1))},contentComplete:function(){Brid.log("GoogleIMA contentComplete");this.adsLoader&&this.adsLoader.contentComplete();!this.adsManager||this.adsManager.getCuePoints().length&&-1!=this.adsManager.getCuePoints().indexOf(-1)||this.resetManager()},requestAd:function(d){var c=this.player,a=!1;if(-1!==d.indexOf("ima3vpaid.appspot.com")){var b=h.queryStringToObj(d.split("?")[1]);
Brid.log("GoogleIMA stripIMAWrapper",b);d=b.adTagUrl?decodeURIComponent(b.adTagUrl):d}this.adTag=d;this._hasResponse=!1;if("undefined"===typeof google||"undefined"===typeof google.ima)this.error=!0,this.parent.onAdError("Google IMA not initialized. Make sure Ad blocker is disabled",!0),this.hide();else{this.adsLoader||this.setupAdsLoader();this.show();if(-1!=d.toLowerCase().indexOf("brid_vpaidmode")||-1!=d.toLowerCase().indexOf("brid_adtimeout"))a=h.queryStringToObj(d.split("?")[1]),Brid.log("GoogleIMA requestAd params",
a),this.adTimeout=a.brid_adtimeout||this.adTimeout,a=a.brid_vpaidmode&&"insecure"==a.brid_vpaidmode;a||this.parent._urlDeblocked?this.setVPAIDMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE):this.setVPAIDMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);a=new google.ima.AdsRequest;h.validateURL(d)?a.adTagUrl=d:-1!==d.indexOf("<VAST")&&-1!==d.indexOf("</VAST>")?a.adsResponse=d:(Brid.error("--- BridPlayer --- VAST Template or Ad Tag ndo not have a proper format"),Brid.exLog("VAST Template or Ad Tag does not have a proper format"),
this.parent.onAdError("VAST Template or Ad Tag do not have a proper format"));a.linearAdSlotWidth=c.el.offsetWidth;a.linearAdSlotHeight=c.el.offsetHeight;a.nonLinearAdSlotWidth=c.el.offsetWidth;a.nonLinearAdSlotHeight=c.el.offsetHeight;a.vastLoadTimeout=1E3*this.adTimeout;d=c.config.autoplay;c=c.muted();Brid.log("IMA autoplayAllowed",d);Brid.log("IMA autoplayRequiresMuted",c);a.setAdWillAutoPlay(d);a.setAdWillPlayMuted(c);try{this.adsLoader.requestAds(a)}catch(g){Brid.error("--- BridPlayer --- Google IMA Error. Google IMA initialization failed",
g),Brid.exLog("Google IMA Error. Google IMA initialization failed",g),this.parent.onAdError("Google IMA Error. Google IMA initialization failed")}}},onAdsManagerLoaded:function(d){var c=this.player,a=new google.ima.AdsRenderingSettings;a.loadVideoTimeout=1E3*this.adTimeout;d=this.adsManager=d.getAdsManager(c.tag,a);this.onContentPauseRequestedFunc=this.$f(this.onContentPauseRequested);this.onContentResumeRequestedFunc=this.$f(this.onContentResumeRequested);this.onAdEventFunc=this.$f(this.onAdEvent);
0<d.getCuePoints().length&&-1!==d.getCuePoints().indexOf(-1)&&(c.hasPostroll=!0);d.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.$f(this.onAdError));d.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequestedFunc);d.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequestedFunc);var a=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.STARTED,
google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LOG],b;for(b in a)d.addEventListener(a[b],this.onAdEventFunc);try{Brid.log("GoogleIMA onAdsManagerLoaded adDisplayContainerInitialized",
this.adDisplayContainerInitialized,"canAutoplay",c.canAutoplay(),"isFacebookApp",h.isFacebookApp());if(!this.adDisplayContainerInitialized){if(!c.canAutoplay()){Brid.event.add(k.body,"click",this.$f(this.onInteraction));return}this.onUserInteraction()}this.doStartAd()}catch(g){d&&(d.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequestedFunc),d.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequestedFunc)),Brid.error("--- BridPlayer --- Google IMA Error. There was a problem with the VAST response",
g.getError?g.getError():g),Brid.exLog("Google IMA Error. There was a problem with the VAST response",g.getError?g.getError():g),this.parent.onAdError("Google IMA Error. There was a problem with the VAST response.")}},onInteraction:function(){Brid.event.remove(k.body,"click",this.$f(this.onInteraction));this.onUserInteraction();this.doStartAd()},doStartAd:function(){var d=this.player;this.adsManager.init(d.el.offsetWidth,d.el.offsetHeight,google.ima.ViewMode.NORMAL);this._hasResponse=!0;Brid.log("Bice da smo ovde",
d.config.autoplayInview,!d.isPlayerInView(),d.config.viewability,d.name);if(d.name&&"Brid.Player"==d.name){if(d.config.autoplayInview&&!d.isPlayerInView()){d.config.autoplay_on_ad&&(d.waitForInViewAdAutoplay=!0);this.parent.paused=!0;return}}else if(d.config.autoplayInview&&!d.isPlayerInView()&&d.config.viewability){this.parent.paused=!0;return}Brid.log("Google IMA doStartAd");this.volume(d.values.muted?0:d.values.volume||0);this.adsManager.start()},onAdEvent:function(d){var c=this.player,a=google.ima.AdEvent.Type,
b=this.currentAd=d.getAd();Brid.log("GoogleIMA onAdEvent",d.type);Brid.exLog("GoogleIMA AdEvent",d.type);switch(d.type){case a.LOADED:1<this.currentAd.getAdPodInfo().getTotalAds()&&(this.parent.isPodTag=!0);this.show();if(b.isLinear()){if(b.b&&b.b.vpaid||b.g&&b.g.vpaid||"application/x-shockwave-flash"==b.getContentType())this.isVPAID=!0;Brid.log("GoogleIMA LOADED setVolume muted",c.values.muted,"volume",c.values.volume);this.volume(c.values.muted?0:c.values.volume||0)}else if(!c.currentSrc()){this.onAdError("Google IMA Error. Outstream units do not support non-linear ads");
break}else if(!c.isPlaying)this.parent.adPlayed=!0,this.onContentResumeRequested();else if("1"===this.parent.currentAdObject.adType&&c.paused())this.onContentResumeRequested();h.isMobilePlatform()&&Array.prototype.map.call(c.el.getElementsByTagName("video"),function(a){var b=a.play;a.play=function(){Brid.log("GoogleIMA LOADED play videoNode",a,"videoNode.muted",a.muted,"player.values.muted",c.values.muted);a.muted=c.values.muted;a.play=b;return a.play()}});this.onResize(null);break;case a.STARTED:this.parent.onAdStart(this.isVPAID);
b.isLinear()&&c.trigger("adDuration",{duration:b.getDuration()});Brid.event.remove(k.body,"click",this.$f(this.onInteraction));Brid.log("GoogleIMA STARTED setVolume muted",c.values.muted,"volume",c.values.volume);this.volume(c.values.muted?0:c.values.volume||0);this.onResize(null);break;case a.IMPRESSION:c.showOnAd()&&c.config.autoplayInview&&!c.isPlayerInView()&&this.adsManager.pause();h.isMobilePlatform()&&c.showOnAd()&&setTimeout(this.$f(function(){0!=this.currentAd.getDuration()-this.adsManager.getRemainingTime()||
c.getAdInProgress()||c.fadeInParent()}),1E3);this.parent.onAdImpression();Brid.log("GoogleIMA IMPRESSION setVolume muted",c.values.muted,"volume",c.values.volume);this.volume(c.values.muted?0:c.values.volume||0);break;case a.DURATION_CHANGE:c.trigger("durationChange");break;case a.PAUSED:c.config.blockAdPause&&!c.pausedOnInteraction?this.adsManager.resume():(this.parent.paused=!0,c.trigger("pause"),c.trigger("adPause"));break;case a.RESUMED:this.parent.paused=!1;c.trigger("play");c.trigger("adResume");
break;case a.FIRST_QUARTILE:c.trigger("adFirstQuartile");break;case a.MIDPOINT:c.trigger("adMidpoint");break;case a.THIRD_QUARTILE:c.trigger("adThirdQuartile");break;case a.COMPLETE:this.parent.onAdComplete();break;case a.ALL_ADS_COMPLETED:case a.USER_CLOSE:Brid.log("GoogleIMA",d.type,"getRemainingTime",this.adsManager.getRemainingTime());if(d.type===a.USER_CLOSE&&.1>=this.adsManager.getRemainingTime())this.parent.onAdComplete();if(!this._contentResumeCalled||0<this.adsManager.getCuePoints().length&&
-1!=this.adsManager.getCuePoints().indexOf(-1))this.onContentResumeRequested();!1===b.isLinear()&&this.parent.reset();this.resetManager()}},onContentPauseRequested:function(){Brid.log("GoogleIMA onContentPauseRequested");this._contentResumeCalled=!1;this.parent.onContentPauseRequested()},onContentResumeRequested:function(d){Brid.log("GoogleIMA onContentResumeRequested");this._contentResumeCalled=!0;this.parent.onContentResumeRequested()},onAdError:function(d){d=d&&d.getError&&d.getError()||d;Brid.error("--- BridPlayer --- Google IMA Error. ",
d);Brid.exLog("Google IMA Error.",d);if(this.adsManager){this.adsManager.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequestedFunc);this.adsManager.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequestedFunc);var c=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,
google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LOG];for(a in c)this.adsManager.removeEventListener(c[a],this.onAdEventFunc)}this.isVPAID=!1;if(d&&d.getErrorCode&&d.getErrorCode()==google.ima.AdError.ErrorCode.UNKNOWN_ERROR){var a=google.ima.ImaSdkSettings.VpaidMode;
this.resetManager();this.setVPAIDMode(this.vpaidMode===a.ENABLED?a.INSECURE:a.ENABLED);this.requestAd(this.adTag)}else this.parent.onAdError("Google IMA Error. "+d)},onLastSecond:function(){this.currentAd&&!this.currentAd.isLinear()&&this.parent.stopNonLinear()},stop:function(){this.adsManager&&(Brid.log("GoogleIMA stop"),this.adsManager.stop())},resetManager:function(){Brid.log("GoogleIMA resetManager");this.currentAd&&(this.currentAd=null);this.isVPAID=this.parent.hasAdRules=!1;this.adsManager&&
(this.adsManager.destroy(),this.adsManager=null)},destroyAdsLoader:function(){Brid.log("Google IMA destroyAdsLoader");this.adsLoader&&(this.adsLoader.destroy(),this.adsLoader=null);this.adDisplayContainer&&(this.adDisplayContainer.destroy(),this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1)},isLinear:function(){return this.currentAd?this.currentAd.isLinear():null},start:function(){Brid.log("Google IMA start",this._hasResponse);var d=this.player;this.adsManager&&this._hasResponse?
(this.volume(d.values.muted?0:d.values.volume||0),this.parent.paused=!1,this.adsManager.start()):d.waitingForAd=!0},togglePlay:function(d){Brid.log("GoogleIMA togglePlay",d);this.adsManager&&(d?this.adsManager.resume():this.adsManager.pause())},duration:function(){return this.currentAd?this.currentAd.getDuration():0},currentTime:function(){return this.adsManager&&this.currentAd?this.currentAd.getDuration()-this.adsManager.getRemainingTime():0},volume:function(d){var c=this.adsManager;if("undefined"!==
typeof d)c&&(Array.prototype.map.call(this.el.getElementsByTagName("video"),function(a){0<d?a.removeAttribute("muted"):a.setAttribute("muted","true");a.muted=0===d}),Brid.log("GoogleIMA setVolume val",d),c.setVolume(d));else return c?c.getVolume():0},onResize:function(){var d=this.player,c=d.isFullScreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL,a=this.currentAd;h.css(this.el,{top:"",bottom:"",left:"",right:""});if(this.adsManager&&a)if(a.isLinear())Brid.log("GoogleIMA onResize linear offsetWidth",
d.el.offsetWidth,"offsetHeight",d.el.offsetHeight),this.adsManager.resize(d.el.offsetWidth,d.el.offsetHeight,c);else{var b=d.isFullScreen?90:45,g=a.getWidth(),a=a.getHeight(),g=0>=g?this.el.offsetWidth-50:g,a=0>=a?100:a;h.css(this,{top:d.el.offsetHeight-(a+50)-b+"px",bottom:"auto",left:(d.el.offsetWidth-(g+50))/2+"px",right:"auto"});Brid.log("GoogleIMA onResize non linear ad width",g,"ad height",a);this.adsManager.resize(g+50,a+50,c)}},supportsAdTag:function(d){Brid.log("GoogleIMA supportsAdTag",
d,Brid.Util.adBlockerEnabled);return(h.validateURL(d)||-1!==d.indexOf("<VAST")&&-1!==d.indexOf("</VAST>"))&&"ogv"!==this.player.techName&&!Brid.Util.adBlockerEnabled&&!this.parent.flagOurAd}});Brid.VAST=Brid.Abstract.extend({closeTimeout:null,hasAdRules:!1,isVPAID:!1,jsLoaded:!1,cssLoaded:!1,_hasResponse:!1,adTimeout:15,pbTechInitialized:!1,init:function c(a,b){c.base.call(this,a,b);this.name="Brid.VAST";this.el=b.container;this.parent=b.wrapper;"undefined"===typeof Brid.AdSDK?(b="","//p.brid.tv"==
a.config.Url.servicePlugins&&(b="adsdk/"+Brid.pv.plugins.adsdk.version+"/"),Brid.Loader.load("js",a.config.Url.servicePlugins+"/"+a.config.Url.plugins+b+"brid.adsdk.min.js",this.$f(this.onJSLoded),null,this)):this.triggerReady()},onJSLoded:function(){setTimeout(this.$f(function(){"undefined"!=typeof Brid.AdSDK?this.isReady||this.triggerReady():(this.error=!0,this.parent.onAdError("Brid VAST ERROR. Brid VAST SDK load failed.",!0))}),0)},setupAdsLoader:function(){Brid.log("Brid.VAST setupAdsLoader");
if(!this.adsManager){try{var c=this.adsManager=new Brid.AdSDK.AdsManager(this.player,{},this.el)}catch(a){Brid.error("Brid VAST ERROR. Brid VAST SDK could not be initialized",a);this.error=!0;this.parent.onAdError("Brid VAST ERROR. Brid VAST SDK could not be initialized",!0);return}this.player.tech.support.adManagement?this.hide():(c.add("vast.adEnd",this.$f(this.onAdEnd)),c.add("vast.adStart",this.$f(this.onAdStart)),c.add("vast.contentPauseRequested",this.$f(this.onContentPauseRequested)),c.add("vast.contentResumeRequested",
this.$f(this.onContentResumeRequested)),c.add("vast.adImpression",this.$f(this.onAdImpression)),c.add("vast.adVideoStart",this.$f(this.onAdVideoStart)),c.add("vast.adSkip",this.$f(this.onAdEnd)),c.add("vast.adError",this.$f(this.onAdError)),c.add("vast.adDurationChange",this.$f(this.onAdDurationChange)),c.add("vast.adPause",this.$f(this.onAdPause)),c.add("vast.adResume",this.$f(this.onAdResume)),c.add("vast.adVideoComplete",this.$f(this.onAdComplete)),c.add("vast.selected3rdParty",this.$f(this.on3rdPartySelected)),
c.add(["vast.firstQuartile","vast.midpoint","vast.thirdQuartile"],this.$f(function(a){switch(a.type){case "vast.firstQuartile":this.player.trigger("adFirstQuartile");break;case "vast.midpoint":this.player.trigger("adMidpoint");break;case "vast.thirdQuartile":this.player.trigger("adThirdQuartile")}})),this.player.add("userInteraction",this.$f(this.onUserInteraction)),this.player.add("lastSecond",this.$f(this.onLastSecond)))}},contentComplete:function(){},requestAd:function(c){0<c.indexOf("//googleads")&&
10>c.indexOf("//googleads")&&(c="https://ima3vpaid.appspot.com/?adTagUrl="+c+"&type=js");if(-1!=c.toLowerCase().indexOf("brid_adtimeout")){var a=h.queryStringToObj(c);Brid.log("VAST requestAd params",a);this.adTimeout=a.brid_adtimeout||this.adTimeout;c=h.removeParam("brid_adtimeout",c)}Brid.exLog("Brid.VAST requestAd",c);this.adsManager||this.setupAdsLoader();this.show();this.adUnit=null;this._hasResponse=!1;this.adsManager.config.adCancelTimeout=1E3*this.adTimeout;"ogv"==this.player.techName&&this.player.techCall("pause");
this.adsManager.requestAd(c,this.$f(this.onAdResponse))},onAdResponse:function(){var c=this.player;Brid.exLog("Brid.VAST onAdResponse");this._hasResponse=!0;this.show();c.canAutoplay()||c.userInteracted?(this.pbTechInitialized=!0,this.doStartAd()):Brid.event.add(k.body,"click",this.$f(this.onInteraction,this.id),!0)},onUserInteraction:function(){this.player.remove("userInteraction",this.$f(this.onUserInteraction));Brid.log("Brid.VAST onUserInteraction pbTechInitialized",this.pbTechInitialized,"userInteracted",
this.player.userInteracted);this.parent.currentAdsManager&&"GoogleIMA"==this.parent.currentAdsManager.name||this.player.getAdInProgress()||(this.adsManager||this.setupAdsLoader(),this.pbTechInitialized||(this.pbTechInitialized=!0,this.adsManager.initializePlaybackTech()))},onInteraction:function(){Brid.event.remove(k.body,"click",this.$f(this.onInteraction));this.onUserInteraction();this.doStartAd()},doStartAd:function(){var c=this.player;if(c.name&&"Brid.Player"==c.name){if(c.config.autoplayInview&&
!c.isPlayerInView()){c.config.autoplay_on_ad&&(c.waitForInViewAdAutoplay=!0);Brid.log("PAUZIRAJ");this.parent.paused=!0;return}}else if(c.config.autoplayInview&&!c.isPlayerInView()&&c.config.viewability){this.parent.paused=!0;return}this.adUnit=this.adsManager.playAd();this.adsManager.setAdVolume(this.player.values.muted?0:this.player.values.volume);this.onResize();this.player.showOnAd()},onAdStart:function(){Brid.exLog("Brid.VAST onAdStart");Brid.event.remove(k.body,"click",this.$f(this.onInteraction));
this.adUnit=this.adsManager.adUnit;if(this.isLinear()||this.player.currentSrc())Brid.log("VAST onAdStart setVolume muted",this.player.values.muted,"volume",this.player.values.volume),this.adsManager.setAdVolume(this.player.values.muted?0:this.player.values.volume),this.onResize(),this.parent.onAdStart(this.adsManager.isVPAID);else this.onAdError({data:"Outstream units do not support non-linear ads"})},onAdImpression:function(){var c=this.player;this.adUnit||(this.adUnit=this.adsManager.adUnit);c.showOnAd()&&
c.config.autoplayInview&&!c.isPlayerInView()&&this.adUnit.pauseAd();Brid.log("VAST onAdImpression setVolume muted",this.player.values.muted,"volume",this.player.values.volume);this.adsManager.setAdVolume(c.values.muted?0:c.values.volume);this.parent.onAdImpression()},onAdVideoStart:function(){this.onResize()},onAdComplete:function(){Brid.log("Brid.VAST onAdComplete");Brid.exLog("Brid.VAST onAdComplete");this.parent.onAdComplete()},onAdEnd:function(){Brid.exLog("Brid.VAST onAdEnd");Brid.log("Brid.VAST onAdEnd")},
onContentPauseRequested:function(){this.parent.onContentPauseRequested()},onContentResumeRequested:function(){Brid.log("Brid.VAST onContentResumeRequested waitForPlaylistEnd",this.adsManager.waitForPlaylistEnd);this.adsManager.waitForPlaylistEnd||(this.isLinear()||(this.parent.adPlayed=!0),this.parent.onContentResumeRequested())},onAdPause:function(){Brid.exLog("Brid.VAST onAdPause");var c=this.player;c.config.blockAdPause&&!c.pausedOnInteraction?this.adUnit.resumeAd():(this.parent.paused=!0,c.trigger("pause"),
c.trigger("adPause"))},onAdResume:function(){Brid.exLog("Brid.VAST onAdResume");this.parent.paused=!1;this.adsManager.isVPAID||this.player.trigger("play");this.player.trigger("adResume")},onAdDurationChange:function(){this.player.trigger("durationchange")},on3rdPartySelected:function(){this.parent.thirdParty=!0},onAdError:function(c){this.adsManager.waitForPlaylistEnd||(c=c.data?c.data.error:"",Brid.exLog("Brid.VAST onAdError",c),Brid.log("Brid.VAST onAdError",c),this.parent.onAdError("Brid.VAST onAdError "+
c))},stop:function(){this.adsManager&&this.adsManager.stopAd()},onLastSecond:function(){this.adsManager&&this.adUnit&&!this.isLinear()&&this.parent.stopNonLinear()},resetManager:function(){this.adUnit=null;Brid.log("Brid.VAST resetManager");this.adsManager&&this.adsManager.reset()},destroyAdsLoader:function(){Brid.log("AdSDK destroyAdsLoader");this.pbTechInitialized=!1;this.adsManager&&(this.adsManager.destroyAdsLoader(),this.adsManager.destroy(),this.adsManager=null)},isLinear:function(){return this.adUnit?
this.adsManager.isLinear():null},start:function(){Brid.log("Brid.VAST start adsManager",this.adsManager,"_hasResponse",this._hasResponse);this.adsManager&&this._hasResponse?(this.adsManager.playAd(),this.adsManager.setAdVolume(this.player.values.muted?0:this.player.values.volume),this.parent.paused=!1):this.player.waitingForAd=!0},togglePlay:function(c){Brid.log("Brid.VAST togglePlay",c);this.adsManager&&this.adUnit&&(c?this.adUnit.resumeAd():this.adUnit.pauseAd())},duration:function(){return this.adsManager?
this.adsManager.getAdDuration()||-1:0},currentTime:function(){return this.adsManager?this.adsManager.getAdCurrentTime()||0:0},volume:function(c){var a=this.adsManager;if("undefined"!==typeof c)a&&a.setAdVolume(c);else return a?a.getAdVolume():0},hide:function(){this.el&&h.css(this.el,{display:"none"})},show:function(){this.el&&h.css(this.el,{display:"block"})},onResize:function(){var c=this.player,a=c.isFullScreen?"fullscreen":"normal";h.css(this.el,{top:"",bottom:"",left:"",right:""});if(this.adsManager.isLinear()&&
this.adUnit)Brid.log("VAST onResize isLinear",c.el.offsetWidth,c.el.offsetHeight),this.adsManager.resize(0,0,c.el.offsetWidth,c.el.offsetHeight,a);else if(this.adUnit){var b=c.isFullScreen?90:45,g=this.adUnit.getWidth()||0,k=this.adUnit.getHeight()||0,g=0>=g?this.el.offsetWidth-50:g,k=0>=k?100:k;this.adsManager.resize(c.el.offsetHeight-k-b,(c.el.offsetWidth-g)/2,g,k,a)}},supportsAdTag:function(c){Brid.log("Brid.VAST supportsAdTag",c,Brid.Util.adBlockerEnabled);return(h.validateURL(c)||-1!==c.indexOf("<VAST")&&
-1!==c.indexOf("</VAST>"))&&("ogv"===this.player.techName||-1===c.indexOf("//googleads")||Brid.Util.adBlockerEnabled)}});Brid.BannerAd=Brid.Abstract.extend({default:{adRequestTimeout:15E3,adDuration:15},init:function a(b,g){a.base.call(this,b,g);this.el=g.container;this.parent=g.wrapper;this.name="BannerAd";this.closeButtonInterval=null;this.triggerReady()},requestAd:function(a){function b(){var a=g.ad.getElementsByTagName("iframe");Brid.log("BannerAd checkForIframe iframes",a);if(0<a.length)g.adLoadTimeout=
setTimeout(g.$f(g.onAdLoadError),g.config.adRequestTimeout),(this.adiFrame=a[a.length-1])&&Brid.event.once(this.adiFrame,"load",g.$f(g.onAdLoaded));else if(0<g.ad.getElementsByTagName("img").length||0<g.ad.getElementsByTagName("a").length)g.onAdLoaded();else if(100>=n)n++,setTimeout(b,50);else g.onAdLoadError()}a=a.split("<|>");var g=this,n=0,t;this.config.adDuration=a[1]?parseInt(a[1]):0;a=a[0];a="<div>"+a+"</div>";Brid.log("BannerAd requestAd",a,"adDuration",this.config.adDuration);var u="";this.originalDW=
k.write;k.write=this.$f(function(a){u+=a;/<[a-z][\s\S]*>/i.test(u)&&(t=h.createElement("div",{innerHTML:""}),t.innerHTML=u,g.ad.appendChild(t),u="",g.executeJS(t))});this.ad=h.createElement("div",{className:"brid-banner-ad",innerHTML:a});this.executeJS(this.ad);this.el.appendChild(this.ad);b()},executeJS:function(a){function b(a,b,h){a.getAttribute(h)&&b.setAttribute(h,a.getAttribute(h)||"")}a=[].slice.call(a.getElementsByTagName("script"));0<a.length&&a.slice(0).map(function(a){var g=h.createElement("script");
g.innerHTML=a.innerHTML;b(a,g,"src");b(a,g,"type");b(a,g,"async");a.parentNode.insertBefore(g,a);a.parentNode.removeChild(a)})},onAdLoaded:function(){Brid.log("BannerAd onAdLoaded");k.write=this.originalDW;var a=this.player;a.bannerMode=!0;this.adLoadTimeout&&clearTimeout(this.adLoadTimeout);a.config.enable_close_button||(this.close=new Brid.Close(a,{name:"Close"}),this.close.add("close",this.$f(this.onAdEnd)),this.close.addClass("brid-close-banner"));this.adBannerBar=h.createElement("div",{className:"brid-banner-ad-bar"});
this.el.appendChild(this.adBannerBar);this.adInfo=h.createElement("div",{className:"brid-banner-ad-info",innerHTML:"Advertisement"});this.adBannerBar.appendChild(this.adInfo);a.currentSrc()?h.css(this.el,{"background-color":"#000"}):h.css(a.el,{"background-color":"transparent"});a.controls&&a.controls.hide();a.audioToggle&&a.audioToggle.hide();a.progressControl&&a.progressControl.hide();this.onResize();this.parent.paused=!0;this.parent.onAdStart();this.parent.onAdImpression();this.parent.onContentPauseRequested();
if(a.name&&"Brid.Player"==a.name){if(a.config.autoplayInview&&!a.isPlayerInView()){a.config.autoplay_on_ad&&(a.waitForInViewAdAutoplay=!0);this.waitingForStart=!0;return}}else if(a.showOnAd()&&a.config.autoplayInview&&!a.isPlayerInView()){this.waitingForStart=!0;return}this.initTimeouts()},start:function(){Brid.exLog("BannerAd start");this.waitingForStart&&this.initTimeouts()},stop:function(){this.onAdEnd()},initTimeouts:function(){this.waitingForStart=!1;this.config.adDuration&&(Brid.log("BannerAd onAdLoaded set ad timeout",
this.config.adDuration),this.durationTimeout=setTimeout(this.$f(this.onAdEnd),1E3*this.config.adDuration),this.elapsedTime=0,this.timerInterval=setInterval(this.$f(function(){this.elapsedTime++;this.adInfo.innerHTML="Advertisement: "+(this.config.adDuration-this.elapsedTime)+"s"}),1E3))},onAdEnd:function(){var a=this.player;Brid.log("BannerAd onAdEnd");this.parent.onAdComplete();a.currentSrc()?h.css(this.el,{"background-color":"transparent"}):h.css(a.el,{"background-color":"#000"});a.currentSrc()&&
(this.resetManager(),a.controls&&a.controls.show(),a.progressControl&&a.progressControl.show(),h.isMobilePlatform()&&a.audioToggle&&a.audioToggle.show());this.parent.onContentResumeRequested()},onAdLoadError:function(){Brid.log("BannerAd onAdLoadError");k.write=this.originalDW;this.resetManager();this.parent.onAdError("Banner Ad Load Timeout")},isLinear:function(){return!0},resetManager:function(){this.player.bannerMode=!1;this.adiFrame&&(Brid.event.remove(this.adiFrame,"load",this.$f(this.onAdLoaded)),
this.adiFrame=null);this.closeButtonInterval&&clearInterval(this.closeButtonInterval);this.timerInterval&&clearInterval(this.timerInterval);this.durationTimeout&&clearInterval(this.durationTimeout);this.adLoadTimeout&&clearInterval(this.adLoadTimeout);this.close&&(this.close.destroy(),this.close=null);this.ad&&this.ad.parentNode&&(this.el.removeChild(this.ad),this.ad=null);this.adInfo&&this.adInfo.parentNode&&(this.adBannerBar.removeChild(this.adInfo),this.adInfo=null);this.adBannerBar&&this.adBannerBar.parentNode&&
(this.el.removeChild(this.adBannerBar),this.adBannerBar=null)},setupAdsLoader:function(){},contentComplete:function(){},onResize:function(){if(this.ad){Brid.log("BannerAd onResize");var a=this.player;(280>a.el.offsetHeight||300>a.el.offsetWidth)&&a.resize(300>a.el.offsetWidth?300:a.el.offsetWidth,280>a.el.offsetHeight?280:a.el.offsetHeight);h.css(this.ad,{top:(a.el.offsetHeight-250)/2+15+"px",left:(a.el.offsetWidth-300)/2+"px",width:"300px",height:"250px"})}},hide:function(){this.el&&h.css(this.el,
{display:"none"})},show:function(){this.el&&h.css(this.el,{display:"block"})},supportsAdTag:function(a){return!h.validateURL(a)&&!Brid.Util.adBlockerEnabled},togglePlay:function(a){Brid.log("BannerAd togglePlay",a);this.waitingForStart&&a&&this.initTimeouts();this.parent.paused=!a;a?this.player.trigger("play"):this.player.trigger("pause")},duration:function(){return this.config.adDuration||0},currentTime:function(){return 0},volume:function(){return this.player.values.volume}});n.$bp.plugin("bridgima",
function(a,b){a=a||this;b=b||{};a.isReady?a.addChild(new n.$bp.Advertising(a,b)):n.$bp.Util.merge(a.config.children,{Advertising:{}})});Brid.event.trigger(k,"bridpluginloaded")})(window,document);$bos("Brid_12400481", {"id":"4372","width":"400","height":"225"});




